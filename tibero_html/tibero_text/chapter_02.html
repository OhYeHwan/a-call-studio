<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제1장 TEXT 인덱스</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero TEXT 참조 안내서"/><link rel="up" href="index.html" title="Tibero TEXT 참조 안내서"/><link rel="prev" href="about.html" title="안내서에 대하여"/><link rel="next" href="chapter_03.html" title="제2장 TEXT 질의"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제1장 TEXT 인덱스</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="about.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_03.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_02"/>제1장 TEXT 인덱스<a id="d5e344" class="indexterm"/></h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_02.html#d5e351">1.1. 개요</a></span></dt><dt><span class="section"><a href="chapter_02.html#sect_CTXCAT_INDEX">1.2. CTXCAT 인덱스</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_02.html#d5e364">1.2.1. 인덱스 생성</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e426">1.2.2. 인덱스 제거</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e462">1.2.3. 인덱스 관련 객체</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e539">1.2.4. 인덱스 제약</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_02.html#sect_CONTEXT_INDEX">1.3. CONTEXT 인덱스</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_02.html#d5e559">1.3.1. 인덱스 생성</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e624">1.3.2. 인덱스 제거</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e660">1.3.3. 인덱스 관련 객체</a></span></dt><dt><span class="section"><a href="chapter_02.html#d5e706">1.3.4. 인덱스 제약</a></span></dt></dl></dd></dl></div>
  

  <p/>

  <p/>

  <p><span>Tibero</span> 본 장에서는 CTXCAT 인덱스와 CONTEXT 인덱스의 생성/삭제 방법과
  인덱스와 관련된 객체에 대해 설명한다.</p>

  <p/>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e351"/>1.1. 개요</h2></div></div></div>
    

    <p><span>Tibero</span> TEXT는 텍스트로 구성된 데이터에 대한 질의 성능을 향상시킨
    기능이다.</p>

    <p><span>Tibero</span> TEXT에서는 책 제목, 온라인 쇼핑몰의 상품명 등 비교적 간단한
    정보를 담고 있는 컬럼에서 검색어 질의를 빠르게 처리하기 위한 <span><strong class="guibutton">CTXCAT 인덱스</strong></span>와 책
    본문과 같은 큰 일관성있는 문서를 인덱싱하는 <span><strong class="guibutton">CONTEXT 인덱스</strong></span>를 제공하고
    있다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_CTXCAT_INDEX"/>1.2. CTXCAT 인덱스<a id="d5e361" class="indexterm"/></h2></div></div></div>
    

    <p>본 절에서는 CTXCAT 인덱스의 생성/제거, 관련 객체 제약 사항에 대해서 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e364"/>1.2.1. 인덱스 생성<a id="d5e366" class="indexterm"/><a id="d5e368" class="indexterm"/></h3></div></div></div>
      

      <p>CTXCAT 인덱스 생성 방법은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>사용법</p>

          <pre class="programlisting">CREATE INDEX <span class="emphasis"><em>idx_name</em></span> on [<span class="emphasis"><em>sch_name</em></span>.]<span class="emphasis"><em>tbl_name</em></span> ON <span class="emphasis"><em>col_name</em></span> CTXCATINDEX [<span class="emphasis"><em>parameters</em></span>]
          [PARAMETERS('[<span class="emphasis"><em>preferences_class_name</em></span> <span class="emphasis"><em>user_defined_preference_name</em></span>]') </pre>

          <div class="informaltable"><a id="table_catsearch_syntax"/>
            <table border="1"><colgroup><col width="180" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">idx_name</td><td>생성할 CTXCAT 인덱스의 이름이다.</td></tr><tr><td align="left">sch_name</td><td>인덱스를 생성할 대상 테이블의 소유자를 설정한다.</td></tr><tr><td align="left">tbl_name</td><td>인덱스를 생성할 대상 테이블을 설정한다.</td></tr><tr><td align="left">col_name</td><td>인덱스를 생성할 대상 column VARCAHR2 TYPE이어야 한다.</td></tr><tr><td align="left">CTXCATINDEX</td><td>CTXCAT 인덱스로 생성함을 의미하는 예약어이다.</td></tr><tr><td align="left">parameters</td><td>CTXCAT 인덱스를 생성할 때 사용할 설정을 지정하는 예약어이다.</td></tr><tr><td align="left">preferences_class_name</td><td>CTXCAT 인덱스를 생성할 때 설정을 지정할 클래스이다.</td></tr><tr><td align="left">user_defined_preference_name</td><td>위에서 지정된 CLASS에 대해 생성한 PREFERENCE이다.</td></tr></tbody></table>
          </div>

          <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
            <p>PREFERENCE, CLASS 등 인덱스의 설정과 관련된 자세한 내용은 <a href="chapter_04.html" title="제3장 TEXT Indexing Elements">“제3장 TEXT Indexing Elements”</a>를 참고한다.</p>
          </div>

          <p/>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">SQL&gt;create table t(name varchar(400));

Table 'T' created.

SQL&gt;create index t_idx on t(name) ctxcatindex;

Index 'T_IDX' created. </pre><div class="caution" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">주의</h3>
              <p>TEXT 인덱스 관련 쿼리를 실행할 때 내부적으로 'TEXT'라는 이름의 패키지를 사용하기 때문에 테이블
              이름을 'TEXT'로 지정하지 않는다.</p>
            </div>
        </li></ul></div>
    </div>

    

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e426"/>1.2.2. 인덱스 제거<a id="d5e428" class="indexterm"/><a id="d5e430" class="indexterm"/><a id="d5e433" class="indexterm"/><a id="d5e435" class="indexterm"/></h3></div></div></div>
  

  <p/>

  <p>CTXCAT 인덱스, CONTEXT 인덱스를 제거하기 위한 SQL은 다른 인덱스의 경우와 동일하다.</p>

  <p/>

  <div class="itemizedlist"><ul type="disc" compact="compact"><li>
      <p>사용법</p>

      <pre class="programlisting">DROP INDEX <span class="emphasis"><em>index_name</em></span> </pre>

      <div class="informaltable"><a id="table_catsearch_syntax"/>
        <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">index_name</td><td>삭제할 TEXT 인덱스의 이름이다.</td></tr></tbody></table>
      </div>
    </li><li>
      <p>예제</p>

      <pre class="programlisting">SQL&gt;drop index t_idx;

Index 'T_IDX' dropped. </pre>
    </li></ul></div>
</div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e462"/>1.2.3. 인덱스 관련 객체<a id="d5e464" class="indexterm"/><a id="d5e466" class="indexterm"/></h3></div></div></div>
      

      <p>CTXCAT 인덱스를 생성할 때 다음과 같은 객체가 생성된다.</p>

      <div class="informaltable"><a id="table_ctxcat_object"/>
        <table border="1"><colgroup><col width="170" align="left"/><col width="70" align="left"/><col/></colgroup><thead><tr><th align="left">객체 이름</th><th align="left">객체 타입</th><th>설명</th></tr></thead><tbody><tr><td align="left">DR$index_name$I<a id="d5e482" class="indexterm"/><a id="d5e485" class="indexterm"/></td><td align="left">테이블</td><td>컬럼 텍스트의 토큰이 저장되는 테이블이다.</td></tr><tr><td align="left">DR$index_name$R<a id="d5e491" class="indexterm"/><a id="d5e494" class="indexterm"/></td><td align="left">인덱스</td><td>토큰 테이블의 rowid 컬럼에 걸리는 인덱스이다.</td></tr><tr><td align="left">DR$index_name$X<a id="d5e500" class="indexterm"/><a id="d5e503" class="indexterm"/></td><td align="left">인덱스</td><td>토큰 테이블의 토큰 컬럼과 rowid 컬럼에 걸리는 인덱스이다.</td></tr><tr><td align="left">DR$index_name_TRG_I<a id="d5e509" class="indexterm"/><a id="d5e512" class="indexterm"/></td><td align="left">트리거</td><td>CTXCAT 인덱스가 걸린 컬럼에 데이타가 입력될 때 입력 데이터를 토큰 테이블에 입력하기 위한
              트리거이다.</td></tr><tr><td align="left">DR$index_name_TRG_D<a id="d5e518" class="indexterm"/><a id="d5e521" class="indexterm"/></td><td align="left">트리거</td><td>CTXCAT 인덱스가 걸린 컬럼에 데이타가 삭제될 때 해당 토큰을 삭제하기 위한
              트리거이다.</td></tr><tr><td align="left">DR$index_name_TRG_U<a id="d5e527" class="indexterm"/><a id="d5e530" class="indexterm"/></td><td align="left">트리거</td><td>CTXCAT 인덱스가 걸린 컬럼에 데이타가 수정될 때 해당 토큰을 수정하기 위한
              트리거이다.</td></tr></tbody></table>
      </div>

      <p/>

      <p/>

      <p/>

      <p/>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e539"/>1.2.4. 인덱스 제약<a id="d5e541" class="indexterm"/><a id="d5e543" class="indexterm"/></h3></div></div></div>
      

      <p>CTXCAT 인덱스는 다음과 같은 경우에 제약을 가진다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>여러 컬럼에 대해 하나의 CTXCAT 인덱스를 걸 수 없다.</p>
        </li><li>
          <p>TEXT 인덱스는 파티션이 될 수 없다.</p>
        </li><li>
          <p>TEXT 인덱스는 VARCHAR2 타입인 컬럼에 대해서만 생성할 수 있다.</p>
        </li></ul></div>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_CONTEXT_INDEX"/>1.3. CONTEXT 인덱스<a id="d5e556" class="indexterm"/></h2></div></div></div>
    

    <p>본 절에서는 CONTEXT 인덱스의 생성/제거, 관련 객체 제약 사항에 대해서 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e559"/>1.3.1. 인덱스 생성<a id="d5e561" class="indexterm"/><a id="d5e563" class="indexterm"/></h3></div></div></div>
      

      <p>CONTEXT 인덱스 생성 방법은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>사용법</p>

          <pre class="programlisting">CREATE INDEX <span class="emphasis"><em>idx_name</em></span> on [<span class="emphasis"><em>sch_name</em></span>.]<span class="emphasis"><em>tbl_name</em></span> INDEXTYPE IS CTXSYS.CONTEXT
   parameters('<span class="emphasis"><em>preferences_class_name</em></span> <span class="emphasis"><em>user_defined_preference_name</em></span> sync(option)') </pre>

          <div class="informaltable"><a id="table_context_syntax"/>
            <table border="1"><colgroup><col width="180" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">idx_name</td><td>생성할 CONTEXT 인덱스의 이름이다.</td></tr><tr><td align="left">sch_name</td><td>인덱스를 생성할 대상 테이블의 소유자를 설정한다.</td></tr><tr><td align="left">tbl_name</td><td>인덱스를 생성할 대상 테이블을 설정한다.</td></tr><tr><td align="left">CTXSYS.CONTEXT</td><td>CONTEXT 인덱스로 생성함을 의미하는 예약어이다.</td></tr><tr><td align="left">parameters</td><td>CONTEXT 인덱스를 생성할 때 사용할 설정을 지정하는 예약어이다.</td></tr><tr><td align="left">preferences_class_name</td><td>CONTEXT 인덱스를 생성할 때 설정을 지정할 클래스이다.</td></tr><tr><td align="left">user_defined_preference_name</td><td>위에서 지정된 CLASS에 대해 생성한 PREFERENCE이다.</td></tr><tr><td align="left">sync(option)</td><td>CONTEXT 인덱스의 자동 동기화를 위해 사용 된다. 다음과 같이 on commit,
                  every 2가지 방법이 있다. <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>ON COMMIT : 커밋 후 인덱스를 동기화한다. 동기화가 끝날 때 까지 커밋이
                        리턴되지 않는다.</p>
                      </li><li style="list-style-type: circle">
                        <p>EVERY : interval-string 값으로 지정된 일정한 간격으로 인덱스를
                        자동으로 동기화 한다. EVERY를 사용하는 동기화는 작성자가 create job 특권이 있어야
                        한다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>

          <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
            <p>PREFERENCE, CLASS 등 인덱스의 설정과 관련된 자세한 내용은 <a href="chapter_04.html" title="제3장 TEXT Indexing Elements">“제3장 TEXT Indexing Elements”</a>를 참고한다.</p>
          </div>

          <p/>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">SQL&gt;create table t(name varchar(400), value varchar(1000));

Table 'T' created.                                                               

SQL&gt;create index t_idx on t(name) indextype is ctxsys.context
parameters('sync(on commit)');                

Index 'T_IDX' created. 

SQL&gt;create index t_idx2 on t(value) indextype is ctxsys.context
parameters('sync(every sysdate+1/24/60)');

Index 'T_IDX2' created.
</pre><div class="caution" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">주의</h3>
              <p>TEXT 인덱스 관련 쿼리를 실행할 때 내부적으로 'TEXT'라는 이름의 패키지를 사용하기 때문에 테이블
              이름을 'TEXT'로 지정하지 않는다.</p>
            </div>
        </li></ul></div>
    </div>

    

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e624"/>1.3.2. 인덱스 제거<a id="d5e626" class="indexterm"/><a id="d5e628" class="indexterm"/><a id="d5e631" class="indexterm"/><a id="d5e633" class="indexterm"/></h3></div></div></div>
  

  <p/>

  <p>CTXCAT 인덱스, CONTEXT 인덱스를 제거하기 위한 SQL은 다른 인덱스의 경우와 동일하다.</p>

  <p/>

  <div class="itemizedlist"><ul type="disc" compact="compact"><li>
      <p>사용법</p>

      <pre class="programlisting">DROP INDEX <span class="emphasis"><em>index_name</em></span> </pre>

      <div class="informaltable"><a id="table_catsearch_syntax"/>
        <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">index_name</td><td>삭제할 TEXT 인덱스의 이름이다.</td></tr></tbody></table>
      </div>
    </li><li>
      <p>예제</p>

      <pre class="programlisting">SQL&gt;drop index t_idx;

Index 'T_IDX' dropped. </pre>
    </li></ul></div>
</div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e660"/>1.3.3. 인덱스 관련 객체<a id="d5e662" class="indexterm"/><a id="d5e664" class="indexterm"/></h3></div></div></div>
      

      <p>CONTEXT 인덱스를 생성할 때 다음과 같은 객체가 생성된다.</p>

      <div class="informaltable"><a id="table_context_object"/>
        <table border="1"><colgroup><col width="170" align="left"/><col width="70" align="left"/><col/></colgroup><thead><tr><th align="left">객체 이름</th><th align="left">객체 타입</th><th>설명</th></tr></thead><tbody><tr><td align="left">DR$index_name$I<a id="d5e680" class="indexterm"/><a id="d5e683" class="indexterm"/></td><td align="left">테이블</td><td>컬럼 텍스트의 토큰이 저장되는 테이블이다.</td></tr><tr><td align="left">DR$index_name$X<a id="d5e689" class="indexterm"/><a id="d5e692" class="indexterm"/></td><td align="left">인덱스</td><td>토큰 테이블의 토큰 컬럼과 rowid 컬럼에 걸리는 인덱스이다.</td></tr><tr><td align="left">DR$index_name$K<a id="d5e698" class="indexterm"/><a id="d5e701" class="indexterm"/></td><td align="left">테이블</td><td>토큰 테이블의 document ID가 저장되는 테이블이다.</td></tr></tbody></table>
      </div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e706"/>1.3.4. 인덱스 제약<a id="d5e708" class="indexterm"/><a id="d5e710" class="indexterm"/></h3></div></div></div>
      

      <p>CONTEXT 인덱스는 다음과 같은 경우에 제약을 가진다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>여러 컬럼에 대해 하나의 CONTEXT 인덱스를 걸 수 없다.</p>
        </li><li>
          <p>CONTEXT 인덱스는 글로벌 파티션이 될 수 없다.</p>
        </li><li>
          <p>CONTEXT 인덱스는 BASIC_LEXER, CHINESE_LEXER의 경우 VARCHAR2 타입과 CLOB
          타입인 컬럼에 대해서만 생성할 수 있다.</p>
        </li><li>
          <p>CONTEXT 인덱스는 JAPANESE_LEXER의 경우 VARCHAR2 타입인 컬럼에 대해서만 생성할 수
          있다.</p>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="about.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_03.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">안내서에 대하여 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제2장 TEXT 질의</td></tr></table></div><div xmlns="" align="center"/></body></html>