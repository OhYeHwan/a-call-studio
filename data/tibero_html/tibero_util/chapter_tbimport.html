<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제3장 tbImport</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero 유틸리티 안내서"/><link rel="up" href="index.html" title="Tibero 유틸리티 안내서"/><link rel="prev" href="chapter_tbexport.html" title="제2장 tbExport"/><link rel="next" href="chapter_tbloader.html" title="제4장 tbLoader"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제3장 <span xmlns="http://www.w3.org/1999/xhtml">tbImport</span></td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_tbexport.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_tbloader.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_tbimport"/>제3장 <span>tbImport</span></h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_tbimport.html#d5e5382">3.1. 개요</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e5419">3.2. 빠른 시작</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_tbimport.html#d5e5425">3.2.1. 실행 전 준비사항</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e5450">3.2.2. Import 모드</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e5494">3.2.3. 실행</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_tbimport.html#d5e5514">3.3. 수행 방법</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_tbimport.html#d5e5521">3.3.1. 제약조건이 있는 테이블의 Import</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e5528">3.3.2. 호환이 가능한 테이블의 Import</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e5546">3.3.3. 이미 존재하는 테이블에 데이터 Import</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_tbimport.html#d5e5564">3.4. <span>tbImport</span> 유틸리티</a></span></dt><dt><span class="section"><a href="chapter_tbimport.html#d5e6011">3.5. 수행 예제</a></span></dt></dl></div>
  

  <p>본 장에서는 <span>tbImport</span> 유틸리티를 소개하고 사용 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5382"/>3.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton"><span>tbImport</span><a id="d5e5387" class="indexterm"/></strong></span>는 <span>Tibero</span>에서 제공하는 Import 유틸리티이다. 이 유틸리티를 통해 외부 파일에 저장된 스키마 객체를 <span>Tibero</span> 데이터베이스에 다시 저장하므로, <span>tbExport</span> 유틸리티와 함께 데이터베이스의 백업과 다른 머신 간의 데이터베이스
    전송 등을 할 때 유용하다. <span>tbImport</span> 유틸리티는 기능에서 <span>tbExport</span> 유틸리티와 대칭적이거나 유사한 것이 많다.</p>

    <p>하나의 스키마 객체를 저장하면 그와 연관된 스키마 객체가 자동으로 함께 저장된다. 필요에 따라서 연관된 일부 스키마 객체가
    저장되지 않도록 지정할 수 있다.</p>

    <p>Import 모드에는 <span>tbExport</span>에서와 같이 전체 데이터베이스 모드, 사용자 모드, 테이블 모드가
    있다. DBA만이 사용할 수 있으며, DBA 권한을 줄 수 없을 경우 SELECT ANY DICTIONARY 권한을 부여하여 사용하는
    것을 권장한다.</p>

    <div class="literallayout"><p/></div>

    <p>Import가 실행되는 과정에서 발생하는 로그는 LOG 파라미터를 사용하여 지정한다.</p>

    <p>다음은 <span>tbImport</span> 유틸리티를 실행한 결과로 생성되는 완료, 경고 및 에러 메시지에 대한
    설명이다.</p>

    <div class="informaltable">
      <table border="1"><colgroup><col width="100" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">완료 메시지</td><td>Import가 성공적으로 완료된 후에 출력된다.</td></tr><tr><td align="left">경고 메시지</td><td>Import가 완료되었으나 경고가 발생한 경우에 출력된다.</td></tr><tr><td align="left">에러 메시지</td><td>Import 과정에서 에러가 발생하여 Import를 계속할 수 없는 경우에 출력된다.</td></tr></tbody></table>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5419"/>3.2. 빠른 시작</h2></div></div></div>
    

    <p><span>tbImport</span> 유틸리티는 <span>Tibero</span>를 설치하는 과정에서 함께 설치되며, <span>Tibero</span>를 제거하면 함께 제거된다. 또한 Java 언어로 구현되어 있으며, JVM(Java Virtual
    Machine)이 설치되어 있는 어떤 플랫폼에서도 바로 운영할 수 있다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5425"/>3.2.1. 실행 전 준비사항</h3></div></div></div>
      

      <p><span>tbImport</span> 유틸리티를 실행하기 전에 다음과 같은 사항을 준비해야
      한다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>JRE 1.4.2 이상 설치</p>
        </li><li>
          <p><span>Tibero</span> 데이터베이스 서버와 같은 플랫폼에 설치되어 있거나
          네트워크로 연결된다.</p>
        </li><li>
          <p>실행에 필요한 클래스 라이브러리(기본 위치: $<span>TB_</span>HOME/client/lib/jar 디렉터리)</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p><span>tbImport</span> 클래스 : expimp.jar</p>
            </li><li>
              <p>유틸리티 공통 라이브러리 : toolcom.jar</p>
            </li><li>
              <p>유틸리티 공통 Logger 라이브러리 : msllogger-14.jar</p>
            </li><li>
              <p>JDBC 드라이버 : internal-jdbc-14.jar</p>
            </li></ul></div>
        </li></ul></div>

      <p>실행에 필요한 클래스 라이브러리는 <span>Tibero</span>를 설치하는 과정에 함께 설치되므로 추가적인 작업을 할 필요는 없다.</p>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5450"/>3.2.2. Import 모드</h3></div></div></div>
      

      <p>Import 모드<a id="d5e5453" class="indexterm"/>는 Export 모드와 동일하게 전체 데이터베이스 모드, 사용자 모드, 테이블 모드가 있다.
      Export를 한 파일을 소스로 하여 각 모드의 특성에 맞게 데이터를 Import한다. 각 모드는 파라미터를 사용하여 지정할 수
      있다.</p>

      <p>다음은 모드별로 Import하는 스키마 객체의 포함 관계를 나타내는 그림이다.</p>

      <div class="figure"><a id="d5e5456"/><p class="title"><b>[그림 3.1] Import 모드</b></p><div class="figure-contents">
        

        <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="600"><tr><td align="left"><img src="resources/import_mode.png" align="top" width="600" alt="Import 모드"/></td></tr></table></div>
      </div></div><br class="figure-break"/>

      <div class="literallayout"><p/></div>

      <h4><a id="d5e5462"/>전체 데이터베이스 모드<a id="d5e5463" class="indexterm"/></h4>

      <p>전체 데이터베이스 모드는 Export한 파일로부터 <span>Tibero</span> 데이터베이스 전체를 Import하기 위한 모드이다. SYS 사용자를 제외한 모든 사용자의 객체를
      Import하기 위해 사용한다.</p>

      <p>전체 데이터베이스 모드를 사용하기 위해서는 FULL 파라미터를 Y로 설정한다.</p>

      <pre class="programlisting">FULL=Y</pre>

      <div class="literallayout"><p/></div>

      

      <h4><a id="d5e5471"/>사용자 모드<a id="d5e5472" class="indexterm"/></h4>

      <p>사용자 모드는 Export한 파일로부터 SYS 사용자를 제외한 지정된 사용자에 대해 그 사용자가 소유하고 있는 모든
      스키마 객체를 Import하는 모드이다. DBA는 하나 이상의 사용자에게 이 모드를 사용할 수 있다.</p>

      <p>사용자 모드를 사용하기 위해서는 USER 파라미터를 USER=userlist 형태로 설정한다.</p>

      <pre class="programlisting">USER=SCOTT, USER1, …</pre>

      <div class="literallayout"><p/></div>

      <h4><a id="d5e5479"/>테이블 모드<a id="d5e5480" class="indexterm"/></h4>

      <p>테이블 모드는 Export한 파일로부터 하나 이상의 테이블을 지정하여 그 테이블과 연관된 인덱스 등의 스키마 객체를
      함께 Import하는 모드이다.</p>

      <p>테이블 모드를 사용하기 위해서는 TABLE 파라미터를 TABLE=tablelist 형태로 설정한다. 주의할 점은
      SCOTT.EMP와 같이 테이블을 소유한 사용자를 반드시 명시해야 한다는 것이다.</p>

      <pre class="programlisting">TABLE=SCOTT.EMP, USER1.TABLE1, …</pre>

      <div class="literallayout"><p/></div>

      <h4><a id="d5e5487"/>From User To User 모드<a id="d5e5488" class="indexterm"/></h4>

      <p>From User To User 모드는 Export한 파일로부터 FROMUSER 파라미터에 지정한 사용자에 대해서
      TOUSER 파라미터에 지정한 사용자로 해당 스키마 객체의 소유자를 변경하여 Import하는 모드이다. DBA는 하나 이상의
      사용자에게 이 모드를 사용할 수 있다.</p>

      <p>From User To User 모드를 사용하기 위해서는 다음과 같은 형식으로 파라미터를 설정한다.</p>

      <pre class="programlisting">FROMUSER=SCOTT,USER1 TOUSER=USER2,USER3…</pre>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5494"/>3.2.3. 실행</h3></div></div></div>
      

      <p><span>tbImport</span> 유틸리티를 실행하려면 <span><strong class="guibutton">$<span>TB_</span>HOME/client/bin</strong></span> 디렉터리에서
      <span><strong class="guibutton"><span>tbimport</span></strong></span> 명령어를 입력한다.</p>

      <p>다음은 전체 데이터베이스모드로 실행하는 예이다.</p>

      <div class="example"><a id="d5e5503"/><p class="title"><b>[예 3.1] <span>tbImport</span> 유틸리티의 실행</b></p><div class="example-contents">
        

        

        <pre class="programlisting">$ <span>tbimport</span> username=<span>tibero</span> password=<span>tmax</span> sid=<span>tibero</span> file=export.dat full=y
$ <span>tbimport</span> cfgfile=import.cfg</pre>
      </div></div><br class="example-break"/>

      <p/>

      <p/>

      
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5514"/>3.3. 수행 방법<a id="d5e5516" class="indexterm"/></h2></div></div></div>
    

    <p>본 절에서는 각 상황별 Import 수행 방법에 대해서 설명한다.</p>

    <p/>

    <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5521"/>3.3.1. 제약조건이 있는 테이블의 Import</h3></div></div></div>
      

      <p><span>tbImport</span> 유틸리티를 실행하는 중에 테이블에 제약조건이 설정되어 있는 경우
      이 제약조건을 위반하는 로우는 저장되지 않는다.</p>

      <p>만약 <span>tbImport</span> 유틸리티의 실행 순서로 테이블 데이터보다 테이블 제약조건을 먼저
      저장한다면, 제약조건을 위반하여 저장되지 않는 로우가 생길 것이다. 예를 들어 참조 무결성 제약조건이 설정되어 있는 두 테이블에서
      자식 테이블의 데이터를 부모 테이블보다 먼저 저장한다면, 자식 테이블에는 한 개의 로우도 저장되지 않을 것이다.</p>

      <p>따라서 제약조건이 있는 테이블을 Import할 때에는 모든 테이블 데이터를 입력하고 나중에 테이블 제약조건을
      설정한다.</p>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5528"/>3.3.2. 호환이 가능한 테이블의 Import</h3></div></div></div>
      

      <p><span>tbImport</span> 유틸리티를 실행하기 전에 데이터베이스에 사용자가 직접 같은 이름의
      테이블을 정의할 수 있다. 이때 새로 정의하는 테이블은 <span>tbImport</span> 유틸리티를 실행할 테이블과 호환성을 유지하는 한도에서 다르게
      정의할 수 있다.</p>

      <p>테이블 간의 호환성을 유지하려면 다음의 사항에 주의한다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p><span>tbImport</span> 유틸리티를 실행할 테이블</p>

            <p>해당 테이블이 포함하는 컬럼을 모두 포함해야 한다.</p>
          </li><li>
            <p>데이터 타입</p>

            <p>상호 호환성이 있어야 하며 기본값 등을 변경하면 안 된다.</p>
          </li><li>
            <p>새로운 컬럼을 추가하는 경우</p>

            <p>NOT NULL 또는 기본 키 제약조건 등을 설정하지 않아야 한다.</p>
          </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e5546"/>3.3.3. 이미 존재하는 테이블에 데이터 Import</h3></div></div></div>
      

      <p>데이터베이스 내에 이미 존재하는 같은 이름의 테이블에 <span>tbImport</span> 유틸리티를 실행할 수도 있다. 이 때에도 앞에서 설명한 바와 같이
      두 테이블 간에 호환성을 유지해야 한다.</p>

      <p><span>tbImport</span> 유틸리티를 실행하기 전에 사용자가 같은 이름의 테이블을 정의하거나
      데이터베이스 내에 같은 이름의 테이블이 이미 존재하는 경우 테이블에 미리 설정되어 있는 제약조건에 의해 <span>tbImport</span> 유틸리티에 저장되지 않는 로우가 생길 수 있다.</p>

      <p>이미 존재하는 테이블에 데이터를 Import할 때에는 다음의 두 가지 방법을 사용할 수 있다. </p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>제약조건의 정지</p>

            <p><span>tbImport</span> 유틸리티를 실행하는 동안에 제약조건을 잠시
            정지시킨다.</p>
          </li><li>
            <p>실행 순서 조절</p>

            <p><span>tbImport</span> 유틸리티를 실행하는 동안에 실행 순서를 조절한다. 예를
            들어 참조 무결성 제약조건이 설정되어 있는 두 테이블에 대해 부모 테이블을 먼저 저장하고 나중에 자식 테이블을
            저장한다.</p>
          </li></ul></div>

      <p>테이블의 크기가 매우 큰 경우에는 순서 조절을 이용하는 후자의 해결 방법이 성능 면에서 유리하다. 제약조건을 잠시
      정지시키는 방법의 경우 제약조건을 다시 허용하면 테이블 내의 모든 로우에 대해 제약조건의 성립 여부를 검사하기 때문에 성능 면에서
      좋지 않은 영향을 줄 수 있다.</p>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5564"/>3.4. <span>tbImport</span> 유틸리티<a id="d5e5567" class="indexterm"/></h2></div></div></div>
    

    <p>본 절에서는 명령 프롬프트에서 지정할 수 있는 <span>tbImport</span> 유틸리티의 파라미터를 설명한다.</p>

    <div class="literallayout"><p/></div>

    <p>사용자가 파라미터 값을 지정하지 않고 <span>tbImport</span> 유틸리티를 실행하면, 다음과 같이 명령 프롬프트에서 지정할 수 있는
    파라미터의 목록과 사용법이 나타난다.</p>

    <pre class="programlisting"><span>tbImport</span> 7.0 101902 <span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.
Usage: <span>tbimport</span> [options] [parameter=value parameter=value ...]

Options:
  -h|--help        Display the more detailed information.
  -v|--version     Display the version information.
  -p|--patch       Display the binary's patch information.

Parameters:    
    BIND_BUF_SIZE     Specify the buffer size of DPL stream, default: 1M(1048576)
    CFGFILE           Config file name
    COMPRESS          Compress Mode: Y/N, default: N
    COMMIT            Commit after the insertion, default: N
    CONSTRAINT        Import Constraint: Y/N, default: Y
    DBLINK            Import DB Link: Y/N, default: Y
    DPL               Use Direct Path Load: Y/N, default: N
    ENCRYPTION_PASSWORD Specifies a password for accessing encrypted data 
                        in the Dump File
    EXCLUDE_TABLE     Exclude Imported Table, default: None
    EXCLUDE_USER      Exclude Imported User, default: None
    EXP_SERVER_VER    Specify the exported server version, default: 8
    FILE              Import dump file name, default: default.dat
    FROMUSER          FromUser toUser Mode: user name list
                      (must be used with TOUSER parameter) 
    FULL              Full Mode: Y/N, default: N
    GRANT             Import Grant: Y/N, default: Y
    GEOM_ASBYTES      Import the data to the geometry columns as bytes, default: N
    IGNORE            Ignore create error due to object existence: Y/N, default: N
    INDEX             Import Index: Y/N, default: Y
    IO_BUF_SIZE       Specify the buffer size of file I/O, default: 16M(16777216)
    IP                IP address, default: localhost
    LOG               Import script log file name
    LOGDIR            Import log directory
    NATIONAL_CHARSET  Specify the exported national character set, 
                      default is the exported character set 
    NOLOGGING         Import Table's NOLOGGING attribute: Y/N, default: N
    NO_PACK_DIR       Import unpacked dump files from specified directory.
                      If this option is specified, FILE parameter will be ignored.
    PACK_TYPE         Packing algorithm: TAR/ZIP, default: TAR
    PASSWORD          User password
    ROLE              Import Role: Y/N, default: Y
    PORT              PORT number, default: 8629
    PSM               Import PSM: Y/N, default: Y
    P_DPL             Use Parallel DPL: Y/N, default: N
    ROWS              Import Table Rows: Y/N, default: Y
    SAVE_CREDENTIAL   Save your username and password to specified file
    SCRIPT            LOG THE DDL SCRIPT: Y/N, default: N
    SEQUENCE          Import Sequence: Y/N, default: Y
    SID               Database name
    STATISTICS        Import Statistics: Y/N, default: N 
    SYNONYM           Import Synonym: Y/N, default: Y
    TABLE             Table Mode: table name list
    TEMP_DIR          Directory for the temporary raw dump files.
    THREAD_CNT        Thread Count, default: 4
    TOUSER            FromUser toUser Mode: user name list
                      (must be used with FROMUSER parameter) 
    TRIGGER           Import Trigger: Y/N, default: Y
    USER              User Mode: user name list 
    USERNAME          Database user name  </pre>

    <p>다음은 명령 프롬프트에서 지정할 수 있는 <span>tbImport</span> 유틸리티의 파라미터이다.</p>

    <div class="informaltable">
      <table border="1"><colgroup><col width="180" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">BIND_BUF_SIZE</td><td>Import를 DPL 모드로 실행할 때 stream에서 사용하는 bind buffer의 크기를 조절한다.
            (기본값: 1MB(1048576))</td></tr><tr><td align="left">CFGFILE</td><td>환경설정 파일의 이름이다.</td></tr><tr><td align="left">COMPRESS</td><td><p>Export할 때 Compress된 파일을 Import한다.
            </p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : Compress 모드로 Import한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : Compress 모드로 Import하지 않는다. (기본값)</p>
                </li></ul></div><p>Compress 모드를 사용하는 경우 단일 스레드로
            동작한다.</p></td></tr><tr><td align="left">COMMIT</td><td><p>insert 작업 후에 commit을 수행한다. (기본값:
            N)</p><p>insert 작업의 단위는 아래와 같다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>CPL로 import할 때 기본적으로 bind insert buffer size인 1MB를 넘었을
                  때 commit을 수행한다. 만약 LONG, LONG RAW 컬럼이 있다면 row 단위로 commit을
                  수행한다.</p>
                </li><li style="list-style-type: circle">
                  <p>DPL로 import할 때 BIND_BUF_SIZE로 지정된 크기를 넘었을 때 commit을
                  수행한다.</p>
                </li></ul></div></td></tr><tr><td align="left">CONSTRAINT</td><td><p>Import를 수행할 때 제약조건의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 제약조건을 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : 제약조건을 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">DPL</td><td><p>DPL 방법으로 Import할지 여부를 지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : DPL 방법을 사용한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : DPL 방법을 사용하지 않는다. (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">DBLINK</td><td><p>Import를 수행할 때 DBLink의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : DBLink를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : DBLink를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">ENCRYPTION_PASSWORD</td><td>Export할 때 사용했던 ENCRYPTION_PASSWORD를 입력하여 덤프 파일의 암호화된 데이터에
            접근한다.</td></tr><tr><td align="left">EXCLUDE_TABLE</td><td><p>Import할 때 특정 테이블을 제외하고 Import 한다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
                  <p>사용법</p>

                  <pre class="programlisting">EXCLUDE_TABLE=<span class="emphasis"><em>tablelist</em></span></pre>
                </li><li>
                  <p>예제</p>

                  <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                      <p>콤마(,)를 사용하여 다수의 테이블을 제외시킨다. 콤마를 사용하는 경우 콤마 앞뒤로
                      띄어쓰기가 있으면 안 된다.</p>

                      <pre class="programlisting">EXCLUDE_TABLE=table1,table2</pre>
                    </li><li style="list-style-type: circle">
                      <p>username과 함께 tablename을 지정한다.</p>

                      <pre class="programlisting">EXCLUDE_TABLE=user1.table1</pre><p>username
                      없이 tablename만 사용한다면 user 상관없이 동일한 tablename을 가지는 모든 테이블에
                      효과가 있다.</p>
                    </li><li style="list-style-type: circle">
                      <p>tablename과 username.tablename은 동시에 사용 가능하다.</p>

                      <pre class="programlisting">EXCLUDE_TABLE=table1,user1.table2</pre>
                    </li><li style="list-style-type: circle">
                      <p>tablename이 중복되게 지정하는 것도 가능하다. 이 경우 타겟이 되는 모든 테이블이
                      exclude 대상이 된다.</p>

                      <pre class="programlisting">EXCLUDE_TABLE=user1.table1,user1.table1,table1</pre>
                    </li></ul></div>
                </li></ul></div></td></tr><tr><td align="left">EXCLUDE_USER</td><td><p>Import할 때 특정 User를 제외하고 Import
            한다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
                  <p>사용법</p>

                  <pre class="programlisting">EXCLUDE_USER=<span class="emphasis"><em>userlist</em></span></pre>
                </li><li>
                  <p>예제</p>

                  <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                      <p>콤마(,)를 이용하여 다수의 User를 제외시킨다. 콤마를 사용하는 경우 콤마 앞뒤로
                      띄어쓰기가 있으면 안 된다.</p>

                      <pre class="programlisting">EXCLUDE_USER=user1,user2</pre>
                    </li><li style="list-style-type: circle">
                      <p>username이 중복되게 지정하는 것도 가능하다. 이 경우 타겟이 되는 모든 user가
                      exclude 대상이 된다.</p>

                      <pre class="programlisting">EXCLUDE_USER=user1,user2,user1,user3</pre>
                    </li></ul></div>
                </li></ul></div></td></tr><tr><td align="left">EXP_SERVER_VER</td><td><p>Export한 서버의 버전을 설정한다. </p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p><span>8 : Tibero 6, Tibero 7
                  </span>(기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>7 : Tibero 5 SP1</p>
                </li><li style="list-style-type: circle">
                  <p>6 : Tibero 5</p>
                </li></ul></div></td></tr><tr><td align="left">FILE</td><td><p>Import를 수행할 덤프 파일의 이름을 입력한다. (기본값:
            default.dat)</p><p>바이너리 파일의 형태로 운영체제에서 생성되며, 이름을 지정하지 않으면
            기본값에서 Import한다.</p></td></tr><tr><td align="left">FROMUSER</td><td><p>From to User 모드에서 사용하며 Export할 때 사용된 객체의 원래 소유자를
            지정한다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
                  <p>사용법</p>

                  <p>다음의 형태로 사용할 수 있으며 이 때 Mapping 개수는 동일해야 한다.</p>

                  <pre class="programlisting">FROMUSER=<span class="emphasis"><em>userlist</em></span></pre>
                </li><li>
                  <p>예제</p>

                  <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>multi user를 설정한다.</p>

                        <pre class="programlisting">FROMUSER=user1,user2 TOUSER=user3,user4</pre>
                      </li><li style="list-style-type: circle">
                        <p>multi user의 object를 하나의 user로 설정할 수 있다.</p>

                        <pre class="programlisting">FROMUSER=user1,user2 TOUSER=user3,user3</pre>
                      </li><li style="list-style-type: circle">
                        <p>FROMUSER에 동일한 user를 지정할 수 없다.</p>

                        <pre class="programlisting">FROMUSER=user1,user1 TOUSER=user3,user4 </pre>
                      </li></ul></div>
                </li></ul></div></td></tr><tr><td align="left">FULL</td><td><p>전체 데이터베이스 모드로 Import를 수행할지 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 전체 데이터베이스 모드로 Import를 수행한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : 사용자 또는 테이블 모드로 Import를 수행한다(둘 중 하나의 모드는 있어야 함).
                  (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">GRANT</td><td><p>Import를 수행할 때 권한의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 권한을 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : 권한을 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">GEOM_ASBYTES</td><td><p>geometry 컬럼에 대해 WKB 또는 bytes로 밀어넣을지 여부를 설정한다.
            </p><p>(기본값: Y)</p><span>
                <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p>Tibero 6 이후에서 Geometry 컬럼을 WKB 포맷으로 저장하기 때문에 이 옵션을
                    사용할 필요가 없다. 이 옵션은 Tibero 5 SP1 이하 버전의 tibero를 export된 데이터를
                    import할 때 설정하여 사용해야 한다.</p>
                  </li><li style="list-style-type: circle">
                    <p>Tibero 5 SP1 이하 버전의 Tibero에서 export할 때,
                    geom_asbytes를 'N'로 설정하여 Geometry 컬럼을 WKB 포맷으로 받았다면
                    geom_asbytes 옵션을 'N'로 설정해야한다. 내부적으로 st_geomfromwkb를
                    한다.</p>

                    <p>만약 DPL로 넣으려면 서버 _DP_IMPORT_GEOM_FROM_OLD_FORMAT(기본값:
                    N) iparam을 'Y'로 설정해야 한다.</p>
                  </li></ul></div>
              </span></td></tr><tr><td align="left">IGNORE</td><td><p>Import를 수행할 때 이미 존재하는 스키마 객체로 인한 생성 에러를 무시 여부를 설정한다.
            </p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 이미 존재하는 스키마 객체로 인한 생성 에러를 무시한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : 이미 존재하는 스키마 객체로 인한 생성 에러를 무시하지 않는다. (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">INDEX</td><td><p>Import를 수행할 때 인덱스 정보의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 인덱스를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : 인덱스를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">IO_BUF_SIZE</td><td>Import를 실행할 때 파일의 입출력에 사용되는 버퍼의 크기를 조절한다. (기본값:
            16MB(16777216))</td></tr><tr><td align="left">IP</td><td>Import 대상 <span>Tibero</span> 서버의 IP 주소를 입력한다. (기본값: localhost)</td></tr><tr><td align="left">LOG</td><td>Import된 오브젝트들의 스크립트가 기록될 파일의 이름을 입력한다.</td></tr><tr><td align="left">LOGDIR</td><td>Import의 수행 로그가 기록될 파일을 저장할 디렉터리 이름을 입력한다.</td></tr><tr><td align="left">NATIONAL_CHARSET</td><td>Export한 언어 셋을 설정한다. (기본값: Export한 문자 셋)</td></tr><tr><td align="left">NOLOGGING</td><td><p>Import 대상 테이블에 대해 NOLOGGING 속성을 추가 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : Import 대상 테이블에 대해 NOLOGGING 속성을 추가한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : Import 대상 테이블에 대해 NOLOGGING 속성을 추가하지 않는다.
                  (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">NO_PACK_DIR</td><td>Import를 수행할 압축을 해제한 덤프 파일이 저장되는 디렉터리이다. 이 옵션이 지정되면, FILE
            파라미터에 설정된 값은 무시된다.</td></tr><tr><td align="left">PACK_TYPE</td><td><p>Compress Import를 수행하는 경우 packing algorithm 선택 옵션이다.
            </p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>TAR : TAR Compress 파일을 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>ZIP : ZIP Compress 파일을 Import한다.</p>
                </li></ul></div></td></tr><tr><td align="left">PASSWORD</td><td>Import를 수행하는 사용자의 패스워드를 입력한다.</td></tr><tr><td align="left">ROLE</td><td><p>Import를 수행할 때 ROLE의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : ROLE을 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : ROLE을 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">PORT</td><td>Import 대상 <span>Tibero</span> 서버의 포트 번호를 입력한다. (기본값: 8629)</td></tr><tr><td align="left">PSM</td><td><p>Import를 수행할 때 PSM 오브젝트의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : PSM 오브젝트를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : PSM 오브젝트를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">P_DPL</td><td><p>병렬 DPL 방법으로 Import할지 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 병렬 DPL 방법을 사용한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : 병렬 DPL 방법을 사용하지 않는다. (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">ROWS</td><td><p>Import를 수행할 때 테이블의 데이터를 Import할지 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 테이블의 데이터를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : 테이블의 데이터를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">SAVE_CREDENTIAL</td><td><p>암호화한 USERNAME과 PASSWORD를 사용할 때
            설정한다.</p><p>SAVE_CREDENTIAL 옵션을 사용하여 EXPIMP_WALLET 암호화 파일을
            생성한다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
                  <p>사용법</p>

                  <pre class="programlisting">SAVE_CREDENTIAL=[<span class="emphasis"><em>EXPIMP_WALLET_FILE_NAME</em></span>]</pre>

                  <p>예)</p>

                  <pre class="programlisting">SAVE_CREDENTIAL=/tmp/.expimp 
USERNAME=username 
PASSWORD=password</pre>
                </li></ul></div><p>다음은 EXPIMP_WALLET 파일의 환경변수를 설정하는
            예이다.</p><pre class="programlisting">export EXPIMP_WALLET=/tmp/.expimp</pre><p>다음은
            위 설정의 인식 우선순위이다. 위의 설정들에 지정되어 있지 않으면 에러를 발생한다.</p><div class="orderedlist"><ol type="1" compact="compact"><li>
                  <p>command line에 입력한 username, password 파라미터</p>
                </li><li>
                  <p>cfgfile 내의 USERNAME과 PASSWORD 파일</p>
                </li><li>
                  <p>EXPIMP_WALLET 파일의 USERNAME과 PASSWORD</p>
                </li></ol></div></td></tr><tr><td align="left">SCRIPT</td><td><p>Import를 수행할 때 스키마 객체를 생성하는 DDL 스크립트를 표시할지 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 스키마 객체를 생성하는 DDL 스크립트를 표시한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : 스키마 객체를 생성하는 DDL 스크립트를 표시하지 않는다. (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">SEQUENCE</td><td><p>Import를 수행할 때 Sequence의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : Sequence를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : Sequence를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">SID</td><td>Import 대상 <span>Tibero </span> 서버의 SID를 입력한다.</td></tr><tr><td align="left">STATISTICS</td><td>Import 대상의 통계정보를 import할지 여부를 지정한다. SAFE, RECALCULATE 등
            통계정보 재계산은 지원하지 않는다. <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : 대상 통계정보를 Import한다.</p>
                </li><li style="list-style-type: circle">
                  <p>N : 대상 통계정보를 Import하지 않는다. (기본값)</p>
                </li></ul></div></td></tr><tr><td align="left">SYNONYM</td><td><p>Import를 수행할 때 Synonym의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : Synonym을 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : Synonym을 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">TABLE</td><td><p>테이블 모드로 Import를 수행할 때 Import할 대상 테이블의 이름을
            지정한다.</p><div class="itemizedlist"><ul type="disc"><li>
                  <p>사용법</p>

                  <pre class="programlisting">TABLE=<span class="emphasis"><em>tablelist</em></span></pre>
                </li></ul></div><p/></td></tr><tr><td align="left">TEMP_DIR</td><td>Import를 수행할 때 사용되는 임시 덤프 파일들이 생성될 디렉터리를 지정한다.</td></tr><tr><td align="left">THREAD_CNT</td><td><p>테이블 데이터를 Import하기 위해 사용하는 스레드의 개수를
            입력한다.</p><p>(기본값: 4)</p></td></tr><tr><td align="left">TOUSER</td><td><p>From to User 모드에서 사용하며 Import를 수행할 때 Import할 소유자를
            지정한다.</p><div class="itemizedlist"><ul type="disc"><li>
                  <p>사용법</p>

                  <pre class="programlisting">TOUSER=<span class="emphasis"><em>userlist</em></span></pre>
                </li></ul></div></td></tr><tr><td align="left">TRIGGER</td><td><p>Import를 수행할 때 Trigger의 Import 여부를
            지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                  <p>Y : Trigger를 Import한다. (기본값)</p>
                </li><li style="list-style-type: circle">
                  <p>N : Trigger를 Import하지 않는다.</p>
                </li></ul></div></td></tr><tr><td align="left">USER</td><td><p>사용자 모드로 Import를 수행할 때 Import될 객체의 소유자를
            지정한다.</p><div class="itemizedlist"><ul type="disc"><li>
                  <p>사용법</p>

                  <pre class="programlisting">USER=<span class="emphasis"><em>userlist</em></span></pre>
                </li></ul></div></td></tr><tr><td align="left">USERNAME</td><td>Import를 수행하는 사용자의 계정을 입력한다.</td></tr></tbody></table>
    </div>

    <div class="literallayout"><p/></div>

    <p>파라미터 값은 순서를 지정해서 입력하지 않아도 된다. 파라미터 값 중에 CFGFILE 값은 명령 프롬프트에서만 지정할 수
    있지만, 나머지 파라미터 값은 환경설정 파일에서도 지정할 수 있다. 단, 환경설정 파일에 파라미터를 지정해서 사용하는 경우에는
    파라미터 이름을 반드시 대문자로 입력해야 한다.</p>

    <p>명령 프롬프트에 사용되는 파라미터<a id="d5e6003" class="indexterm"/>를 환경설정 파일에 저장하여 관리하는 방법에는 다음과 같은 두 가지 형식이 있다. 두 번째 형식은 하나
    이상의 파라미터 값을 지정하는 경우이다.</p>

    <pre class="programlisting">PARAMETER=value
PARAMETER=value1, ...</pre>

    <div class="literallayout"><p/></div>

    <p>다음은 파라미터를 지정하는 예이다.</p>

    <pre class="programlisting">FULL=Y
FILE=<span>TB</span>EXPORT.DAT
GRANT=Y
INDEX=Y
CONSTRAINT=Y</pre>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e6011"/>3.5. 수행 예제</h2></div></div></div>
    

    <p><span>tbImport</span> 유틸리티로 Import를 수행하는 순서는 다음과 같다.</p>

    <div class="orderedlist"><ol type="1" compact="compact"><li>
        <p>테이블 정의</p>
      </li><li>
        <p>테이블 데이터</p>
      </li><li>
        <p>테이블 인덱스</p>
      </li><li>
        <p>테이블 제약조건, 뷰, 프러시저 등</p>
      </li></ol></div>

    <div class="literallayout"><p/></div>

    <p>다음은 <span>tbImport</span> 유틸리티를 이용하여 Import를 수행하는 예이다.</p>

    <div class="example"><a id="d5e6027"/><p class="title"><b>[예 3.2] <span>tbImport</span> 유틸리티를 이용한 Import의 수행</b></p><div class="example-contents">
      

      

      <pre class="programlisting"><span>tbImport</span> 7.0 97819 <span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.
Unpacking the file...
the entire database: Mon Jul 14 01:07:43 KST 2014
Import character set: MS949
The version of this <span>tbExport</span> dump file is 5.0.
  importing schema: "<span>TIBERO</span>"
    importing tables
      [M] importing table BONUS     no rows imported.
      [0] importing table DEPT      4 rows imported.
      [0] importing table SALGRADE  5 rows imported.
      [1] importing table EMP       10 rows imported.
    importing index
    importing sequences
    importing views
    importing synonyms
Import completed successfully: Mon Jul 14 01:07:55 KST 2014</pre>
    </div></div><br class="example-break"/>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_tbexport.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_tbloader.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제2장 <span>tbExport</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제4장 <span>tbLoader</span></td></tr></table></div><div xmlns="" align="center"/></body></html>