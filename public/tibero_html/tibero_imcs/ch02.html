<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제2장 In-Memory Column Store 설정</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero IMCS 안내서"/><link rel="up" href="index.html" title="Tibero IMCS 안내서"/><link rel="prev" href="chapter_imcs_overview.html" title="제1장 소개"/><link rel="next" href="chapter_imcs_tac.html" title="제3장 In-Memory Column Store의 고가용성"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제2장 In-Memory Column Store 설정</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_imcs_overview.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_imcs_tac.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="d5e429"/>제2장 In-Memory Column Store 설정</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="ch02.html#d5e432">2.1. In-Memory Column Store 기능 활성화 및 비활성화</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d5e449">2.1.1. In-Memory Column Store 기능 활성화</a></span></dt><dt><span class="section"><a href="ch02.html#d5e462">2.1.2. In-Memory Column Store 기능 비활성화</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d5e476">2.2. 오브젝트별 In-Memory Column Store 기능 활성화</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d5e479">2.2.1. In-Memory Population</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 In-Memory Column Store 기능을 활성화 및 비활성하고, 오브젝트별 In-Memory Column
  Store 기능을 설정하는 방법에 대해 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e432"/>2.1. In-Memory Column Store 기능 활성화 및 비활성화</h2></div></div></div>
    

    <p>In-Memory Column Store 기능을 활성화 및 비활성화 하기 위해서는 INMEMORY_SIZE라는 파라미터의
    값을 변경해주어야 한다.</p>

    <p/>

    <h3><a id="d5e437"/>INMEMORY_SIZE 파라미터</h3>

    <p>INMEMORY_SIZE 파라미터는 기본값이 0이며, INMEMORY_SIZE 파라미터 값이 0일 때는 In-Memory
    Column Store 기능이 비활성화된 상태이다. In-Memory Column Store 기능을 활성화시키기 위해서는
    INMEMORY_SIZE 파라미터 값을 100M 이상의 값으로 설정 후 데이터베이스를 기동해주어야 한다. 100M 보다 작은 값으로
    INMEMORY_SIZE 파라미터 를 설정할 경우 INMEMORY_SIZE 파라미터의 값은 0으로 설정된다.</p>

    <p>INMEMORY_SIZE 파라미터는 동적으로 변경할 수 없으며, 변경을 위해서는 데이터베이스 재기동이 필요하다.
    </p>

    <div class="orderedlist"><ol type="1"><li>
        <p>INMEMORY_SIZE 파라미터 설정 변경</p>

        <p>설정파일(tip 파일)에 INMEMORY_SIZE 를 변경한다.</p>

        <pre class="programlisting">INMEMORY_SIZE = 500M</pre>
      </li><li>
        <p>데이터베이스 기동 종료</p>
      </li><li>
        <p>데이터베이스 재기동</p>
      </li></ol></div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e449"/>2.1.1. In-Memory Column Store 기능 활성화</h3></div></div></div>
      

      <p>In-Memory Column Store 기능 활성화를 위해서는 데이터베이스 재기동이 필요하다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>INMEMORY_SIZE 파라미터 설정</p>

          <p>데이터베이스 기동 전 설정파일(tip 파일)에 INMEMORY_SIZE 를 100M 이상의 값으로
          설정해준다.</p>

          <pre class="programlisting">INMEMORY_SIZE = 100M</pre>
        </li><li>
          <p>데이터베이스 기동 중이라면 데이터베이스 기동 종료</p>
        </li><li>
          <p>데이터베이스 기동</p>
        </li></ol></div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e462"/>2.1.2. In-Memory Column Store 기능 비활성화</h3></div></div></div>
      

      <p>In-Memory Column Store 기능 비활성화를 위해서는 데이터베이스 재기동이 필요하다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>INMEMORY_SIZE 파라미터 설정</p>

          <p>데이터베이스 기동 전 설정파일(tip 파일)에 INMEMORY_SIZE를 0으로 설정하거나
          INMEMORY_SIZE 파라미터를 삭제한다.</p>

          <pre class="programlisting">INMEMORY_SIZE = 0</pre>

          <pre class="programlisting">#INMEMORY_SIZE = 500M</pre>
        </li><li>
          <p>데이터베이스 기동 종료</p>
        </li><li>
          <p>데이터베이스 재기동</p>
        </li></ol></div>

      <p/>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e476"/>2.2. 오브젝트별 In-Memory Column Store 기능 활성화</h2></div></div></div>
    

    <p>본 절에서는 오브젝트별 In-Memory Column Store 기능 활성화 및 비활성화 방법과 priority,
    compression 옵션에 대해 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e479"/>2.2.1. In-Memory Population</h3></div></div></div>
      

      <p>In-Memory Population(이하 population)이란 데이터베이스에서 디스크로부터 row-format
      데이터를 읽어 columnar-format으로 변경 후 In-Memory Column Store에 적재하는 것이다. 테이블,
      파티션, 서브파티션만 population이 가능하다.</p>

      <p/>

      <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="d5e483"/>2.2.1.1. In-Memory Population 동작</h4></div></div></div>
        

        <p>옵션별 priority 옵션 설정에 따라 데이터베이스 기동 또는 In-Memory 오브젝트에 접근하는 경우
        population이 가능하다.</p>

        <p/>

        <h5><a id="d5e488"/>In-Memory Population 우선순위</h5>

        <p>INMEMORY PRIORITY 절이 포함된 DDL 구문으로 population의 우선순위를 설정할 수
        있다.</p>

        <p>우선순위의 설정은 table, partition, subpartition에 대해 가능하며 column별로 우선순위
        설정은 불가능하다. 오브젝트에 inmemory 옵션을 설정하는 것은 population의 대상이 되는 것이지, 그 즉시
        population 되는 것은 아니라는 점에 유념한다.</p>

        <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
            <p>Segment의 크기가 64KB 이하라면 해당 segment는 population 되지 않는다. 따라서
            inmemory 옵션이 설정되어 있더라도 population이 되지 않는 오브젝트가 존재할 수 있다.</p>
          </div>

        <p/>

        <p/>

        <p>우선순위에 따른 population 동작은 다음과 같다.</p>

        <div class="informaltable">
          <table border="1"><colgroup><col width="180" align="left"/><col/></colgroup><thead><tr><th align="left">동작</th><th>설명</th></tr></thead><tbody><tr><td align="left">On-demand population</td><td>INMEMORY PRIORITY 옵션의 기본값은 NONE이다. 이 경우 해당 오브젝트에 대해
                inmemory scan을 통해 접근하였을 경우만 population이 된다. 오브젝트에 대해 접근이 없었거나,
                index scan, table full scan을 통해 접근이 되었을 경우 population이 되지
                않는다.</td></tr><tr><td align="left">Priority-based population</td><td>INMEMORY PRIORITY 옵션의 값이 NONE 이외의 값으로 설정되었을 경우, 오브젝트에
                대한 접근이 없어도 population이 된다. Priority level에 따라서 level이 높은 순으로
                population시키며 priority level이 같을 경우 population의 순서는 보장할 수 없다.
                In-Memory Column Store의 공간이 부족할 경우 더 이상 population시키지
                않는다.</td></tr></tbody></table>
        </div>

        <p/>

        <div class="literallayout"><p/></div>

        <h5><a id="d5e515"/>PRIORITY Options</h5>

        <p>Prioirty 옵션별 동작은 다음과 같다.</p>

        <div class="informaltable">
            <table border="1"><colgroup><col width="180" align="left"/><col/></colgroup><thead><tr><th align="left">옵션</th><th>설명</th></tr></thead><tbody><tr><td align="left">PRIORITY NONE</td><td>오브젝트 대해 접근시에만 population을 한다.</td></tr><tr><td align="left">PRIORITY LOW</td><td><p>오브젝트에 대해 접근과는 무관하게 population을
                  한다.</p><p>다음 priority level의 population이 모두 완료된 후
                  population이 진행된다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>MEDIUM</p>
                      </li><li style="list-style-type: circle">
                        <p>HIGH</p>
                      </li><li style="list-style-type: circle">
                        <p>CRITICAL</p>
                      </li></ul></div></td></tr><tr><td align="left">PRIORITY MEDIUM</td><td><p>오브젝트에 대해 접근과는 무관하게 population을
                  한다.</p><p>다음 priority level의 population이 모두 완료된 후
                  population이 진행된다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>HIGH</p>
                      </li><li style="list-style-type: circle">
                        <p>CRITICAL</p>
                      </li></ul></div></td></tr><tr><td align="left">PRIORITY HIGH</td><td><p>오브젝트에 대해 접근과는 무관하게 population을
                  한다.</p><p>다음 priority level의 population이 모두 완료된 후
                  population이 진행된다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>CRITICAL</p>
                      </li></ul></div></td></tr><tr><td align="left">PRIORITY CRITICAL</td><td>오브젝트에 대해 접근과는 무관하게 population을 한다. 최우선으로 population이
                  진행된다.</td></tr></tbody></table>
          </div>

        <p/>
      </div>

      <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="d5e563"/>2.2.1.2. In-Memory Population 제어</h4></div></div></div>
        

        <p>DDL 구문의 INMEMORY 절을 이용하여 테이블 스페이스, 테이블, 파티션, 서브파티션에 INMEMORY 옵션을
        설정할 수 있다.</p>

        <p/>

        <h5><a id="d5e568"/>INMEMORY 절</h5>

        <p>INMEMORY 절은 기본적으로 segment 단위로만 설정할 수 있으며, column 단위로 지정할 경우 적용할
        수 있는 옵션이 제약이 된다. Column 단위 INMEMORY 절은 추후 설명한다.</p>

        <p>INMEMORY 옵션을 설정하기 위해서는 아래의 구문에서 INMEMORY 절을 명시해준다.</p>

        <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>CREATE TABLESPACE or ALTER TABLESPACE</p>

            <p>테이블 스페이스에 INMEMORY 옵션을 사용하면, 해당 테이블 스페이스에서 만들어지는 테이블들은
            테이블 스페이스의 INMEMORY 옵션을 따른다. 테이블에 INMEMORY 옵션을 명시할 경우 테이블 스페이스의
            INMEMORY 옵션을 override 한다. 테이블 스페이스에 대한 INMEMORY 옵션은 만들어질 테이블의
            default INMEMORY 옵션에만 영향을 준다. 따라서 ALTER 테이블 스페이스를 통해 INMEMORY 옵션을
            사용하여도 이미 만들어진 테이블들은 INMEMORY 옵션이 설정되지 않으며, ALTER TABLESPACE를 통해 NO
            INMEMORY로 변경하여도 이미 INMEMORY 옵션이 설정된 테이블들은 NO INMEMORY로 변경되지 않는 것에
            유의한다.</p>
          </li><li>
            <p>CREATE TABLE or ALTER TABLE</p>

            <p>테이블에 INMEMORY 옵션을 사용하면, 기본값으로 nonvirtual column들은 population
            대상이 된다. Column 단위 INMEMORY 절로 특정 column 만 population 대상이 되게 설정할 수
            있다. Partitioned 테이블의 경우 partition별로 INMEMORY 옵션을 지정할 수 있다. 명시하지 않은
            INMEMORY 옵션에 대해서는 테이블의 옵션을 상속받으며, 명시한 INMEMORY 옵션은 테이블의 옵션을
            override한다.</p>
          </li></ul></div>

        <p/>

        <p/>

        <p/>
      </div>

      <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="d5e581"/>2.2.1.3. 테이블의 In-Memory Column Store 설정 예시</h4></div></div></div>
        

        <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>CREATE TABLE 구문</p>

            <pre class="programlisting">CREATE TABLE inmemory_test (
     id           NUMBER(5) PRIMARY KEY,
     test_column  VARCHAR2(15))
  INMEMORY;</pre>
          </li><li>
            <p>ALTER TABLE 구문</p>

            <pre class="programlisting">ALTER TABLE inmemory_test INMEMORY;</pre>
          </li></ul></div>
      </div>

      <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="d5e590"/>2.2.1.4. Column의 In-Memory Column Store 설정 예시</h4></div></div></div>
        

        <p>Column 단위 INMEMORY 절로 특정 column이 inmemory population 대상이 되지 않도록
        설정할 수 있다.</p>

        <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>CREATE TABLE 구문</p>

            <pre class="programlisting">CREATE TABLE inmemory_test (
     id           NUMBER(5) PRIMARY KEY,
     test_column  VARCHAR2(15),
     no_inmemory_column VARCHAR2(20))
  INMEMORY
  NO INMEMORY (no_inmemory_column);</pre>
          </li><li>
            <p>ALTER TABLE 구문</p>

            <pre class="programlisting">ALTER TABLE inmemory_test NO INMEMORY (no_inmemory_column);</pre>
          </li></ul></div>
      </div>

      <div class="section" lang="ko"><div class="titlepage"><div><div><h4 class="title"><a id="d5e600"/>2.2.1.5. Tablespace의 In-Memory Column Store 설정 예시</h4></div></div></div>
        

        <p>테이블 스페이스의 INMEMORY 절은 DEFAULT 절이 선행되어야 한다.</p>

        <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>CREATE TABLESPACE 구문</p>

            <pre class="programlisting">CREATE TABLESPACE inmemory_ts
   DATAFILE 'imts01.dbf' SIZE 40M 
   ONLINE
   DEFAULT INMEMORY;</pre>
          </li><li>
            <p>ALTER TABLESPACE 구문</p>

            <pre class="programlisting">ALTER TABLESPACE inmemory_ts DEFAULT INMEMORY;</pre>
          </li></ul></div>
      </div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_imcs_overview.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_imcs_tac.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제1장 소개 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제3장 <span>In-Memory Column Store의 고가용성 </span></td></tr></table></div><div xmlns="" align="center"/></body></html>