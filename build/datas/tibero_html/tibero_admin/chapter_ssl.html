<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제7장 통신 암호화</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero 관리자 안내서"/><link rel="up" href="index.html" title="Tibero 관리자 안내서"/><link rel="prev" href="chapter_enc.html" title="제6장 데이터 암호화"/><link rel="next" href="chapter_sod.html" title="제8장 Separation of Duties"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제7장 통신 암호화</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_enc.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_sod.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_ssl"/>제7장 통신 암호화</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_ssl.html#d5e6861">7.1. 개요</a></span></dt><dt><span class="section"><a href="chapter_ssl.html#d5e6866">7.2. 환경설정</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_ssl.html#d5e6870">7.2.1. 개인 키 및 인증서 생성</a></span></dt><dt><span class="section"><a href="chapter_ssl.html#d5e6923">7.2.2. 개인 키 및 인증서 위치 설정</a></span></dt><dt><span class="section"><a href="chapter_ssl.html#d5e6940">7.2.3. 클라이언트 설정</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 <span>Tibero</span>에서 통신 암호화 기능을 사용하고 관리하기 위한 방법을
  설명한다.<a id="d5e6859" class="indexterm"/></p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e6861"/>7.1. 개요</h2></div></div></div>
    

    <p><span>Tibero</span>는 서버와 클라이언트 간에 송수신되는 메시지에 대한 기밀성을
    보장하기 위하여 통신 암호화 기능을 제공한다. <span>Tibero</span>의 통신 암호화 기능은 Netscape사의 SSL 통신 프로토콜을
    채택하였으며 Openssl Project에서 제공하는 라이브러리를 사용하여 개발되었다. 참고로 Windows 운영체제의 경우 현재
    통신 암호화 기능을 제공하지 않는다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e6866"/>7.2. 환경설정</h2></div></div></div>
    

    <p>통신 암호화 기능을 사용하기 위해서는 통신 양자 간에 보안 통신을 위한 설정이 필요하다. 서버에서는 보안 통신에 사용될
    인증서와 개인 키를 미리 소지하고 있거나 없으면 새로 생성해야 한다. 그 다음 인증서와 개인 키의 위치를 환경설정 파일에 지정해주게
    되면 보안 통신 전용 포트가 열리게 된다.</p>

    <p>클라이언트에서는 보안 통신 사용 여부를 환경설정 파일에 지정해준다. 이에 따라 일반 또는 보안 접속이 이루어지게
    된다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e6870"/>7.2.1. 개인 키 및 인증서 생성</h3></div></div></div>
      

      <p>개인 키 및 인증서 생성은 X.509 v3(PKI ITU-T 표준)을 따른다. 개인키 및 인증서를 생성할 때 입력하는
      주요 정보는 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
            <p>password</p>

            <p>해당 암호는 개인키 및 인증서를 생성하는 데에만 쓰인다.</p>
          </li><li>
            <p>basename to make a certificate and a private key</p>

            <p>개인키 및 인증서 파일의 이름을 결정하는데 쓰이며, 이외의 용도는 없다.</p>
          </li><li>
            <p>the number of days to make a certificate valid for</p>

            <p>해당 기간 만료 후에는 개인키 및 인증서를 사용할 수 없기 때문에 재생성해야 하며 재생성은 온라인 중에도
            가능하다. 세션이 새로 로그인할 때 하나의 ssl 단위가 새로 생성되기 때문에, 온라인 중에 인증서 및 개인키를 갱신할
            경우 기존과 동일한 파일명으로 갱신한 후 ssl 옵션으로 세션을 새로 붙이면 된다.</p>
          </li></ul></div><p>실제 개인 키 및 인증서를 생성하는 방법은 다음과 같다.</p>

      <div class="example"><a id="example_cert_gen"/><p class="title"><b>[예 7.1] 개인 키 및 인증서의 생성</b></p><div class="example-contents">
        

        

        <pre class="programlisting">$ cd $TB_HOME/bin
$ ./<span>tb_cert_manager</span>

Enter new password: <span><strong class="guibutton"><span>tibero</span></strong></span>
Repeat: <span><strong class="guibutton"><span>tibero</span></strong></span>
Enter basename to make a certificate and a private key.(default: $<span>TB_</span>SID): <span><strong class="guibutton">(enter)</strong></span>
<span>TB</span>
Enter the number of days to make a certificate valid for.(default: 3650): <span><strong class="guibutton">(enter)</strong></span>
3650

=== STEP 1. Generate private key ===
Generating RSA private key, 1024 bits long modulus
....++++++
..........++++++
e is 65537 (0x10001)


=== STEP 2. Generate CSR(Certificate Signing Request) ===
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]: <span><strong class="guibutton">82</strong></span>
State or Province Name (full name) [Some-State]: <span><strong class="guibutton">Kyounggi</strong></span>
Locality Name (eg, city) []: <span><strong class="guibutton">Seongnam</strong></span>
Organization Name (eg, company) [Internet Widgits Pty Ltd]: <span><strong class="guibutton"><span>TIBERO</span></strong></span>
Organizational Unit Name (eg, section) []: <span><strong class="guibutton">RnD</strong></span>
Common Name (eg, YOUR name) []: <span><strong class="guibutton">Hong Gil Dong</strong></span>
Email Address []: <span><strong class="guibutton">gdhong@<span>tibero</span>.com</strong></span>

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []: <span><strong class="guibutton">(enter)</strong></span>
An optional company name []: <span><strong class="guibutton">(enter)</strong></span>


=== STEP 3. Generate certificate ===</pre>
      </div></div><br class="example-break"/>

      <p>입력을 마치면 전자지갑 저장소($<span>TB_</span>HOME/config/<span>tb_wallet</span>/)에 다음과 같은 파일이 생성된다. 만약 원하는 폴더에 개인 키
      및 인증서를 생성하고 싶다면 다음과 같이 -p나 -P 옵션을 통해 생성 가능하다.</p>

      <pre class="programlisting">./tb_cert_manager -p $TB_HOME/config/[<span class="emphasis"><em>생성을 원하는 폴더이름</em></span>]</pre>

      <p>이때, 경로는 절대경로를 입력한다.</p>

      <pre class="programlisting">공개 키 기반 개인 키: <span><strong class="guibutton">[$<span>TB_</span>SID].key</strong></span>
인증서 생성 요청서: <span><strong class="guibutton">[$<span>TB_</span>SID].csr</strong></span>
인증서: <span><strong class="guibutton">[$<span>TB_</span>SID].crt</strong></span>     </pre>

      <p>추가로 TAC인 경우는 노드별로 각각 개인키 및 인증서를 생성할 필요가 없고 한번 만든 개인키 및 인증서를 공유해서
      사용할 수 있다. 혹은 -p 또는 -P 옵션으로 개인키 및 인증서를 생성하여 다중 인스턴스에서 사용 가능하다.</p>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e6923"/>7.2.2. 개인 키 및 인증서 위치 설정</h3></div></div></div>
      

      <p>$<span>TB_</span>SID.tip 환경설정 파일에 CERTIFICATE_FILE과
      PRIVKEY_FILE 초기화 파라미터를 추가하고 인증서와 개인 키의 위치를 절대경로로 설정한다.</p>

      <div class="example"><a id="example_cert_loc"/><p class="title"><b>[예 7.2] 개인 키 및 인증서의 위치설정</b></p><div class="example-contents">
        

        

        <p>&lt;&lt;$<span>TB_</span>SID.tip&gt;&gt;</p>

        <pre class="programlisting"># 아래의 $TB_HOME을 절대경로로 입력한다.<span><strong class="guibutton">
CERTIFICATE_FILE=$<span>TB_</span>HOME/config/<span>tb_wallet</span>/[$<span>TB_</span>SID].crt</strong></span>
<span><strong class="guibutton">PRIVKEY_FILE=$<span>TB_</span>HOME/config/<span>tb_wallet</span>/[$<span>TB_</span>SID].key</strong></span></pre>
      </div></div><br class="example-break"/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e6940"/>7.2.3. 클라이언트 설정</h3></div></div></div>
      

      <p><span>tbdsn</span>.tbr 파일에서 통신 암호화 사용을 설정하는 방법은 다음과
      같다.</p>

      <div class="example"><a id="example_cli_setup"/><p class="title"><b>[예 7.3] 클라이언트 설정</b></p><div class="example-contents">
        

        

        <p>&lt;&lt;<span>tbdsn</span>.tbr&gt;&gt;</p>

        <pre class="programlisting"><span>TB</span>=(
    (INSTANCE=(HOST=서버 IP)
              (PORT=서버 포트)
              (DB_NAME=데이터베이스 이름)
              <span><strong class="guibutton">(USE_SSL=Y)</strong></span>
    )
)</pre>
      </div></div><br class="example-break"/>

      <p>SID 내의 USE_SSL값을 'Y'로 설정하면 통신 암호화 기능을 사용할 수 있다. 반면에 USE_SSL 초기화
      파라미터가 없거나 'Y' 외의 다른 값을 입력하면 일반 접속이 된다.</p>

      <p>PORT는 서버 포트(LISTENER_PORT)를 명시하면 되는데 내부적으로 SSL 전용
      포트(_LSNR_SSL_PORT = LISTENER_PORT + 2)가 추가 지정되게 된다. 일반 포트를 통한 통신으로 일단
      SSL 소켓을 생성하기 위한 핸드쉐이킹을 수행하게 되고 SSL 소켓이 생성된 이후에는 내부적으로 지정된 SSL 전용 포트를 통해
      보안통신을 하게 된다.</p>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_enc.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_sod.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제6장 데이터 암호화 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제8장 Separation of Duties</td></tr></table></div><div xmlns="" align="center"/></body></html>