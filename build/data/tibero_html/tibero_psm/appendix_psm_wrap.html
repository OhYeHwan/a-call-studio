<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Appendix B. tbPSM 소스코드 암호화</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 안내서"/><link rel="prev" href="appendix_reserved_words.html" title="Appendix A. 예약어"/><link rel="next" href="idx.html" title="색인"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">Appendix B. <span xmlns="http://www.w3.org/1999/xhtml">tbPSM</span> 소스코드 암호화</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="appendix_reserved_words.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="idx.html">다음</a></td></tr></table><hr/></div><div class="appendix" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="appendix_psm_wrap"/>Appendix B. <span>tbPSM</span> 소스코드 암호화<a id="d5e5115" class="indexterm"/></h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="appendix_psm_wrap.html#d5e5120">B.1. 개요</a></span></dt><dt><span class="section"><a href="appendix_psm_wrap.html#d5e5131">B.2. <span>tbwrap</span> 프로그램으로 <span>tbPSM</span> 코드 암호화하기</a></span></dt><dt><span class="section"><a href="appendix_psm_wrap.html#d5e5158">B.3. 예제</a></span></dt><dt><span class="section"><a href="appendix_psm_wrap.html#d5e5181">B.4. 주의사항</a></span></dt></dl></div>
  

  <p>본 장에서는 <span>tbPSM</span> 언어로 작성된 소스코드를 암호화하는 방법을 기술한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5120"/>B.1. 개요</h2></div></div></div>
    

    <p><span>Tibero</span>는 <span>tbPSM</span> 언어 개발자가 작성한 소스코드를 일반 사용자 혹은 경쟁자들에게 노출되지
    않도록 암호화하는 기능을 제공한다.</p>

    <p>사용자는 <span>tbwrap</span> 프로그램을 이용하여 소스 코드를 암호화할 수 있다. <span>tbwrap</span> 프로그램은 <span>tbPSM</span> 언어로 작성된 소스 파일을 암호화하여 파일로 저장하고, 암호화된
    DDL문으로 프러시저, 패키지, 함수 등을 데이터베이스에 생성할 수 있다.</p>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5131"/>B.2. <span>tbwrap</span> 프로그램으로 <span>tbPSM</span> 코드 암호화하기</h2></div></div></div>
    

    <p><span>tbwrap</span> 프로그램은 SQL 파일을 입력으로 받아서 프러시저, 함수, 패키지
    선언부, 패키지 구현부와 같은 <span>tbwrap</span> 객체만 암호화한다. 익명 블록이나 트리거, <span>tbwrap</span>가 아닌 객체들은 암호화하지 않는다.<a id="d5e5139" class="indexterm"/></p>

    <p>운영체제 프롬프트 창에서 아래와 같이 입력하여 프로그램을 실행한다.</p>

    <pre class="programlisting"><span>tbwrap</span> iname=<span class="emphasis"><em>input_file</em></span> [ oname=<span class="emphasis"><em>output_file</em></span> ]</pre>

    <p>예제는 아래와 같다.</p>

    <pre class="programlisting"><span>-- 현재 경로에 확장자만 달라진 test.tbw라는 이름의 파일로 출력된다.
tbwrap</span> iname=test.sql

<span>-- 현재 경로에 result.tbw라는 이름의 파일로 출력된다.
tbwrap</span> iname=test.sql oname=result.tbw

<span>-- 디렉터리도 지정할 수 있음
tbwrap</span> iname=/far/test.sql oname=/boo/boo2/test.tbw
</pre>

    <p>암호화된 파일을 열어보면 아래와 같이 작성되어 있다.</p>

    <pre class="programlisting">create or replace procedure p <span class="bold"><strong>wrapped</strong></span>
<span class="emphasis"><em>{wrapped_text</em></span>}
/</pre>

    <p>위와 같이 작성된 DDL로 <span>tbPSM</span> 객체를 컴파일하여 생성할 수 있다. 생성 후 *_SOURCE 계열 뷰로
    조회하면 암호화된 채로 저장되었음을 확인할 수 있다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5158"/>B.3. 예제</h2></div></div></div>
    

    <p>프러시저를 암호화하고 데이터베이스에 생성하는 과정을 예제를 통해 설명한다.</p>

    <p>cre.sql 파일에는 아래와 같은 DDL문이 있다.</p>

    <pre class="programlisting">create or replace procedure p (a number)
is
    b number := 12;
begin
    for i in 1..100 loop
        dbms_output.put_line(a + b - i);
    end loop;
end;
/</pre>

    <p>개발자는 위 파일을 아래와 같이 암호화화여 생성된 cre.tbw 파일을 사용자에게 배포한다.</p>

    <pre class="programlisting"><span>tbwrap</span> iname=cre.sql oname=cre.tbw

tbWrap 5 Trunk

Copyright (c) 2008, 2009, 2011, 2012 <span>TmaxData</span> Corporation. All rights reserved.

Processing cre.sql to cre.tbw...............................Done</pre>

    <p>cre.tbw을 열어보면 암호화되어 있음을 확인할 수 있다.</p>

    <pre class="programlisting">create or replace procedure p wrapped
eHH4Ck8sjWn5HYfQr/vlvToOrCyf+W0VGwH/kQ/pFtaCNMMz0s6KVwxkIoYVLQhAIhsO9DTZttreui2mgun
vxR4AuG5sovFku/ep67aWrOabjKBeyu+Ni5PSWVuBZh+W+bBr38w4XRF9Ank8IHkJo4pMwkAshBgyJLiVrA
by3EQZiWKvMhBNI87Ac2hdLM9z+Bck1QhMOULlf2aItYZ3cg==
/</pre>

    <p>사용자는 파일을 받아서 <span>tbsql</span> 등의 프로그램으로 실행하여 프러시저를 생성한다.</p>

    <pre class="programlisting">$ <span>tbsql</span> <span>tibero</span>/tmax

<span>tbSQL</span> 5 Trunk

Copyright (c) 2008, 2009, 2011, 2012 <span>TmaxData</span> Corporation. All rights reserved.

Connected to <span>Tibero</span>.

<span>SQL</span>&gt; @cre.tbw

Procedure 'P' created.

File finished.</pre>

    <p>이제 사용자는 생성된 프러시저를 사용할 수 있다.</p>

    <pre class="programlisting"><span>SQL</span>&gt; call p(1);

PSM called.</pre>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e5181"/>B.4. 주의사항</h2></div></div></div>
    

    <p/>

    <p>다음은 <span>tbPSM</span> 소스코드 암호화의 주의사항에 대한 설명이다. </p>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>패키지를 배포할 경우 사용자에게 사용 방법은 노출시키되 구현 내용은 노출되지 말아야 한다. 따라서 선언부는
        암호화하지 말고, 구현부만 암호화하여 배포하도록 한다.</p>
      </li><li>
        <p>암호화된 구문은 복호화가 불가능하므로 원본 소스 코드를 분실하지 않도록 한다.</p>
      </li><li>
        <p>트리거는 암호화되지 않으므로 내부 구문에서 암호화된 서브 프로그램을 호출하도록 한다.</p>
      </li><li>
        <p><span>tbwrap</span> 프로그램은 문법 체크는 하지 않으므로 암호화된 파일로 컴파일해야
        문법 오류를 확인할 수 있다.</p>
      </li></ul></div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appendix_reserved_words.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="idx.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix A. 예약어 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 색인</td></tr></table></div><div xmlns="" align="center"/></body></html>