<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제6장 멀티 인스턴스 설치와 제거</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero 설치 안내서"/><link rel="up" href="index.html" title="Tibero 설치 안내서"/><link rel="prev" href="ch05.html" title="제5장 클라이언트 설치와 제거"/><link rel="next" href="ch07.html" title="제7장 TAC 설치와 제거"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제6장 멀티 인스턴스 설치와 제거</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="ch07.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="d5e3175"/>제6장 멀티 인스턴스 설치와 제거</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="ch06.html#d5e3178">6.1. 설치 </a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d5e3186">6.1.1. Windows 환경 </a></span></dt><dt><span class="section"><a href="ch06.html#d5e3291">6.1.2. Unix 환경 </a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#d5e3387">6.2. 제거</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d5e3392">6.2.1. Windows 환경 </a></span></dt><dt><span class="section"><a href="ch06.html#d5e3485">6.2.2. Unix 환경 </a></span></dt></dl></dd></dl></div>
  

  <p>본 절에서는 멀티 인스턴스를 설치하고 제거하는 과정에 대해서 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3178"/>6.1. 설치 <a id="d5e3180" class="indexterm"/></h2></div></div></div>
    

    <p>Windows 계열과 Unix(Linux) 계열에서 하나의 <span>Tibero</span> 바이너리 실행 파일과 라이선스 파일을 공유하면서 <span>TB_SID</span>와 환경 파일(.tip)을 따로 설정하여 두 개 이상의 서로 다른
    데이터베이스 인스턴스를 동시에 설치할 수 있다.</p>

    <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3186"/>6.1.1. Windows 환경 <a id="d5e3188" class="indexterm"/></h3></div></div></div>
      

      <p>Windows 계열에서 수동 모드로 <span>Tibero</span>의 인스턴스를 두개 이상 설치하는 순서는 다음과 같다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>먼저 <a href="chapter_database_install.html#sect_install_windows_gui" title="3.2.1. GUI 모드(Windows)">“3.2.1. GUI 모드(Windows)”</a>나 <a href="chapter_database_install.html#sect_install_manual_windows" title="3.3.1. Windows 환경">“3.3.1. Windows 환경”</a>을 참조하여 <span>Tibero</span> 인스턴스를 하나 설치한다. 본 예제에서는 먼저 설치된 인스턴스의 환경변수가 아래와 같다고 가정하고
          설명을 진행한다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">환경변수</th><th>설정값</th></tr></thead><tbody><tr><td align="left"><span>TB_</span>HOME</td><td>C:\<span>Tibero</span>\<span>tibero</span>7</td></tr><tr><td align="left"><span>TB_</span>SID</td><td><span>tibero1</span></td></tr><tr><td align="left">PATH</td><td>%<span>TB_</span>HOME%\bin;%<span>TB_</span>HOME%\client\bin</td></tr></tbody></table>
          </div>
        </li><li>
          <p>추가로 설치할 인스턴스를 위한 <span>TB_SID</span> 환경변수를 설정한다. 반드시 이전에 설치된 인스턴스의
          <span>TB_SID</span>와 값이 달라야 한다.</p>

          <pre class="programlisting">set <span>TB_SID</span>=<span>tibero2</span></pre>
        </li><li>
          <p><span><strong class="guibutton">%<span>TB_</span>HOME%\bin</strong></span> 디렉터리에서 다음의 명령어를
          입력한다. 이때 서비스명은 생략할 수 있다.</p>

          <pre class="programlisting"><span>tbinstall</span> %<span>TB</span>_HOME% %<span>TB</span>_SID% [-s <span class="emphasis"><em>서비스명</em></span>]</pre>

          <p>이 명령이 실행되면 <span>Tibero</span>가 Windows 서비스에 등록된다. 등록된
          Windows 서비스는 <span><strong class="guibutton">[시작] &gt; [설정] &gt; [제어판] &gt; [관리 도구] &gt;
          [서비스]</strong></span>에서 확인할 수 있다. 오른쪽 마우스를 클릭해서 <span><strong class="guibutton">[관리자 권한으로
          실행]</strong></span>으로 명령 프롬프트 창을 실행한다.</p>

          <pre class="programlisting">C:\<span>Tibero</span>\<span>tibero</span>7\bin&gt;<span>tbinstall</span> %<span>TB</span>_HOME% %<span>TB</span>_SID%
 Microsoft (R) Windows Script Host 버전 5.6
 Copyright (C) Microsoft Corporation 1996-2001. All rights reserved.

 <span>TB_</span>HOME = C:\<span>Tibero</span>\<span>tibero</span>7
 <span>TB_</span>SID = <span>tibero</span>2
 service account = LocalSystem
 <span>Tibero_tibero</span> installed successfully.</pre>
        </li><li>
          <p><span><strong class="guibutton">%<span>TB_</span>HOME%\config</strong></span> 디렉터리에서 다음의
          명령어를 입력한다.</p>

          <pre class="programlisting">gen_tip.bat</pre>

          <p>이 명령이 실행되면 환경 파일(.tip)과 <span>tbdsn</span>.tbr, psm_commands.bat 파일이
          생성된다.</p>

          <pre class="programlisting">C:\<span>Tibero</span>\<span>tibero</span>7\config&gt; gen_tip.bat
 Using <span>TB_</span>SID [<span>tibero2</span>]
C:\<span>Tibero</span>\<span>tibero</span>7\config\<span>tibero2</span>.tip generated
C:\<span>Tibero</span>\<span>tibero</span>7\client\config\<span>tbdsn</span>.tbr generated.
C:\<span>Tibero</span>\<span>tibero</span>7\config\psm_commands.bat generated</pre>
        </li><li>
          <p><span><strong class="guibutton">%<span>TB_</span>HOME%\config</strong></span> 디렉터리에 만들어진 환경
          파일(.tip)을 열어서 LISTENER_PORT 값을 이전에 설치된 인스턴스의 LISTENER_PORT 값과 다르게
          설정한다.</p>

          <pre class="programlisting"><em class="lineannotation"><span class="lineannotation">   ......중간 생략......</span></em>

DB_NAME=<span>tibero2</span>
LISTENER_PORT=9629

<em class="lineannotation"><span class="lineannotation">    ......중간 생략......

</span></em></pre>

          <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
            <p>_LSNR_SPECIAL_PORT, _LSNR_SSL_PORT, CM_PORT 초기화 파라미터의 기본값이
            각각 LISTENER_PORT+1, LISTENER_PORT+2, LISTENER_PORT+3로 설정된다.</p>

            <p>따라서 LISTENER_PORT 값을 설정할 때 이전에 설치된 인스턴스와 새로 설치할 인스턴스의
            LISTENER_PORT, _LSNR_SPECIAL_PORT, _LSNR_SSL_PORT, CM_PORT 초기화
            파라미터 값이 서로 겹치지 않도록 주의한다.</p>
          </div>
        </li><li>
          <p>이 후 과정은 <a href="chapter_database_install.html#sect_install_windows_gui" title="3.2.1. GUI 모드(Windows)">“3.2.1. GUI 모드(Windows)”</a>의 6번 이후의
          절차와 동일하다. 단, 7번 절차에서 CREATE DATABASE 문을 이용하여 원하는 데이터베이스를 생성할 때 로그
          파일이나 데이터 파일의 경로를 새로운 인스턴스의 <span>TB_SID</span>와 맞게 수정해야 한다.</p>
        </li></ol></div>

      <p/>

      
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3291"/>6.1.2. Unix 환경 <a id="d5e3293" class="indexterm"/></h3></div></div></div>
      

      <p>Unix 환경에서 수동 모드로 <span>Tibero</span>를 설치하는 순서는 기본적으로 싱글 인스턴스 설치와 동일하며,
      순서는 다음과 같다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p><a href="chapter_database_install.html#sect_install_console" title="3.2.2. 콘솔 모드(Linux)">“3.2.2. 콘솔 모드(Linux)”</a> 또는 <a href="chapter_database_install.html#sect_install_manual_unix" title="3.3.2. UNIX 환경">“3.3.2. UNIX 환경”</a>을 참조하여 <span>Tibero</span> 인스턴스를 설치한다.</p>

          <p>본 예제에서는 먼저 설치된 인스턴스의 환경변수가 아래와 같다고 가정하고 설명을 진행한다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">환경변수</th><th>설정값</th></tr></thead><tbody><tr><td align="left"><span>TB_</span>HOME</td><td>/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7</td></tr><tr><td align="left"><span>TB_</span>SID</td><td><span>tibero1</span></td></tr><tr><td align="left">LD_LIBRARY_PATH</td><td>$<span>TB_</span>HOME/lib:$<span>TB_</span>HOME/client/lib</td></tr><tr><td align="left">PATH</td><td>$PATH:$<span>TB_</span>HOME/bin:$<span>TB_</span>HOME/client/bin</td></tr></tbody></table>
          </div>
        </li><li>
          <p>추가로 설치할 인스턴스를 위한 <span>TB_SID</span> 환경변수를 설정한다. 반드시 이전에 설치된 인스턴스의
          <span>TB_SID</span>와 값이 달라야 한다.</p>

          <pre class="programlisting">export <span>TB_</span>SID=<span>tibero2</span></pre>
        </li><li>
          <p><span><strong class="guibutton">$<span>TB_</span>HOME/config</strong></span> 디렉터리에서 다음의
          명령어를 입력한다.</p>

          <pre class="programlisting">gen_tip.sh</pre>

          <p>이 명령이 실행되면 환경 파일(.tip)과 <span>tbdsn</span>.tbr, psm_commands 파일이 생성된다.</p>

          <pre class="programlisting"><span>tibero</span>@<span>Tibero</span>:~/<span>Tibero</span>/<span>tibero</span>7/config$ <span><strong class="guibutton">gen_tip.sh</strong></span>
Using <span>TB_</span>SID "<span>tibero</span>2"
/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7/config/<span>tibero</span>2.tip generated
/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7/config/psm_commands generated
/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7/client/config/<span>tbdsn</span>.tbr generated.
Running client/config/gen_esql_cfg.sh
Done.</pre>
        </li><li>
          <p><span><strong class="guibutton">$<span>TB_</span>HOME/config</strong></span> 디렉터리에 만들어진 환경
          파일(.tip)을 열어서 LISTENER_PORT 값을 이전에 설치된 인스턴스의 LISTENER_PORT 값과 다르게
          설정한다.</p>

          <pre class="programlisting"><span>tibero</span>@<span>Tibero</span>:~/<span>Tibero</span>/<span>tibero</span>7/config$ cat tibero2.tip
<em class="lineannotation"><span class="lineannotation">    ......중간 생략......</span></em>

DB_NAME=<span>tibero2</span>
LISTENER_PORT=9629
<em class="lineannotation"><span class="lineannotation">    ......중간 생략......</span></em></pre>

          <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
            <p>_LSNR_SPECIAL_PORT, _LSNR_SSL_PORT, CM_PORT 초기화 파라미터의 기본값이
            각각 LISTENER_PORT+1, LISTENER_PORT+2, LISTENER_PORT+3로 설정된다.</p>

            <p>따라서 LISTENER_PORT 값을 설정할 때 이전에 설치된 인스턴스와 새로 설치할 인스턴스의
            LISTENER_PORT, _LSNR_SPECIAL_PORT, _LSNR_SSL_PORT, CM_PORT 초기화
            파라미터 값이 서로 겹치지 않도록 주의한다.</p>
          </div>
        </li><li>
          <p>이 후 과정은 <a href="chapter_database_install.html#sect_install_console" title="3.2.2. 콘솔 모드(Linux)">“3.2.2. 콘솔 모드(Linux)”</a>의 6번 이후의 절차와
          동일하다. 단, 6번 절차에서 CREATE DATABASE 문을 이용하여 원하는 데이터베이스를 생성할 때 로그 파일이나
          데이터 파일의 경로를 새로운 인스턴스의 <span>TB_SID</span>와 맞게 수정해야 한다.</p>
        </li></ol></div>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3387"/>6.2. 제거<a id="d5e3389" class="indexterm"/></h2></div></div></div>
    

    <p>설치된 멀티 인스턴스를 제거하는 순서를 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3392"/>6.2.1. Windows 환경 <a id="d5e3394" class="indexterm"/></h3></div></div></div>
      

      <p>Windows 계열에서 수동 모드로 <span>Tibero</span>의 멀티 인스턴스를 제거하는 순서는 다음과 같다. 순서는 기본적으로 싱글 인스턴스 제거와
      동일하다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>본 예제에서는 설치된 멀티 인스턴스의 환경변수가 아래와 같다고 가정하고 설명을 진행한다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">환경변수</th><th>설정값</th></tr></thead><tbody><tr><td align="left"><span>TB_</span>HOME</td><td>/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7</td></tr><tr><td rowspan="2" align="left"><span>TB_</span>SID</td><td><span>tibero1</span></td></tr><tr><td><span>tibero2</span></td></tr><tr><td align="left">PATH</td><td>$PATH:$<span>TB_</span>HOME/bin:$<span>TB_</span>HOME/client/bin</td></tr></tbody></table>
          </div>
        </li><li>
          <p>먼저 <span>Tibero</span> 인스턴스를 종료한다. 제거할 인스턴스의 환경변수를
          설정한 후 인스턴스를 종료한다.</p>

          <pre class="programlisting">set <span>TB_SID</span>=<span>tibero1</span>
<span>tb</span>down</pre>
        </li><li>
          <p><span><strong class="guibutton">%<span>TB_</span>HOME%\bin</strong></span> 디렉터리에서 다음의 명령어를
          입력한다.</p>

          <pre class="programlisting"><span>tbuninstall</span> %<span>TB</span>_SID%</pre>

          <p>이 명령이 실행되면 Windows 서비스에 등록된 <span>Tibero</span>가 제거된다. 오른쪽 마우스를 클릭해서 <span><strong class="guibutton">[관리자 권한으로
          실행]</strong></span>으로 명령 프롬프트 창을 실행 해야한다.</p>

          <pre class="programlisting">C:\<span>Tibero</span>\<span>tibero</span>7\bin&gt;<span>tbuninstall</span> %<span>TB</span>_SID%
 Microsoft (R) Windows Script Host 버전 5.812
 Copyright (C) Microsoft Corporation. All rights reserved.

 <span>TB_</span>HOME = C:\<span>Tibero</span>\<span>tibero</span>7
 <span>TB_</span>SID = <span>tibero</span>
 service name = <span>Tibero_tibero</span>
 <span>Tibero_tibero</span> uninstalled successfully.</pre>
        </li><li>
          <p>추가로 제거할 인스턴스의 <span>TB_SID</span> 환경변수를 설정한 후, 인스턴스 종료 및 서비스 제거 절차를
          동일하게 수행한다.</p>

          <pre class="programlisting">set <span>TB_SID</span>=<span>tibero2</span>
<span>tb</span>down</pre>

          <pre class="programlisting">C:\<span>Tibero</span>\<span>tibero</span>7\bin&gt;<span>tbuninstall</span> %<span>TB</span>_SID%
 Microsoft (R) Windows Script Host 버전 5.812
 Copyright (C) Microsoft Corporation. All rights reserved.

 <span>TB_</span>HOME = C:\<span>Tibero</span>\<span>tibero</span>7
 <span>TB_</span>SID = <span>tibero2</span>
 service name = <span>Tibero_tibero2</span>
 <span>Tibero_tibero2</span> uninstalled successfully.</pre>
        </li><li>
          <p><span>Tibero</span>가 설치된 디렉터리를 포함한 모든 하위 디렉터리를 해당
          운영체제의 명령어로 삭제한다.</p>

          <pre class="programlisting">rmdir %<span>TB_</span>HOME%</pre>
        </li></ol></div>

      <p/>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d5e3485"/>6.2.2. Unix 환경 <a id="d5e3487" class="indexterm"/></h3></div></div></div>
      

      <p>Unix 환경에서 수동 모드로 <span>Tibero</span>를 제거하는 순서는 기본적으로 싱글 인스턴스 제거와 동일하며,
      순서는 다음과 같다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>본 예제에서는 먼저 설치된 인스턴스의 환경변수가 아래와 같다고 가정하고 설명을 진행한다.</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">환경변수</th><th>설정값</th></tr></thead><tbody><tr><td align="left"><span>TB_</span>HOME</td><td>/home/<span>tibero</span>/<span>Tibero</span>/<span>tibero</span>7</td></tr><tr><td rowspan="2" align="left"><span>TB_</span>SID</td><td><span>tibero1</span></td></tr><tr><td><span>tibero2</span></td></tr><tr><td align="left">LD_LIBRARY_PATH</td><td>$<span>TB_</span>HOME/lib:$<span>TB_</span>HOME/client/lib</td></tr><tr><td align="left">PATH</td><td>$PATH:$<span>TB_</span>HOME/bin:$<span>TB_</span>HOME/client/bin</td></tr></tbody></table>
          </div>
        </li><li>
          <p>먼저 <span>Tibero</span> 인스턴스를 종료한다. 제거할 인스턴스의 환경변수를
          설정한 후 인스턴스를 종료한다.</p>

          <pre class="programlisting">export <span>TB_SID</span>=<span>tibero1</span>
<span>tb</span>down</pre>
        </li><li>
          <p>추가로 제거할 인스턴스의 <span>TB_SID</span> 환경변수를 설정한 후, 인스턴스를 종료한다.</p>

          <pre class="programlisting">export <span>TB_SID</span>=<span>tibero2</span>
<span>tb</span>down</pre>
        </li><li>
          <p><span>Tibero</span>가 설치된 디렉터리를 포함한 모든 하위 디렉터리를 해당
          운영체제의 명령어로 삭제한다.</p>

          <pre class="programlisting">rm –rf $<span>TB_</span>HOME</pre>
        </li></ol></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch07.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제5장 클라이언트 설치와 제거 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제7장 <span>TAC</span> 설치와 제거</td></tr></table></div><div xmlns="" align="center"/></body></html>