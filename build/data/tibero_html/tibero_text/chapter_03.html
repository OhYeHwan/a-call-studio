<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제2장 TEXT 질의</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero TEXT 참조 안내서"/><link rel="up" href="index.html" title="Tibero TEXT 참조 안내서"/><link rel="prev" href="chapter_02.html" title="제1장 TEXT 인덱스"/><link rel="next" href="chapter_04.html" title="제3장 TEXT Indexing Elements"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제2장 TEXT 질의</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_02.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_04.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_03"/>제2장 TEXT 질의</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_03.html#d5e728">2.1. CATSEARCH</a></span></dt><dt><span class="section"><a href="chapter_03.html#d5e837">2.2. CONTAINS</a></span></dt></dl></div>
  

  <p>본 장에서는 <span>Tibero</span> TEXT 기능을 이용한 질의에 대해 설명한다.</p>

  <p/>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e728"/>2.1. CATSEARCH<a id="d5e730" class="indexterm"/></h2></div></div></div>
    

    <p>CATSEARCH는 CTXCAT 인덱스를 이용하기 위한 함수로 SELECT 문장의 WHERE 절에 사용된다.</p>

    <p/>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>사용법</p>

        <pre class="programlisting">CATSEARCH( column, text_query, reserved argument)</pre><div class="informaltable"><a id="table_catsearch_syntax"/>
            <table border="1"><colgroup><col width="120" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">column</td><td>CTXCAT 인덱스가 걸려 있는 컬럼이다.</td></tr><tr><td align="left">text_query</td><td>컬럼에서 찾을 Text를 정의하는 CATSEARCH 쿼리 연산이다.</td></tr><tr><td align="left">reserved argument</td><td>추후 추가 기능 구현을 위해 예비된 argument이다.</td></tr></tbody></table>
          </div>
      </li><li>
        <p>CATSEARCH 쿼리 연산<a id="d5e758" class="indexterm"/></p>

        <p>CATSEARCH 쿼리는 다음의 6가지 연산을 지원한다.</p>

        <div class="informaltable"><a id="table_catsearch_op"/>
          <table border="1"><colgroup><col width="120" align="left"/><col width="110" align="left"/><col/></colgroup><thead><tr><th align="left">연산</th><th align="left">문법</th><th>설명</th></tr></thead><tbody><tr><td align="left">Logical AND<a id="d5e773" class="indexterm"/></td><td align="left">a b c</td><td>a, b, c 모두를 포함한 row를 찾는다.</td></tr><tr><td align="left">Logical OR<a id="d5e780" class="indexterm"/></td><td align="left">a | b | c</td><td>a, b, c 중 하나 이상을 포함한 row를 찾는다.</td></tr><tr><td align="left">Logical NOT<a id="d5e787" class="indexterm"/></td><td align="left">a - b</td><td><p>a를 포함하고 b를 포함하지 않는 row를 찾는다. </p><p>단독으로
                사용될 수 없다. </p></td></tr><tr><td align="left">" "<a id="d5e796" class="indexterm"/></td><td align="left">"a b c"</td><td>"a b c"로 구성된 구(phrase)를 포함한 row를 찾는다.</td></tr><tr><td align="left">( )<a id="d5e803" class="indexterm"/></td><td align="left">(a b) | c</td><td><p>연산의 우선순위를 정한다.</p><p>a b를 먼저 계산하고 | c를 후에
                계산한다. </p></td></tr><tr><td align="left">와일드카드<a id="d5e812" class="indexterm"/></td><td align="left">ab*, a*b, *ab</td><td>*는 0개 이상의 임의의 문자를 나타낸다.</td></tr></tbody></table>
        </div>
      </li><li>
        <p>반환값</p>

        <p>NUMBER 타입으로 의미를 가지지 않는다.</p>
      </li><li>
        <p>예제</p>

        <div class="itemizedlist"><ul type="circle" compact="compact"><li>
            <p>다음은 테이블 및 CTXCAT 인덱스를 생성하는 예제이다.</p>

            <pre class="programlisting">SQL&gt; create table book(id number, name varchar(4000));
SQL&gt; create index book_ctxcatindex on book(name) ctxcatindex;</pre>
          </li><li>
            <p>다음은 테이블에 데이터를 입력하는 예제이다.</p>

            <pre class="programlisting">SQL&gt; insert into book values(1,'The little boat.');
SQL&gt; insert into book values(2,'The little yellow digger.');
SQL&gt; insert into book values(3,'The magic pasta pot : an old tale.');
SQL&gt; insert into book values(4,'The mousehole cat.');
SQL&gt; insert into book values(5,'The pear in the pear tree.');
SQL&gt; insert into book values(6,'The rainbow fish.');
SQL&gt; insert into book values(7,'The story about Ping.');</pre>
          </li><li>
            <p>다음은 데이터를 검색하는 예제이다.</p>

            <pre class="programlisting">SQL&gt; select * from book where catsearch(name, 'story ping', null) = 0;
        ID NAME
---------- --------------------------------------------------
         7 The story about Ping.

1 row selected.

SQL&gt; select * from book where catsearch(name, 'li*', null) = 0;
        ID NAME
---------- --------------------------------------------------
         1 The little boat.
         2 The little yellow digger.

2 rows selected.

SQL&gt; select * from book where catsearch(name, '"little boat"', null) = 0;
        ID NAME
---------- --------------------------------------------------
         1 The little boat.

1 row selected.  </pre>
          </li></ul></div>

        <p/>

        <p/>
      </li></ul></div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e837"/>2.2. CONTAINS<a id="d5e839" class="indexterm"/></h2></div></div></div>
    

    <p>CONTAINS는 CONTEXT 인덱스를 이용하기 위한 함수로 SELECT 문장의 WHERE 절에 사용된다.</p>

    <p/>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>사용법</p>

        <pre class="programlisting">CONTAINS( column, text_query, reserved argument)</pre><div class="informaltable"><a id="table_contains_syntax"/>
            <table border="1"><colgroup><col width="120" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">column</td><td>CONTEXT 인덱스가 걸려 있는 컬럼이다.</td></tr><tr><td align="left">text_query</td><td>column에서 찾을 Text를 정의하는 CONTAINS 쿼리 연산이다.</td></tr><tr><td align="left">reserved argument</td><td>추후 추가 기능 구현을 위해 예비된 argument이다.</td></tr></tbody></table>
          </div>
      </li><li>
        <p>CONTAINS 쿼리 연산<a id="d5e867" class="indexterm"/></p>

        <p>CONTAINS 쿼리는 다음의 5가지 연산을 지원한다.</p>

        <div class="informaltable"><a id="table_contains_op"/>
          <table border="1"><colgroup><col width="120" align="left"/><col width="110" align="left"/><col/></colgroup><thead><tr><th align="left">연산</th><th align="left">문법</th><th>설명</th></tr></thead><tbody><tr><td align="left">Logical AND<a id="d5e882" class="indexterm"/></td><td align="left">a AND b</td><td>a, b 모두를 포함한 row를 찾는다.</td></tr><tr><td align="left">Logical OR<a id="d5e889" class="indexterm"/></td><td align="left">a OR b, a | b</td><td>a, b 중 하나 이상을 포함한 row를 찾는다.</td></tr><tr><td align="left">Logical NOT<a id="d5e896" class="indexterm"/></td><td align="left">a ~ b</td><td>a를 포함하고 b를 포함하지 않는 row를 찾는다.</td></tr><tr><td align="left">SEQUENCE<a id="d5e903" class="indexterm"/></td><td align="left">a b</td><td>a b로 구성된 구(phrase)를 포함한 row를 찾는다.</td></tr><tr><td align="left">와일드카드<a id="d5e910" class="indexterm"/></td><td align="left">ab%, %ab</td><td>%는 0개 이상의 임의의 문자를 나타낸다.</td></tr></tbody></table>
        </div>
      </li><li>
        <p>반환값</p>

        <p>NUMBER 타입으로 의미를 가지지 않는다.</p>
      </li><li>
        <p>예제</p>

        <div class="itemizedlist"><ul type="circle" compact="compact"><li>
            <p>다음은 테이블 및 CONTEXT 인덱스 생성 및 입력하는 예제이다.</p>

            <pre class="programlisting">SQL&gt; create table t(c1 clob);
SQL&gt; insert into t values('Paris Rome Warsav');                               
SQL&gt; insert into t values('Seoul Incheon');                                   
SQL&gt; insert into t values('Paris Rome Seoul');                                
SQL&gt; commit;                                                                  
SQL&gt; create index t_idx on t(c1) indextype is ctxsys.context;</pre>
          </li><li>
            <p>다음은 데이터를 검색하는 예제이다.</p>

            <pre class="programlisting">SQL&gt; select * from t where contains(c1, 'Paris', NULL) &gt; 0;
C1                                                                               
--------------------------------------------------                               
Paris Rome Warsav                                                                
Paris Rome Seoul                                                                 

2 rows selected.                                                                 

SQL&gt; select * from t where contains(c1, 'Paris and Warsav', NULL) &gt; 0;        
C1                                                                               
-------------------------------------------------------------------------------- 
Paris Rome Warsav                                                                

1 row selected.                                                                  

SQL&gt; select * from t where contains(C1, 'Warsav | Seoul', null) = 0;      
C1                                                                               
-------------------------------------------------------------------------------- 
Paris Rome Warsav                                                                
Seoul Incheon                                                                    
Paris Rome Seoul                                                                 

3 rows selected.                                                                 

SQL&gt; select * from t where contains(c1, 'Paris - Seoul', NULL) &gt; 0;           
C1                                                                               
-------------------------------------------------------------------------------- 
Paris Rome Warsav                                                                
Paris Rome Seoul                                                                 

2 rows selected.  </pre>
          </li></ul></div>

        <p/>

        <p/>
      </li></ul></div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_02.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_04.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제1장 TEXT 인덱스 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제3장 TEXT Indexing Elements</td></tr></table></div><div xmlns="" align="center"/></body></html>