<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제2장 관리의 기본</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero 관리자 안내서"/><link rel="up" href="index.html" title="Tibero 관리자 안내서"/><link rel="prev" href="chapter_intro.html" title="제1장 Tibero 소개"/><link rel="next" href="chapter_03.html" title="제3장 파일과 데이터 관리"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제2장 관리의 기본</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_intro.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_03.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_01"/>제2장 관리의 기본</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_01.html#d5e1191">2.1. 사용자 정의</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_01.html#sect_user_dba">2.1.1. DBA</a></span></dt><dt><span class="section"><a href="chapter_01.html#sect_user_sys">2.1.2. SYS</a></span></dt><dt><span class="section"><a href="chapter_01.html#sect_user_admin">2.1.3. 시스템 관리자</a></span></dt><dt><span class="section"><a href="chapter_01.html#sect_user_app_developer">2.1.4. 애플리케이션 프로그램 개발자</a></span></dt><dt><span class="section"><a href="chapter_01.html#sect_user_db">2.1.5. 데이터베이스 사용자</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_01.html#sect_admin_conf">2.2. 설치 환경</a></span></dt><dt><span class="section"><a href="chapter_01.html#d5e1448">2.3. <span>tbSQL</span> 유틸리티 사용</a></span></dt><dt><span class="section"><a href="chapter_01.html#d5e1768">2.4. 사용자 및 테이블 생성</a></span></dt><dt><span class="section"><a href="chapter_01.html#d5e1919">2.5. 기동과 종료</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_01.html#sect_nbboot">2.5.1. <span>tbboot</span></a></span></dt><dt><span class="section"><a href="chapter_01.html#sect_nbdown">2.5.2. <span>tbdown</span></a></span></dt></dl></dd><dt><span class="section"><a href="chapter_01.html#d5e2344">2.6. Binary TIP 사용</a></span></dt></dl></div>
  

  <p>본 장에서는 DBA가 <span>Tibero</span>를 관리하기에 앞서 기본적으로 알아야 할 사항을 설명한다.</p>

  <p/>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1191"/>2.1. 사용자 정의</h2></div></div></div>
    

    <p><span>Tibero</span>를 크게 사용하는 목적과 역할에 따라 사용자의 유형을 다음과 같이
    정의한다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p><a href="chapter_01.html#sect_user_dba" title="2.1.1. DBA">DBA</a></p>
        </li><li>
          <p><a href="chapter_01.html#sect_user_sys" title="2.1.2. SYS">SYS</a></p>
        </li><li>
          <p><a href="chapter_01.html#sect_user_admin" title="2.1.3. 시스템 관리자">시스템
          관리자(sysadmin)</a></p>
        </li><li>
          <p><a href="chapter_01.html#sect_user_app_developer" title="2.1.4. 애플리케이션 프로그램 개발자">애플리케이션 프로그램
          개발자(Application Developers)</a></p>
        </li><li>
          <p><a href="chapter_01.html#sect_user_db" title="2.1.5. 데이터베이스 사용자">데이터베이스 사용자(Database
          Users)</a></p>
        </li></ul></div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_user_dba"/>2.1.1. DBA</h3></div></div></div>
      

      <p>DBMS는 적어도 1명의 DBA가 필요하다. 데이터베이스를 사용하는 사용자가 많으면 많을수록 이를 관리하는 개인이나
      그룹이 필요하다. DBA는 데이터베이스 환경을 유지하는 데 필요한 제반 활동을 감독하거나 직접 수행하는 개인 또는
      그룹이다.<a id="d5e1214" class="indexterm"/><a id="d5e1216" class="indexterm"/></p>

      <p>데이터베이스 내용의 정확성이나 통합성을 결정하고 데이터베이스의 내부 저장 구조와 접근 관리 대책을 결정하며, 데이터의
      보안 정책을 수립하고 점검하는 등 데이터베이스의 성능을 감시하여 변화하는 요구에 대응하는 책임을 진다. 또한 다양한 데이터베이스
      제품에 관한 깊은 경험이 요구된다.</p>

      <div class="literallayout"><p/></div>

      <p>다음은 DBA가 관리해야 할 항목<a id="d5e1221" class="indexterm"/>을 간략히 소개한 표이다.</p>

      <div class="informaltable"><a id="table_dba_manage"/>
        <table border="1"><colgroup><col width="120" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">DBMS</td><td><p>현재 사용하고 있는 DBMS의 특성을 파악한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p>디스크 용량이 충분한가?</p>
                  </li><li style="list-style-type: circle">
                    <p>물리적으로 독립된 디스크인 경우 시스템 부하가 제대로 분산이 되고 있는가?</p>
                  </li><li style="list-style-type: circle">
                    <p>데이터 배치는 잘 되었는가?</p>
                  </li><li style="list-style-type: circle">
                    <p>CPU와 메모리 사용량, 클라이언트의 응답 시간은 어떠한가?</p>
                  </li></ul></div><p>문제가 발생하면 H/W를 확장하거나 데이터베이스를
              튜닝한다.</p></td></tr><tr><td align="left">데이터베이스</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p>자주 사용되는 스키마 객체는 무엇인가?</p>
                  </li><li style="list-style-type: circle">
                    <p>자주 사용되는 SQL 문장은 무엇인가?</p>
                  </li><li style="list-style-type: circle">
                    <p>자주 사용되는 SQL 문장이 효율적으로 실행되고 있는가?</p>
                  </li></ul></div></td></tr><tr><td align="left">유지보수</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p><span>Tibero</span>의 설치 및 패치를
                    수행한다.</p>
                  </li><li style="list-style-type: circle">
                    <p>데이터베이스의 설계 및 분석, 구현을 한다.</p>
                  </li><li style="list-style-type: circle">
                    <p>데이터베이스의 생성 및 권한을 설정한다.</p>
                  </li><li style="list-style-type: circle">
                    <p>사용자의 권한을 설정한다.</p>
                  </li></ul></div></td></tr><tr><td align="left">정책 및 절차 확립</td><td>데이터베이스의 관리, 보안, 유지보수 등에 속하는 정책 및 절차를 확립한다.</td></tr><tr><td align="left">보안</td><td>데이터 누출이나 유실을 막기 위해 보안 정책을 수립한다.</td></tr><tr><td align="left">백업 및 복구</td><td>주기적으로 데이터를 백업하고, 문제가 발생할 경우 복구한다.</td></tr></tbody></table>
      </div>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
          <p><span>Tibero</span>는 DBA가 위와 같은 항목을 효율적이고 유연하게 관리할
          수 있도록 유틸리티를 제공하고 있다. 자세한 내용은 "<span>Tibero</span> 유틸리티 안내서"를 참고한다.</p>
        </div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_user_sys"/>2.1.2. SYS</h3></div></div></div>
      

      <p><span>Tibero</span>를 설치하고 나면 데이터베이스 자체의 메타데이터를 관리하는
      <span><strong class="guibutton">'SYS'</strong></span>라는 사용자가 생성된다. SYS 사용자에 DBA 역할이 부여되며, 이는 UNIX
      계열(Linux 포함)의 루트 사용자와 비슷한 역할을 담당한다.<a id="d5e1287" class="indexterm"/></p>

      <p><span>Tibero</span>의 데이터 사전, 기반 테이블, 뷰 등은 모두 SYS 사용자의
      스키마에 저장된다. 특히 기반 테이블, 뷰는 <span>Tibero</span>가 동작하는 데 매우 중요한 역할을 한다. 따라서 SYS 사용자 외 다른 사용자가 이를 수정하거나 조작해서는
      안 된다.</p>

      <p>SYS 사용자의 접속 계정은 다음과 같다.</p>

      <div class="informaltable"><a id="table_dba_manage"/>
        <table border="1"><colgroup><col width="120" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">ID</td><td>ID는 <span><strong class="guibutton">'SYS'</strong></span>이다. SYS 사용자는 하나의 스키마를
              가진다. 스키마의 이름은 사용자 이름인 SYS와 동일하다.</td></tr><tr><td align="left">패스워드</td><td>패스워드는 <span>Tibero</span>를 설치할 때 사용자가 입력한 값이다. 패스워드는
              설치 후에 변경할 수 있다.</td></tr></tbody></table>
      </div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_user_admin"/>2.1.3. 시스템 관리자</h3></div></div></div>
      

      <p>일부 사이트는 1명 이상의 시스템 관리자가 있다. 시스템 관리자(또는 sysadmin, 네트워크 관리자 포함)는 컴퓨터
      시스템이나 네트워크를 운영하고 유지 보수하는 개인이나 그룹이다. 서버나 다른 컴퓨터에 운영체제를 설치하고, 유지 보수하며 서비스
      정지 등의 문제에 대해 관리 책임이 있다.<a id="d5e1312" class="indexterm"/><a id="d5e1314" class="indexterm"/></p>

      <p>또한 약간의 프로그래밍 실력 그리고 시스템과 관련된 프로젝트에 대한 관리, 감시, 운영 기술 등을 가지고 있어야 하며
      컴퓨터 문제에 대해 기술적 지원을 하는 역할도 수행해야 한다.</p>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_user_app_developer"/>2.1.4. 애플리케이션 프로그램 개발자<a id="d5e1319" class="indexterm"/></h3></div></div></div>
      

      <p>애플리케이션 프로그램 개발자(Application Developers)는 보통 넓은 영역의 컴퓨터 프로그래밍이나
      전문적인 프로젝트 관리 분야에서 소프트웨어 개발 작업을 하는 개인이다. 애플리케이션 프로그램 개발자는 일반적으로 개별 프로그램
      작업보다는 애플리케이션 프로그램의 수준에서 전반적인 프로젝트에 기여한다. 애플리케이션 프로그램 개발자는 데이터베이스 사용 측면에서
      데이터베이스 애플리케이션 프로그램을 설계하고 구현하는 역할을 수행한다.</p>

      <p>애플리케이션 프로그램 개발자의 역할은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>데이터베이스 애플리케이션 프로그램의 설계와 개발</p>
        </li><li>
          <p>애플리케이션 프로그램을 위한 데이터베이스 구조 설계 및 명세</p>
        </li><li>
          <p>애플리케이션 프로그램을 위한 저장 공간 요청</p>
        </li><li>
          <p>DBA와 데이터베이스 정보를 공유</p>
        </li><li>
          <p>개발 중에 애플리케이션 프로그램 튜닝</p>
        </li><li>
          <p>개발 중에 애플리케이션 프로그램의 보안 정책 수립</p>
        </li></ul></div>

      <p/>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_user_db"/>2.1.5. 데이터베이스 사용자<a id="d5e1340" class="indexterm"/></h3></div></div></div>
      

      <p>데이터베이스 사용자(Database Users)는 <span>Tibero</span>를 사용하는 DBA, 업무 분석가, 애플리케이션 프로그램 개발자, 사용자 모두를 뜻한다.</p>

      <p/>
    </div>
  </div>

  

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_admin_conf"/>2.2. 설치 환경</h2></div></div></div>
  

  <p><span>Tibero</span>를 정상적으로 설치했다면 시스템에 다음과 같은 환경변수가
  설정된다.<a id="d5e1349" class="indexterm"/></p>

  <div class="informaltable">
    <table border="1"><colgroup><col width="120" align="left"/><col/></colgroup><thead><tr><th align="left">환경변수</th><th>설명</th></tr></thead><tbody><tr><td align="left">$<span>TB_</span>HOME<a id="d5e1362" class="indexterm"/><a id="d5e1365" class="indexterm"/></td><td><span>Tibero</span>가 설치된 홈 디렉터리이다. <span>Tibero</span> 서버, 클라이언트 라이브러리, 다양한 부가 기능을 수행하는 파일이 설치된다.</td></tr><tr><td align="left">$<span>TB_</span>SID<a id="d5e1375" class="indexterm"/><a id="d5e1378" class="indexterm"/></td><td>한 머신에서 <span>Tibero</span>의 인스턴스를 여러 개로 운영할 때 필요한 서비스
          ID이다.</td></tr><tr><td align="left">$PATH<a id="d5e1386" class="indexterm"/><a id="d5e1388" class="indexterm"/></td><td>파일 시스템을 통해 특정 파일에 접근하기 위한 디렉터리 경로를 설정한다.</td></tr></tbody></table>
  </div>

  <p>환경변수를 제대로 설정하지 않으면 <span>Tibero</span>를 사용할 수 없다. 따라서 환경변수를 확인하는 절차가
  필요하다.</p>

  <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
    <p>본 안내서에서는 UNIX 셸 명령어를 실행할 때 <span><strong class="guibutton">GNU Bash</strong></span>(<a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.gnu.org/software/bash/" target="_top">http://www.gnu.org/software/bash/</a>)
    문법을 따른다. 사용하는 셸의 종류에 따라 문법이 다를 수 있으며, 자세한 내용은 현재 사용 중인 운영체제의 안내서를
    참고한다.</p>
  </div>

  <div class="literallayout"><p/></div>

  <p>UNIX 셸 프롬프트에서 환경변수를 확인하는 방법은 다음과 같다.</p>

  <div class="itemizedlist"><ul type="disc" compact="compact"><li>
      <p>$<span>TB_</span>HOME</p>

      <p/>

      <pre class="programlisting">$ <span><strong class="guibutton">echo $<span>TB_</span>HOME</strong></span>
/home/<span>tibero</span>/<span>tibero</span>7</pre>

      <p>이 디렉터리 안에는 <span>Tibero</span> 서버, 클라이언트 라이브러리, 부가 기능을 지원하는 파일이
      있다.</p>
    </li><li>
      <p>$<span>TB_</span>SID</p>

      <pre class="programlisting">$ <span><strong class="guibutton">echo $<span>TB_</span>SID</strong></span>
<span>Tb</span>7</pre>

      <p>서비스 ID는 데이터베이스의 이름과 동일하게 설정할 것을 권장한다.</p>
    </li><li>
      <p>$PATH</p>

      <pre class="programlisting">$ <span><strong class="guibutton">echo $PATH</strong></span>
...:/home/<span>tibero</span>/<span>tibero</span>7/bin:/home/<span>tibero</span>/<span>tibero</span>7/client/bin:...</pre>

      <p>$PATH는 다음의 디렉터리를 포함하고 있어야 한다.</p>

      <div class="informaltable">
        <table border="1"><colgroup><col width="160" align="left"/><col/></colgroup><thead><tr><th align="left">디렉터리</th><th>설명</th></tr></thead><tbody><tr><td align="left">$<span>TB_</span>HOME/bin</td><td><span>Tibero</span>의 실행 파일과 서버 관리를 위한 유틸리티가
              위치한 디렉터리이다.</td></tr><tr><td align="left">$<span>TB_</span>HOME/client/bin</td><td><span>Tibero</span>의 클라이언트 실행 파일이 있는
              디렉터리이다.</td></tr></tbody></table>
      </div>
    </li></ul></div>

  <p/>
</div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1448"/>2.3. <span>tbSQL</span> 유틸리티 사용</h2></div></div></div>
    

    <p><span>tbSQL</span><a id="d5e1453" class="indexterm"/>은 <span>Tibero</span>에서 제공하는 대화형 SQL 명령어 처리 유틸리티이다. SQL 질의,
    데이터 정의어, 트랜잭션과 관련된 SQL 문장 등을 실행할 수 있다. 본 절에서는 <span><strong class="guibutton"><span>tbSQL</span></strong></span> 유틸리티를 이용하여 데이터베이스에 접속하는 방법과 그
    이후에 간단한 SQL 문장을 실행하는 방법을 설명한다.</p>

    <p/>

    <h3><a id="d5e1460"/><span>tbSQL</span> 유틸리티</h3>

    <p><span>tbSQL</span> 유틸리티를 실행하는 방법은 다음과 같다.</p>

    <div class="example"><a id="d5e1464"/><p class="title"><b>[예 2.1] <span>tbSQL</span> 유틸리티의 실행</b></p><div class="example-contents">
      

      

      <pre class="programlisting">$ <span><strong class="guibutton"><span><span>tbsql</span></span></strong></span>

<span>tbSQL</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

SQL&gt;</pre>
    </div></div><br class="example-break"/>

    <p><span>tbSQL</span> 유틸리티가 정상적으로 실행되면 이처럼 <span><strong class="guibutton">SQL
    프롬프트</strong></span>가 나타난다. 이 프롬프트에서 데이터베이스 사용자는 SQL 문장을 실행할 수 있다. SQL 프롬프트가
    나타나지 않고 데이터베이스 접속에 실패한 경우 <a href="appendix_c.html" title="Appendix C. 문제 해결">“Appendix C. 문제 해결”</a>을 참고하여 해결한다.</p>

    <p/>

    <h3><a id="d5e1478"/>데이터베이스 접속</h3>

    <p><span>tbSQL</span> 유틸리티를 실행한 후 SQL 프롬프트가 나타나면 데이터베이스에 접속할 수
    있는 상태가 된다.</p>

    <p>데이터베이스에 접속하는 방법은 다음과 같다.</p>

    <div class="example"><a id="example_tbsql_dbconnect"/><p class="title"><b>[예 2.2] <span>tbSQL</span> 유틸리티를 이용한 데이터베이스 접속</b></p><div class="example-contents">
        

        

        <pre class="programlisting">$ <span><strong class="guibutton"><span><span>tbsql</span></span> SYS/<span>tibero</span></strong></span>

<span>tbSQL</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

Connected to <span>Tibero</span>.

SQL&gt;</pre>

        <p>본 예제에서는 UNIX 셸 프롬프트에서 <span>tbSQL</span> 유틸리티의 실행과 함께 사용자명과 패스워드를 입력한다.</p>
      </div></div><p><br class="example-break"/></p>

    <p><span><strong class="guibutton">사용자명</strong></span>과 <span><strong class="guibutton">패스워드</strong></span>를 입력할 때에는
    다음과 같은 규칙이 있다.</p>

    <div class="informaltable"><a id="table_dba_manage"/>
      <table border="1"><colgroup><col width="140" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">사용자명</td><td>스키마 객체의 이름과 마찬가지로 대소문자를 구분하지 않는다. 단, 큰따옴표(“ ”)에 사용자명을 입력하는
            경우는 예외다.</td></tr><tr><td align="left">패스워드</td><td>패스워드로 대소문자를 구분하지 않는다. 단, 작은따옴표(' ')에 패스워드를 입력하는 경우는
            예외이다.</td></tr></tbody></table>
    </div>

    <p/>

    <p/>

    <h3><a id="d5e1515"/><span>tbSQL</span> 유틸리티 명령어<a id="d5e1517" class="indexterm"/></h3>

    <p><span>tbSQL</span> 유틸리티에서 사용할 수 있는 명령어는 대소문자를 구분하지 않고 사용할 수
    있으며 SQL 문장을 실행하거나 데이터베이스 관리에 필요한 명령어가 포함되어 있다.</p>

    <p><span>tbSQL</span> 유틸리티에서 사용할 수 있는 명령어는 다음과 같다. 대괄호([ ])에
    포함된 내용은 입력하지 않아도 명령어를 실행할 수 있다.</p>

    <div class="informaltable"><a id="table_tbsql_command"/>
      <table border="1"><colgroup><col width="140" align="left"/><col/></colgroup><thead><tr><th align="left">명령어</th><th>설명</th></tr></thead><tbody><tr><td align="left">!</td><td>운영체제의 명령어를 실행한다. HOST 명령어와 동일하다.</td></tr><tr><td align="left">%</td><td>히스토리 버퍼에 저장된 명령어를 재수행한다.</td></tr><tr><td align="left">@, @@</td><td>스크립트를 실행한다. START 명령어와 동일하다.</td></tr><tr><td align="left">/</td><td>현재 SQL 버퍼 내의 SQL 문장 또는 <span>tbPSM</span> 프로그램을 실행한다. RUN 명령어와
            동일하다.</td></tr><tr><td align="left">ACC[EPT]</td><td>사용자의 입력을 받아 바인드 변수의 속성을 설정한다.</td></tr><tr><td align="left">ARCHIVE LOG</td><td>Redo 로그 파일 정보를 출력한다.</td></tr><tr><td align="left">C[HANGE]</td><td>SQL 버퍼의 현재 라인에서 패턴 문자를 찾아 주어진 문자로 변환한다.</td></tr><tr><td align="left">CL[EAR]</td><td>설정된 옵션을 초기화하거나 지우는 명령어이다.</td></tr><tr><td align="left">COL[UMN]</td><td>컬럼의 출력 속성을 설정한다.</td></tr><tr><td align="left">CONN[ECT]</td><td>특정 사용자 ID로 데이터베이스에 접속한다.</td></tr><tr><td align="left">DEF[INE]</td><td>바인드 변수를 정의하거나 출력한다.</td></tr><tr><td align="left">DEL</td><td>SQL 버퍼에 저장된 라인을 지우는 명령어이다.</td></tr><tr><td align="left">DESC[RIBE]</td><td>지정된 객체의 컬럼 정보를 출력한다.</td></tr><tr><td align="left">DISC[ONNECT]</td><td>현재 데이터베이스로부터 접속을 해제한다.</td></tr><tr><td align="left">ED[IT]</td><td>특정 파일 또는 SQL 버퍼의 내용을 외부 편집기를 이용하여 편집한다.</td></tr><tr><td align="left">EXEC[UTE]</td><td>단일 <span>tbPSM</span> 문장을 수행한다.</td></tr><tr><td align="left">EXIT</td><td><span>tbSQL</span> 유틸리티를 종료한다. QUIT 명령어와
            동일하다.</td></tr><tr><td align="left">EXP[ORT]</td><td>SELECT 문장의 수행 결과나 테이블 데이터를 파일로 출력한다.</td></tr><tr><td align="left">H[ELP]</td><td>도움말을 출력한다.</td></tr><tr><td align="left">HIS[TORY]</td><td>실행한 명령어의 히스토리를 출력한다.</td></tr><tr><td align="left">HO[ST]</td><td>운영체제 명령어를 실행한다. ! 명령어와 동일하다.</td></tr><tr><td align="left">I[NPUT]</td><td>SQL 버퍼의 현재 라인 뒤에 새로운 라인을 추가한다.</td></tr><tr><td align="left">L[IST]</td><td>SQL 버퍼 내의 특정 내용을 출력한다.</td></tr><tr><td align="left">LOAD[FILE]</td><td><span>Tibero</span>의 테이블을 Oracle의 SQL*Loader 툴이
            인식할 수 있는 형식으로 저장한다.</td></tr><tr><td align="left">LOOP</td><td>단일 명령어를 무한 반복 수행한다.</td></tr><tr><td align="left">LS</td><td>현재 사용자가 생성한 데이터베이스 객체를 출력한다.</td></tr><tr><td align="left">PASSW[ORD]</td><td>사용자 패스워드를 변경한다.</td></tr><tr><td align="left">PAU[SE]</td><td>사용자가 &lt;Enter&gt; 키를 누를 때까지 실행을 멈춘다.</td></tr><tr><td align="left">PING</td><td>특정 데이터베이스에 대해 접속 가능한 상태인지를 출력한다.</td></tr><tr><td align="left">PRI[NT]</td><td>사용자가 정의한 바인드 변수의 값을 출력한다.</td></tr><tr><td align="left">PRO[MPT]</td><td>사용자가 정의한 SQL 문장이나 빈 라인을 그대로 화면에 출력한다.</td></tr><tr><td align="left">Q[UIT]</td><td><span>tbSQL</span> 유틸리티를 종료한다. EXIT 명령어와
            동일하다.</td></tr><tr><td align="left">REST[ORE]</td><td>선택한 정보를 파일로부터 복원한다.</td></tr><tr><td align="left">R[UN]</td><td>현재 SQL 버퍼 내의 SQL 문장이나 <span>tbPSM</span> 프로그램을 실행한다. / 명령어와 동일하다.</td></tr><tr><td align="left">SAVE</td><td>선택한 정보를 파일에 저장한다.</td></tr><tr><td align="left">SET</td><td><span>tbSQL</span> 유틸리티의 시스템 변수를 설정한다.</td></tr><tr><td align="left">SHO[W]</td><td><span>tbSQL</span> 유틸리티의 시스템 변수를 출력한다.</td></tr><tr><td align="left">SPO[OL]</td><td>화면에 출력되는 내용을 모두 외부 파일에 저장하는 과정을 시작하거나 종료한다.</td></tr><tr><td align="left">STA[RT]</td><td>스크립트 파일을 실행한다. @ 명령어와 동일하다.</td></tr><tr><td align="left"><span>TBDOWN</span></td><td><span>Tibero</span>를 종료한다.</td></tr><tr><td align="left">UNDEF[INE]</td><td>하나 이상의 바인드 변수를 삭제한다.</td></tr><tr><td align="left">VAR[IABLE]</td><td>사용자가 정의한 바인드 변수를 선언한다.</td></tr><tr><td align="left">WHENEVER</td><td>에러가 발생한 경우의 동작을 정의한다.</td></tr></tbody></table>
    </div>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
      <p><span>tbSQL</span> 유틸리티에 대한 자세한 내용은 "<span>Tibero</span> 유틸리티 안내서"를 참고한다.</p>
    </div>

    <div class="literallayout"><p/></div>

    <p/>

    <p>기본적으로 자신의 스키마에 어떤 객체들이 있는지 알아보기 위해서는 <span><strong class="guibutton">LS</strong></span> 명령어를
    사용한다.</p>

    <p>다음은 SYS 사용자로 데이터베이스에 접속하여 <span><strong class="guibutton">LS</strong></span> 명령어<a id="d5e1681" class="indexterm"/>를 실행하는 예이다.</p>

    <div class="example"><a id="example_ls_1"/><p class="title"><b>[예 2.3] LS 명령어의 실행</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">LS</strong></span>

NAME                           SUBNAME       OBJECT_TYPE
------------------------------ ------------- --------------------
SYS_CON100                                   INDEX
SYS_CON400                                   INDEX
SYS_CON700                                   INDEX
_DD_CCOL_IDX1                                INDEX
        <em class="lineannotation"><span class="lineannotation">......중간 생략......</span></em>
UTL_RAW                                      PACKAGE
DBMS_STATS                                   PACKAGE BODY
<span>TB_</span>HIDDEN2                                   PACKAGE BODY

SQL&gt;</pre>
    </div></div><br class="example-break"/>

    <p>LS 명령어는 <span>tbSQL</span> 유틸리티를 사용할 때 사용자의 편의를 위해 제공되는 명령어이며, SQL
    문장을 실행할 때 지원하는 명령어는 아니다. 오직 <span>tbSQL</span>
    유틸리티에서만 사용할 수 있다. 즉, <span>tbSQL</span> 유틸리티가 아닌 JDBC, CLI 등을 이용하여 접속한 경우 이 명령어를
    사용할 수 없다.</p>

    <p><a href="chapter_01.html#example_ls_1" title="[예 2.3] LS 명령어의 실행">[예 2.3]</a>에서는 SYS 사용자의 스키마에 존재하는 모든 객체가 출력된다.
    SYS 스키마에는 <span>Tibero</span>가 스스로를 관리하기 위해 내부적으로 사용되는 객체가 많다. 따라서
    객체가 많이 출력된다.</p>

    <div class="literallayout"><p/></div>

    <p>다음은 LS 명령어를 실행하여 현재 시스템에 접속하고 있는 <span><strong class="guibutton">사용자</strong></span>를 조회하는
    예이다.</p>

    <div class="example"><a id="example_ls_2"/><p class="title"><b>[예 2.4] LS 명령어의 실행 - 사용자 조회</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">LS USER</strong></span>

USERNAME
------------------------------
SYS</pre>
    </div></div><br class="example-break"/>

    <div class="literallayout"><p/></div>

    <p>다음은 LS 명령어를 실행하여 현재 데이터베이스에 존재하는 <span><strong class="guibutton">테이블 스페이스</strong></span>를
    조회하는 예이다.</p>

    <div class="example"><a id="example_ls_3"/><p class="title"><b>[예 2.5] LS 명령어의 실행 - 테이블 스페이스 조회</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">LS TABLESPACE</strong></span>

TABLESPACE_NAME
------------------------------
SYSTEM
UNDO
TEMP
USER</pre>

      <p/>

      <p/>

      <p/>
    </div></div><br class="example-break"/>

    <h3><a id="d5e1714"/>SQL 문장의 실행</h3>

    <p>다음은 <span><strong class="guibutton">V$SESSION</strong></span>이라는 뷰를 이용하여 TYPE 컬럼이
    <span><strong class="guibutton">'WTHR'</strong></span>인 데이터를 조회하는 SQL 문장을 실행하는 예이다. V$SESSION은 각각의
    세션 ID를 나열하는 뷰이다.<a id="d5e1718" class="indexterm"/></p>

    <div class="example"><a id="example_sql_exec_1"/><p class="title"><b>[예 2.6] SQL 문장의 실행 (1)</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">SELECT SID, STATUS, TYPE, WTHR_ID FROM V$SESSION WHERE TYPE = 'WTHR';</strong></span>

       SID STATUS                           TYPE        WTHR_ID
---------- -------------------------------- -------- ----------
        10 ACTIVE                           WTHR              1
        13 RUNNING                          WTHR              1

2 rows selected.</pre>
    </div></div><br class="example-break"/>

    <div class="literallayout"><p/></div>

    <p>다음은 <span><strong class="guibutton">SQL 표준</strong></span>에 대한 간략한 설명이다.</p>

    <p>일반적으로 SQL 문장을 실행할 때 지켜야 할 규칙이 있다. 이 규칙은 ANSI(American National
    Standard Institute)와 ISO/IEC(International Standard
    Organization/International Electrotechnical Commission)에서 공동으로 제정한
    관계형(relational) 또는 객체 관계형(object-relational) 데이터베이스 언어이다. 즉, SQL
    표준<a id="d5e1728" class="indexterm"/>을 따른다.</p>

    <p>SQL 표준은 1992년과 1999년에 각각 버전 2와 버전 3가 제정되었다. 1992년에 발표된 SQL 표준은 SQL2
    또는 SQL-92라고 불리며, 관계형 데이터베이스를 위한 언어로 정의되었다.<a id="d5e1731" class="indexterm"/></p>

    <p>1999년에 제정된 SQL 표준은 SQL3 또는 SQL-99라고 불리며, SQL2에 객체지향 개념을 추가하여 확장한
    객체관계형 데이터베이스 언어이다.<a id="d5e1735" class="indexterm"/></p>

    <p>SQL 표준에서 정의하고 있는 SQL 문장은 크게 다음과 같이 나뉜다.</p>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>데이터 조작어(Data Manipulation Language, 이하 DML)</p>
      </li><li>
        <p>데이터 정의어(Data Definition Language, 이하 DDL)</p>
      </li><li>
        <p>데이터 제어어(Data Control Language, 이하 DCL)</p>
      </li></ul></div>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
      <p>본 안내서에서는 DCL에 포함되는 COMMIT, ROLLBACK 등의 SQL 명령어 일부를 트랜잭션 및 세션 언어로
      재구성하였다. 따라서 전체 DCL에 대한 내용은 관련 문서를 참고한다.</p>
    </div>

    <div class="literallayout"><p/></div>

    <p>DML에 포함되는 <span><strong class="guibutton">SELECT 문</strong></span>을 다음과 같이 실행한다.</p>

    <div class="example"><a id="d5e1751"/><p class="title"><b>[예 2.7] SQL 문장의 실행 (2)</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">select SID, STATUS, TYPE, WTHR_ID from v$session where type = 'WTHR';</strong></span>
<em class="lineannotation"><span class="lineannotation">......<a href="chapter_01.html#example_sql_exec_1" title="[예 2.6] SQL 문장의 실행 (1)">[예 2.6]</a>의 실행 결과와 동일......</span></em>

SQL&gt; <span><strong class="guibutton">select SID, STATUS, TYPE, WTHR_ID from V$SESSION where type = 'WTHR';
</strong></span><em class="lineannotation"><span class="lineannotation">......<a href="chapter_01.html#example_sql_exec_1" title="[예 2.6] SQL 문장의 실행 (1)">[예 2.6]</a>의 실행 결과와 동일......</span></em>

SQL&gt; <span><strong class="guibutton">select SID, STATUS, TYPE, WTHR_ID From v$session Where type = 'WTHR';
</strong></span><em class="lineannotation"><span class="lineannotation">......<a href="chapter_01.html#example_sql_exec_1" title="[예 2.6] SQL 문장의 실행 (1)">[예 2.6]</a>의 실행 결과와 동일......</span></em></pre>
    </div></div><br class="example-break"/>

    <p>SQL 표준은 대소문자를 구분하지 않으므로 큰따옴표(" ") 또는 작은따옴표(' ')로 묶은 부분을 제외하고는 대소문자를
    혼용하여 사용할 수 있다. 위 예제는 모두 <a href="chapter_01.html#example_sql_exec_1" title="[예 2.6] SQL 문장의 실행 (1)">[예 2.6]</a>를 실행한 결과와 동일한
    결과가 나타나며 그 의미도 같다.</p>

    <p>그러나 다음과 같은 SQL 문장을 실행하면 그 결과와 의미는 달라진다.</p>

    

    <pre class="programlisting">SQL&gt; SELECT SID, STATUS, TYPE, WTHR_ID FROM V$SESSION WHERE TYPE = '<span class="bold"><strong>wthr</strong></span>';

0 row selected.</pre>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1768"/>2.4. 사용자 및 테이블 생성</h2></div></div></div>
    

    <p>본 절에서는 데이터베이스를 사용하기 위해 사용자와 테이블을 생성하는 방법을 설명한다.</p>

    <h3><a id="d5e1771"/>사용자의 생성</h3>

    <p>사용자를 생성하려면 <span><strong class="guibutton">CREATE USER 문</strong></span>을 사용해야 한다.<a id="d5e1774" class="indexterm"/></p>

    <p>다음은 'ADMIN'이라는 사용자를 생성하고 세션(CREATE SESSION)과 테이블을 생성(CREATE TABLE)할
    수 있는 특권을 부여하는 예이다.</p>

    <div class="example"><a id="example_user_create"/><p class="title"><b>[예 2.8] 사용자의 생성</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">CREATE USER ADMIN IDENTIFIED BY 'password123';</strong></span>
      <em class="lineannotation"><span class="lineannotation">...'ADMIN'이라는 이름의 사용자를 생성하고 패스워드는 'password123'으로 한다.</span></em>
User 'ADMIN' created.

SQL&gt; <span><strong class="guibutton">GRANT CREATE SESSION TO ADMIN;</strong></span>
      <em class="lineannotation"><span class="lineannotation">...ADMIN 사용자에게 세션을 시작할 수 있는 특권을 부여한다.</span></em>
Granted.

SQL&gt; <span><strong class="guibutton">GRANT CREATE TABLE TO ADMIN;</strong></span>
      <em class="lineannotation"><span class="lineannotation">...ADMIN 사용자에게 테이블을 생성할 수 있는 특권을 부여한다.</span></em>
Granted.

SQL&gt; <span><strong class="guibutton">CONN ADMIN/PASSWORD123</strong></span>
      <em class="lineannotation"><span class="lineannotation">...방금 만든 ADMIN 사용자로 데이터베이스에 접속한다.</span></em>
TBR-17001: Login failed: invalid user name or password.

No longer connected to server.
      <em class="lineannotation"><span class="lineannotation">...패스워드는 대소문자를 구분하므로 데이터베이스 접속에 실패한다.</span></em>

SQL&gt; <span><strong class="guibutton">CONN ADMIN/password123</strong></span>
      <em class="lineannotation"><span class="lineannotation">...패스워드를 올바르게 입력한 후 데이터베이스에 다시 접속한다.</span></em>
Connected.

SQL&gt; LS
      <em class="lineannotation"><span class="lineannotation">...방금 생성된 사용자이므로 스키마 객체가 없다.</span></em>
SQL&gt;</pre>
    </div></div><br class="example-break"/>

    <p><a href="chapter_01.html#example_user_create" title="[예 2.8] 사용자의 생성">[예 2.8]</a>의 과정을 모두 완료하면 <span>Tibero</span>에 'ADMIN'이라는 새로운 사용자가 추가된다.</p>

    <p/>

    <h3><a id="d5e1796"/>테이블의 생성</h3>

    <p>테이블을 생성하려면 <span><strong class="guibutton">CREATE TABLE 문</strong></span>을 사용해야 한다.<a id="d5e1799" class="indexterm"/></p>

    <p>다음은 'PRODUCT'라는 테이블을 생성하고 4개의 로우 데이터를 삽입(INSERT)하는 예이다.</p>

    <div class="example"><a id="example_table_create"/><p class="title"><b>[예 2.9] CREATE TABLE 문을 이용한 테이블의 생성</b></p><div class="example-contents">
      

      

      <pre class="programlisting">SQL&gt; <span><strong class="guibutton">CREATE TABLE "PRODUCT"
    (
      PROD_ID NUMBER(3) NOT NULL CONSTRAINT PROD_ID_PK PRIMARY KEY,
      PROD_NAME VARCHAR(50) NULL,
      PROD_COST NUMBER(10) NULL,
      PROD_PID NUMBER(3) NULL,
      PROD_DATE DATE NULL
    );</strong></span>
Table 'PRODUCT' created.

SQL&gt; <span><strong class="guibutton">SELECT TABLE_NAME FROM USER_TABLES;</strong></span>
      <em class="lineannotation"><span class="lineannotation">...USER_TABLES은 현재 데이터베이스에 접속한 사용자의 모든 테이블을 나열하는 정적 뷰이다.</span></em>

TABLE_NAME
------------------------
PRODUCT

1 row selected.

SQL&gt; <span><strong class="guibutton">DESC "PRODUCT"</strong></span>
      <em class="lineannotation"><span class="lineannotation">...DESC는 PRODUCT 테이블에 어떤 컬럼이 있는지 출력하는 <span>tbSQL</span> 유틸리티의 명령어이다.</span></em>

COLUMN_NAME              TYPE             CONSTRAINT
------------------------ ---------------- --------------------------
PROD_ID                  NUMBER(3)        PRIMARY KEY
                                          NOT NULL
PROD_NAME                VARCHAR(50)
PROD_COST                NUMBER(10)
PROD_PID                 NUMBER(3)
PROD_DATE                DATE

INDEX_NAME               TYPE    COLUMN_NAME
------------------------ ------- ------------------------------
PROD_ID_PK               NORMAL  PROD_ID

SQL&gt; <span><strong class="guibutton">INSERT INTO "PRODUCT" VALUES(601,'<span>TIBERO</span>',7000,'',
to_date('2004-12-31 09:00:00', 'yyyy-mm-dd hh24:mi:ss'));</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...SQL 표준에 따라 큰따옴표(" ")로 PRODUCT에 설정하면 스키마 객체나 사용자명을
         영문 대문자가 아닌 임의의 글자로 사용할 수 있다.
      ...SQL 표준에 따라 작은따옴표(' ')는 데이터베이스에 직접 삽입되는 문자열 데이터에
         사용한다.  </span></em>
1 row inserted.

SQL&gt; <span><strong class="guibutton">INSERT INTO "PRODUCT" VALUES(602,'<span>TIBERO</span>2',8000,'601',
to_date('2005-06-21 09:00:00', 'yyyy-mm-dd hh24:mi:ss'));</strong></span>
1 row inserted.

SQL&gt; <span><strong class="guibutton">INSERT INTO "PRODUCT" VALUES(603,'<span>TIBERO</span>3',9000,'601',
to_date('2007-01-01 09:00:00', 'yyyy-mm-dd hh24:mi:ss'));</strong></span>
1 row inserted.

SQL&gt; <span><strong class="guibutton">INSERT INTO "PRODUCT" VALUES(604,'<span>TIBERO</span>4',10000,'601',
to_date('2009-04-30 09:00:00', 'yyyy-mm-dd hh24:mi:ss'));</strong></span>
1 row inserted.

SQL&gt; <span><strong class="guibutton">SELECT * FROM "PRODUCT";</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...PRODUCT 테이블의 모든 데이터를 출력하는 SQL 문장이다.</span></em>

   PROD_ID PROD_NAME             PROD_COST    PROD_PID  PROD_DATE
---------- -------------------  ----------  ----------  ----------
       601 <span>TIBERO</span>                    7000               2004/12/31
       602 <span>TIBERO</span>2                   8000          601  2005/06/21
       603 <span>TIBERO</span>3                   9000          601  2007/01/01
       604 <span>TIBERO</span>4                  10000          601  2009/04/30

4 rows selected.</pre>
    </div></div><br class="example-break"/>

    <p><span>Tibero</span>는 <span><strong class="guibutton">USER_TABLES</strong></span>를
    비롯한 여러 정적 뷰를 제공한다. 이 뷰를 통해 현재 데이터베이스에 접속한 사용자가 접근할 수 있는 스키마 객체의 다양한 정보를 볼
    수 있다.<a id="d5e1829" class="indexterm"/></p>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
      <p>정적 뷰에 대한 내용은 "<span>Tibero</span> 참조 안내서"를 참고한다.</p>
    </div>

    <div class="literallayout"><p/></div>

    <p>테이블 생성과 데이터 삽입을 완료하였으면 이 콘솔 창을 <span class="bold"><strong>그대로
    놔두고</strong></span> 또 다른 콘솔 창을 실행한다.</p>

    <p>본 예제에서는 <span>tbSQL</span> 유틸리티를 이용하여 <a href="chapter_01.html#example_user_create" title="[예 2.8] 사용자의 생성">[예 2.8]</a>에서 생성한 ADMIN으로 <span>Tibero</span>에 접속한다.</p>

    

    <pre class="programlisting">$ <span><strong class="guibutton"><span>tbsql</span> ADMIN/password123</strong></span>

<span>tbSQL</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

Connected to <span>Tibero</span>.

SQL&gt; <span><strong class="guibutton">SELECT * FROM "PRODUCT";</strong></span>

0 row selected.
</pre>

    <p>위 예를 보면 <a href="chapter_01.html#example_table_create" title="[예 2.9] CREATE TABLE 문을 이용한 테이블의 생성">[예 2.9]</a>에서 처럼 4개의 로우 데이터가
    출력되지 않는 것을 알 수 있다. 그 이유는 <span>Tibero</span>는 트랜잭션을 지원하기 때문에 한 세션에서 입력한 데이터라도 커밋을
    하기 전까지는 다른 세션에서 보이지 않는 현상이다. 따라서 4개의 로우 데이터를 확인하려면 이전 콘솔 창(<a href="chapter_01.html#example_table_create" title="[예 2.9] CREATE TABLE 문을 이용한 테이블의 생성">[예 2.9]</a> 화면)으로 이동하여 트랜잭션의 commit 명령을 실행해야
    한다.</p>

    <p/>

    <p><span><strong class="guibutton">commit</strong></span> 명령을 실행하는 방법은 다음과 같다.</p>

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">COMMIT;</strong></span>
Commit succeeded.</pre>

    <p>커밋이 완료되면 두 번째 콘솔 창에서 SELECT 문을 실행하여 4개의 로우 데이터가 출력되는지 확인한다.</p>

    <p/>

    <h3><a id="d5e1859"/>사용 예제</h3>

    <p>다음은 가상의 시나리오를 설정하여 SQL 문장을 실행하는 예이다.</p>

    <p>시나리오는 다음과 같다.</p><div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>8,500원 미만의 모든 제품의 가격(PROD_COST 컬럼)을 10% 인상했는데 다시 이전 상태로 복구해야
          한다.</p>
        </li><li>
          <p><span>TIBERO</span>2 제품은 더 이상 판매하지 않는다.</p>
        </li></ul></div>

    <p>시나리오를 기준으로 SQL 문장을 실행하는 과정은 다음과 같다.</p>

    

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">UPDATE "PRODUCT" SET PROD_COST = PROD_COST * 1.1
    WHERE PROD_COST &lt; 8500;</strong></span>
2 rows updated.

SQL&gt; <span><strong class="guibutton">SELECT PROD_NAME, PROD_COST FROM "PRODUCT";</strong></span>

PROD_NAME                                           PROD_COST
-------------------------------------------------- ----------
<span>TIBERO</span>                                                   7700
<span>TIBERO</span>2                                                  8800
<span>TIBERO</span>3                                                  9000
<span>TIBERO</span>4                                                 10000

4 rows selected.

<em class="lineannotation"><span class="lineannotation">      ...8,500원 미만의 모든 제품의 가격(PROD_COST 컬럼)을 10% 인상한 SQL 문장이다.</span></em>

SQL&gt; <span><strong class="guibutton">ROLLBACK;</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...다시 이전 상태로 복구한다.</span></em>

Rollback succeeded.


SQL&gt; <span><strong class="guibutton">DELETE FROM "PRODUCT" WHERE PROD_NAME = '<span>TIBERO</span>2';</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...<span>TIBERO</span>2 제품은 더는 판매하지 않는다.따라서 PRODUCT 테이블에서 이 제품을 삭제한다.</span></em>

1 row deleted.

SQL&gt; <span><strong class="guibutton">SELECT PROD_NAME, PROD_COST FROM "PRODUCT";</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...PRODUCT 테이블을 조회한다. <span>TIBERO</span>2 제품은 삭제되었고,
         10% 인상됐던 <span>TIBERO</span> 제품(8,500원 미만)은 이전 상태의 가격으로 롤백 되었다. </span></em>

PROD_NAME                                           PROD_COST
-------------------------------------------------- ----------
<span>TIBERO</span>                                                   7000
<span>TIBERO</span>3                                                  9000
<span>TIBERO</span>4                                                 10000

3 rows selected.

SQL&gt; <span><strong class="guibutton">quit</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...quit 명령어는 현재 진행 중인 트랜잭션을 먼저 커밋하고 데이터베이스 접속을 종료한다.
         따라서 <span>TIBERO</span>2 제품은 PRODUCT 테이블에서 완전히 제거되었다.</span></em>
Disconnected.

$</pre>

    <p>SQL 문장을 실행하는 데 있어 사용자에게 부여된 특권은 매우 중요하다. DBA 역할을 부여 받은 사용자라면 데이터베이스를
    관리할 때 편리하게 SQL 문장을 실행할 수 있다. 부여되지 않은 특권 때문에 매번 SYS 사용자나 DBA 역할을 가진 다른 사용자로
    접속하여 특권을 부여해줘야 하기 때문이다. 이를 해결하기 위해 여러 특권을 모아 하나의 역할로 생성하는 방법을 사용할 수
    있다.</p>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
      <p>특권과 역할에 대한 자세한 내용은 <a href="chapter_security.html#sect_privilege" title="5.2. 특권">“5.2. 특권”</a>과 <a href="chapter_security.html#sect_role" title="5.4. 역할">“5.4. 역할”</a>을 참고한다.</p>
    </div>

    <div class="literallayout"><p/></div>

    <p>다음은 SYS 사용자로 데이터베이스에 접속한 후 <a href="chapter_01.html#example_user_create" title="[예 2.8] 사용자의 생성">[예 2.8]</a>에서
    생성한 ADMIN 사용자에게 DBA 역할을 부여하는 예이다.</p>

    

    <pre class="programlisting">$ <span><strong class="guibutton"><span><span>tbsql</span></span> SYS/<span>tibero</span></strong></span>

<span>tbSQL</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

Connected to <span>Tibero</span>.

SQL&gt; <span><strong class="guibutton">GRANT DBA TO ADMIN;</strong></span>
Granted.</pre>

    <div class="literallayout"><p/></div>

    <p>ADMIN 사용자를 더 이상 사용하지 않을 경우에는 다음과 같은 SQL 명령을 실행한다.</p>

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">DROP USER ADMIN;</strong></span>
TBR-7139: cascade is required to remove this user from the system

SQL&gt; <span><strong class="guibutton">DROP USER ADMIN CASCADE;</strong></span>
User 'ADMIN' dropped.</pre>

    <p>위 예제에서 보듯이 ADMIN 사용자의 스키마에 생성된 모든 객체를 완전히 삭제하려면
    <span><strong class="guibutton">CASCADE</strong></span> 옵션을 반드시 사용해야 한다. 그렇지 않으면 TBR-7139 에러가 발생하고,
    ADMIN 사용자는 더 이상 데이터베이스에 접속할 수 없게 된다.</p>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1919"/>2.5. 기동과 종료</h2></div></div></div>
    

    <p>본 절에서는 <span>Tibero</span>를 기동하고 종료할 때 사용하는 명령어와 이를 사용하는 방법을
    설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_nbboot"/>2.5.1. <span>tbboot</span></h3></div></div></div>
      

      <p><span>tbboot</span>는 <span>Tibero</span>가 설치된 머신에서 실행해야 한다. 또한 <a href="chapter_01.html#sect_admin_conf" title="2.2. 설치 환경">“2.2. 설치 환경”</a>에서
      설명했듯이 <span>tbboot</span>를 실행하기 전에 반드시 환경변수가 제대로 설정되어 있어야 한다. 이
      명령어와 관련된 환경변수는 $<span>TB_</span>HOME과 $<span>TB_</span>SID이다. 또한 <span>tbboot</span>는 실행 파일을 실행할 수 있는 권한이 있는 사용자라면 어느 누구든
      <span>Tibero</span>를 기동할 수 있다. 따라서 이는 보안 문제가 발생할 수 있어
      정책상 <span>Tibero</span>를 설치한 사용자만 <span>Tibero</span>의 실행 파일에 접근할 수 있도록 권한을 설정할 것을 권장한다.</p>

      <p>파일의 권한(permission)을 설정하는 방법은 다음과 같다.</p>

      

      <pre class="programlisting">$ <span><strong class="guibutton">cd $<span>TB_</span>HOME/bin</strong></span>
$ <span><strong class="guibutton">chmod 700 <span>tbsvr</span> <span>tblistener</span> <span>tbboot</span> <span>tbdown</span> <span>tbctl</span></strong></span>
$ <span><strong class="guibutton">ls -alF</strong></span>
total 56
drwxr-xr-x  4 <span>tibero</span><span>tibero</span> 4096 Dec 28 18:12 ./
drwxr-xr-x 13 <span>tibero</span><span>tibero</span> 4096 Dec 20 11:59 ../

        <em class="lineannotation"><span class="lineannotation">...... 중간 생략......</span></em>

<span class="bold"><strong>-rwx------</strong></span>  1 ... <span>tbboot</span>*
<span class="bold"><strong>-rwx------</strong></span>  1 ... <span>tbctl</span>*
<span class="bold"><strong>-rwx------</strong></span>  1 ... <span>tbsvr</span>*
lrwxrwxrwx    1 ... <span>tblistener</span>*
lrwxrwxrwx    1 ... <span>tbdown</span> -&gt; $<span>TB_HOME</span>/bin/<span>tbsvr</span>*
      </pre>

      <div class="literallayout"><p/></div>

      <p><span>tbboot</span>의 사용법은 다음과 같다.</p>

      <pre class="programlisting"><span>tbboot</span>
<span>tbboot</span> -v
<span>tbboot</span> -h
<span>tbboot</span> -C
<span>tbboot</span> -c
<span>tbboot</span> [-t] [ normal | mount | nomount | resetlogs |
              NORMAL | MOUNT | NOMOUNT | RESETLOGS ]
<span>tbboot</span> -w
</pre>

      <div class="informaltable">
        <table border="1"><colgroup><col width="100" align="left"/><col/></colgroup><thead><tr><th align="left">옵션</th><th>설명</th></tr></thead><tbody><tr><td align="left"> </td><td>옵션이 없는 경우 <span>Tibero</span>를 부트 모드(bootmode) 중 NORMAL로
              기동하는 옵션이다.</td></tr><tr><td align="left">-h</td><td><span>tbboot</span>를 사용하기 위한 간단한 도움말을 보여주는
              옵션이다.</td></tr><tr><td align="left">-v</td><td><span>Tibero</span>의 버전 정보를 보여주는 옵션이다.</td></tr><tr><td align="left">-C</td><td><span>Tibero</span>에서 사용 가능한 character set 정보와
              nls_date_lang 정보를 보여주는 옵션이다.</td></tr><tr><td align="left">-c</td><td><span>Tibero</span>가 replication mode로 설정되어 있을
              경우 replication mode를 사용하지 않는 옵션이다.</td></tr><tr><td align="left">-t</td><td><p><span>Tibero</span> 서버를 기동할 수 있는 옵션이다. 이 옵션은
              생략이 가능하다.</p><p><span>Tibero</span>에서는 <span>tbboot</span>에 부트 모드(bootmode)를 제공한다. 각 모드에
              대한 자세한 내용은 해당 절의 내용을 참고한다.<a id="d5e2010" class="indexterm"/><a id="d5e2012" class="indexterm"/></p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_bootmode_normal" title="2.5.1. NORMAL???TITLE???">NORMAL</a> :
                    정상적으로 데이터베이스의 모든 기능을 사용할 수 있는 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_bootmode_nomount" title="2.5.1. NOMOUNT???TITLE???">NOMOUNT</a>
                    : <span>Tibero</span>의 프로세스만 기동시키는
                    모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_bootmode_mount" title="2.5.1. MOUNT???TITLE???">MOUNT</a> :
                    미디어 복구를 위해 사용하는 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_bootmode_resetlogs" title="2.5.1. RESETLOGS???TITLE???">RESETLOGS</a> :
                    <span>Tibero</span> 서버를 기동하는 과정에서 로그 파일을
                    초기화하며 미디어 복구 이후에 사용하는 모드이다.</p>
                  </li></ul></div></td></tr><tr><td align="left">-w</td><td><p><span>Tibero</span>가 보안 지갑을 열고 기동하는
              옵션이다.</p><p>기동할 때 안내에 따라 보안 지갑의 패스워드를 입력 해야한다. 입력된 보안 지갑의
              패스워드가 일치하는 경우 NORMAL 모드로 기동하며, 불일치 하는 경우 MOUNT 모드로 기동한다. MOUNT
              모드로 기동하는 경우에는 해당 옵션으로 보안 지갑을 열 수 없다.</p></td></tr></tbody></table>
      </div>

      <p/>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_bootmode_normal"/>NORMAL<a id="d5e2038" class="indexterm"/></h4>

      <p>정상적으로 데이터베이스의 모든 기능을 사용할 수 있는 모드이다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbboot</span> NORMAL</strong></span>
listener port = 8629

<span>Tibero</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

<span>Tibero</span> instance started suspended at NORMAL mode.</pre>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>데이터베이스를 비정상적으로 종료한 경우 <span>Tibero</span>가 기동할 때 자동으로 파손 복구(crash recovery)를 실행한다. 자세한 내용은 <a href="chapter_backuprecovery.html#sect_admin_bar_crash_recovery" title="11.3.2. 파손 복구">“11.3.2. 파손 복구”</a>를 참고한다.</p>
      </div>

      <p/>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_bootmode_nomount"/>NOMOUNT<a id="d5e2056" class="indexterm"/></h4>

      <p><span>Tibero</span>의 프로세스만 기동시키는 모드이다. 일반적으로는 이 모드를
      사용하는 경우는 거의 없고 <span>Tibero</span>가 기동한 다음에 CREATE DATABASE 문을 이용하여
      데이터베이스를 생성하는 것밖에 없다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbboot</span> NOMOUNT</strong></span>
listener port = 8629

<span>Tibero</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

<span>Tibero</span> instance started suspended at NOMOUNT mode.</pre>

      <div class="literallayout"><p/></div>

      

      <h4><a id="sect_bootmode_mount"/>MOUNT<a id="d5e2071" class="indexterm"/></h4>

      <p>미디어 복구를 위해 사용하는 모드이다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbboot</span> MOUNT</strong></span>
listener port = 8629

<span>Tibero</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

<span>Tibero</span> instance started suspended at MOUNT mode.</pre>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_bootmode_resetlogs"/>RESETLOGS<a id="d5e2084" class="indexterm"/></h4>

      <p><span>Tibero</span> 서버를 기동하는 과정에서 로그 파일을 초기화하며 미디어 복구
      이후에 사용하는 모드이다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbboot</span> RESETLOGS</strong></span>
listener port = 8629

<span>Tibero</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

<span>Tibero</span> instance started suspended at NORMAL mode.</pre>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>RESETLOGS 부트 모드는 직전에 데이터베이스가 비정상적으로 종료되었을 경우에는 사용할 수 없으며, 일단
        <span>Tibero</span>가 기동되면 NORMAL 모드와 동일하게 동작한다. 자세한
        내용은 <a href="chapter_backuprecovery.html#sect_admin_bar_media_recovery" title="11.3.3. 미디어 복구">“11.3.3. 미디어 복구”</a>를 참고한다.</p>
      </div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_nbdown"/>2.5.2. <span>tbdown</span></h3></div></div></div>
      

      <p><span>tbdown</span>은 현재 동작 중인 <span>Tibero</span>를 종료하는 역할을 수행한다.</p>

      <p><span>tbdown</span>의 사용법은 다음과 같다.</p>

      <pre class="programlisting"><span>tbdown</span>
<span>tbdown</span> -h
<span>tbdown</span> [-t] [ normal | post_tx | immediate | abort | switchover | abnormal |
              NORMAL | POST_TX | IMMEDIATE | ABORT | SWITCHOVER | ABNORMAL ]
<span>tbdown</span> clean</pre>

      <div class="informaltable">
        <table border="1"><colgroup><col width="100" align="left"/><col/></colgroup><thead><tr><th align="left">옵션</th><th>설명</th></tr></thead><tbody><tr><td align="left"> </td><td>옵션이 없는 경우 <span>Tibero</span>를 정상 모드로 종료하는 옵션이다.</td></tr><tr><td align="left">-h</td><td><span>tbdown</span>을 사용하기 위한 간단한 도움말을 보여주는
              옵션이다.</td></tr><tr><td align="left">-t</td><td><p><span>Tibero</span> 서버를 종료할 수 있는 옵션이다. 이 옵션은
              생략이 가능하다.</p><p><span>Tibero</span>에서는 <span>tbdown</span>에 다운 모드(downmode)를 제공한다. 각 모드에
              대한 자세한 내용은 해당 절의 내용을 참고한다.<a id="d5e2138" class="indexterm"/><a id="d5e2140" class="indexterm"/></p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_normal" title="2.5.2. NORMAL???TITLE???">NORMAL</a> :
                    일반적인 종료 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_post_tx" title="2.5.2. POST_TX???TITLE???">POST_TX</a>
                    : 모든 트랜잭션이 끝날 때까지 기다리고 나서 <span>Tibero</span>를 종료하는 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_immediate" title="2.5.2. IMMEDIATE???TITLE???">IMMEDIATE</a> : 현재 수행
                    중인 모든 작업을 강제로 중단시키며, 진행 중인 모든 트랜잭션을 롤백하고 <span>Tibero</span>를 종료하는 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_abort" title="2.5.2. ABORT???TITLE???">ABORT</a> :
                    <span>Tibero</span>의 프로세스를 강제로 종료하는
                    모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_switchover" title="2.5.2. SWITCHOVER???TITLE???">SWITCHOVER</a> :
                    Standby DB와 Primary DB를 동기화시킨 후 Primary DB를 NORMAL 모드처럼
                    종료하는 모드이다.</p>
                  </li><li style="list-style-type: circle">
                    <p><a href="chapter_01.html#sect_downmode_abnormal" title="2.5.2. ABNORMAL???TITLE???">ABNORMAL</a> : <span>Tibero</span> 서버에 접속하지 않고, 서버
                    프로세스를 무조건 강제로 종료시키는 모드이다.</p>
                  </li></ul></div></td></tr><tr><td align="left">clean</td><td><span>Tibero</span> 서버가 비정상 종료된 상태에서 운영 중에
              사용하였던 공유 메모리나 세마포어 자원들을 해제하는 옵션이다. <span>Tibero</span> 서버가 운영 중일 때는 사용할 수
              없다.</td></tr></tbody></table>
      </div>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p><span>Tibero</span> 서버가 kill과 같은 시스템 내부 명령어에 의해서
        비정상적으로 종료된 경우 운영 중에 사용하였던 공유 메모리나 세마포어 자원들이 해제가 안 될 수 있다. 이런 경우에 재부팅을
        시도하는 경우 실패를 하게 되고 관리자는 에러 메시지를 통해서 서버가 비정상 종료 되었다는 것을 인지하게 된다. 이와 같은
        서버의 비정상 종료 후 재부팅을 하기 위해서는 먼저 반드시 <span>tbdown</span> clean으로 기존 자원을 해제시켜야 한다.</p>

        <p>비정상적으로 종료되더라도 초기화 파라미터 BOOT_WITH_AUTO_DOWN_CLEAN를 Y로 설정하면 자동으로
        이전 운영 중에 사용하였던 자원을 해제시켜 부팅을 시킬 수는 있다. 하지만 관리자가 서버의 비정상 종료 상황을 제대로 인지하지
        못하고 서버 운영을 할 수 있으며, 기존 자원이나 프로세스가 제대로 정리가 안 되는 예외적이 상황이 발생하여 충돌이 날 수
        있으므로 BOOT_WITH_AUTO_DOWN_CLEAN 옵션을 켜는 것을 권장하지 않는다.</p>
      </div>

      <div class="literallayout"><p/></div>

      <p><span>tbdown</span> 명령을 이용하여<span>Tibero</span> 서버를 종료시킬 때 ABNORMAL 모드를 제외한 모든 다운 모드(downmode)에서는 <span>tbdown</span> 프로세스가 서버에 직접 접속하여 세션을 맺고 명령을 내려 서버를
      종료시킨다.</p>

      <p><span>tbdown</span> 프로세스가 서버에 접속하기 위한 호스트 네임은 locahost로
      고정되어 있으며 포트 번호는 초기화 파라미터 '_LSNR_SPECIAL_PORT'와 같다. _LSNR_SPECIAL_PORT의
      기본값은 LISTENER_PORT + 1이다. 다만 직접적으로 _LSNR_SPECIAL_PORT로 접속하려 할 때에는 호스트
      네임에 localhost는 사용할 수 없으며 다른 호스트 네임이나 IP를 명시적으로 사용해야 한다.</p>

      <p>리스너는 <span>tbdown</span>프로세스의 접속 요청을 받아서 일반 워킹 프로세스가 아닌 전용 워킹
      프로세스의 워킹 스레드에게 접속을 할당한다. <span>tbdown</span> 프로세스가 ABNORMAL 모드로 <span>Tibero</span> 서버를 종료시킬 때는 서버에 직접 접속하지 않고 OS의 강제 종료 시그널을 사용하여 서버 프로세스들을 강제로
      종료시킨다.</p>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>1. 현재 <span>Tibero</span> 서버에 접속하고 있는 세션이 존재하는 경우에 다운 모드
        옵션이 없는 <span>tbdown</span> 명령을 하면 NORMAL 모드로 세션이 끝날 때까지 기다렸다가
        종료할지, IMMEDIATE 모드로 바로 종료할지 아니면 서버 종료를 취소할 것인지를 선택해야 한다.</p>

        <p>2. 이 장에서 설명하는 <span>tbdown</span> 명령과 다운 모드는 SYS 사용자로 접속한 <span>tbSQL</span>의 SQL 프롬프트에서도 가능하다. 이를 통하여 <span>Tibero</span> 서버가 설치되지 않은 원격에서 <span>tbSQL</span>를 이용하여 서버를 종료시킬 수 있다. 단, ABNORMAL 모드의
        <span>tbdown</span> 명령은 <span>tbSQL</span>에서 사용할 수 없다.</p>

        <p>3. Windows에서 서비스 관리자를 통해서 <span>Tibero</span> 서비스를 중지시킬 경우 기본적으로 IMMEDIATE 모드로 <span>Tibero</span> 서버가 종료된다. 하지만 사용자가 원한다면 초기화 파라미터
        'SERVICE_CONTROL_STOP_DOWN'을 이용하여 종료 모드를 설정할 수 있다.</p>
      </div>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_normal"/>NORMAL<a id="d5e2202" class="indexterm"/></h4>

      <p>일반적인 종료 모드이다.<span> Tibero</span>에 SYS 사용자로 접속한 다음 다른 모든 세션의 접속이 끊어질
      때까지 기다린 후 그 다음 서버를 종료시킨다. 일단 <span>tbdown</span>을 실행하고 나면 어떤 사용자도 더 이상 데이터베이스에 접속할 수 없게
      된다. 하지만 <span>tbdown</span>이 실행되기 전에 이미 데이터베이스에 접속한 사용자는 스스로 접속을
      끊을 때까지 제한 없이 데이터베이스를 계속 사용할 수 있다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbdown</span></strong></span>

<span>Tibero</span> instance terminated (NORMAL mode).</pre>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_post_tx"/>POST_TX<a id="d5e2216" class="indexterm"/></h4>

      <p>모든 트랜잭션이 끝날 때까지 기다리고 나서 <span>Tibero</span>를 종료하는 모드이다.</p>

      <p>POST_TX는 <span>Tibero</span>에 SYS 사용자로 접속한 다음 모든 <span class="bold"><strong>트랜잭션</strong></span>이 끝날 때까지 기다린다. 그 다음 <span>Tibero</span>를 종료시킨다. <span>tbdown</span> 실행이 시작되면 더는 데이터베이스에 접속할 수 없고 이미 열려 있던
      세션에서도 새로운 트랜잭션을 시작할 수 없게 된다. 다만, 현재 수행 중인 트랜잭션은 커밋 또는 롤백할 때까지 제한 없이 수행할
      수 있으며, 커밋이나 롤백을 하는 순간 자동으로 데이터베이스 접속을 종료하게 된다.</p>

      <p>또한 <span>tbdown</span> 실행이 시작되면 데이터베이스에 접속한 클라이언트에게
      <span><strong class="guibutton">서버 종료</strong></span>를 알리는 메시지를 보내지 않는다. <span>tbSQL</span>
      유틸리티 등에서는 클라이언트가 서버 종료를 즉시 알지 못하고 그 다음 명령을 실행할 때 비로소 <span>Tibero</span>가 종료되었음을 알게 된다.</p>

      <p>예를 들면 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span><span>tbsql</span></span> admin/password123</strong></span>

<span>tbSQL</span> 7 

<span>TmaxData</span> Corporation Copyright (c) 2008-. All rights reserved.

Connected to <span>Tibero</span>.

SQL&gt; <span><strong class="guibutton">CREATE TABLE T1 (COL1 NUMBER);</strong></span>
Table 'T1' created.

SQL&gt; <span><strong class="guibutton">INSERT INTO T1 VALUES(10);</strong></span>
1 row inserted.

SQL&gt; <span><strong class="guibutton">SELECT * FROM T1;</strong></span>
      COL1
----------
        10

1 row selected.
        <em class="lineannotation"><span class="lineannotation">...이 시점에서 <span>tbdown</span> POST_TX 명령을 실행한다.</span></em>
        <em class="lineannotation"><span class="lineannotation">...<span>tbdown</span> 명령은 트랜잭션이 끝나기를 기다린다.</span></em>

SQL&gt; <span><strong class="guibutton">COMMIT;</strong></span>
Commit succeeded.
        <em class="lineannotation"><span class="lineannotation">...이 시점에서 실제로 서버가 종료되고 <span>tbdown</span> 실행이 끝난다.</span></em>

SQL&gt; <span><strong class="guibutton">SELECT * FROM T1;</strong></span>
TBR-2131: Generic I/O error.
        <em class="lineannotation"><span class="lineannotation">...서버가 종료되었으므로 <span>tbSQL</span> 유틸리티의 프롬프트에서는 TBR-2131 에러가 발생된다.</span></em></pre>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_immediate"/>IMMEDIATE<a id="d5e2254" class="indexterm"/></h4>

      <p>현재 수행 중인 모든 작업을 강제로 중단시키며, 진행 중인 모든 트랜잭션을 롤백하고 <span>Tibero</span>를 종료하는 모드이다. IMMEDIATE는 <span>Tibero</span>에 SYS 사용자로 접속한 다음 현재 수행 중인 모든 작업을 강제로 종료하고 진행 중이던 모든 트랜잭션을
      롤백한 후 <span>Tibero</span>를 종료시킨다. 클라이언트에서 <span>Tibero</span> 종료를 알지 못하는 것은 POST_TX 모드와 같다. 트랜잭션이 오래 걸리는 작업 중에 있었다면, 이를 모두
      롤백하기 위해서 다소 시간이 걸릴 수 있다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbdown</span> immediate</strong></span>

<span>Tibero</span> instance terminated (IMMEDIATE mode).</pre>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_abort"/>ABORT<a id="d5e2269" class="indexterm"/></h4>

      <p><span>Tibero</span>의 프로세스를 강제로 종료하는 모드이다. ABORT는
      <span>Tibero</span>에 SYS 사용자로 접속한 다음 <span>Tibero</span>의 MONP 프로세스가 모든 프로세스를 OS의 강제 종료 시그널을 전달하여 강제로 종료시키는 모드이다. 따라서
      이 모드는 비상시에 사용하며 다음 번에 <span>Tibero</span>를 기동할 때 파손 복구 과정이 필요하다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbdown</span> abort</strong></span>

<span>Tibero</span> instance terminated (ABORT mode).</pre>

      <p>ABORT는 <span>Tibero</span>가 강제로 종료시키므로 사용하던 시스템 리소스를 해제할 기회가
      없다. 따라서 서버가 종료된 다음에도 공유 메모리(Shared Memory), 세마포어(Semaphore) 등의 시스템 리소스가
      남아있을 수 있으며, 로그 파일이나 데이터 파일도 마찬가지이다. 또한 다음 번에 <span>Tibero</span>를 기동할 때 파손 복구에 많은 시간이 걸릴 수도 있다.</p>

      <p><span><strong class="guibutton">ABORT는 다음과 같은 경우에만 제한적으로 사용할 것을
      권장한다.</strong></span></p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p><span>Tibero</span>의 내부 에러로 인한 정상적인 종료가 불가능한
          경우</p>
        </li><li>
          <p>H/W에 문제가 발생하여 <span>Tibero</span>를 즉시 종료해야 하는 경우</p>
        </li><li>
          <p>해킹 등의 비상 상태가 발생하여 <span>Tibero</span>를 즉시 종료해야 하는 경우</p>
        </li></ul></div>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_switchover"/>SWITCHOVER<a id="d5e2299" class="indexterm"/></h4>

      <p>SWITCHOVER는 Standby DB와 Primary DB를 동기화시킨 후 Primary DB를 NORMAL
      모드처럼 종료하는 모드이다. 이와 관련된 자세한 내용은 <a href="chapter_standby_cluster.html" title="제13장 Tibero Standby Cluster">“제13장 <span>Tibero</span> Standby Cluster”</a>의 <a href="chapter_standby_cluster.html#sect_switchover" title="13.7.1. Switchover">“13.7.1. Switchover”</a>를 참고한다.</p>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_downmode_abnormal"/>ABNORMAL<a id="d5e2307" class="indexterm"/></h4>

      <p><span>Tibero</span> 서버에 접속하지 않고 서버 프로세스를 무조건 강제로 종료시키는
      모드이다.</p>

      <p>ABNORMAL은 <span>Tibero</span> 서버에 접속하지 않고 현재 <span>Tibero</span> 서버 상태와 상관없이 OS의 강제 종료 시그널을 사용하여 무조건 서버 프로세스를 강제로 종료시키는 모드이다.
      따라서 이 모드는 비상 시에 사용하며, 다음번에 <span>Tibero</span>를 기동할 때 파손 복구 과정이 필요하다.</p>

      <p>사용 예는 다음과 같다.</p>

      <pre class="programlisting">$ <span><strong class="guibutton"><span>tbdown</span> abnormal</strong></span>

<span>Tibero</span> instance terminated (ABNORMAL mode).</pre>

      <p>ABNORMAL는 <span>Tibero</span>가 강제로 종료시키므로 사용하던 시스템 리소스를 해제 못 할 수
      있다.</p>

      <p>따라서 서버가 종료된 다음에도 공유 메모리(Shared Memory), 세마포어(Semaphore) 등의 시스템
      리소스가 남아있을 수 있으며, 로그 파일이나 데이터 파일도 마찬가지이다. 또한 다음 번에 <span>Tibero</span>를 기동할 때 파손 복구에 많은 시간이 걸릴 수도 있다.</p>

      <p><span><strong class="guibutton">ABNORMAL은 다음과 같은 경우에만 제한적으로 사용할 것을
      권장한다.</strong></span></p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p><span>Tibero</span>의 내부 에러로 인한 정상적인 종료가 불가능한
          경우</p>
        </li><li>
          <p>ABNORMAL 외 다른 종료 모드로 종료 명령을 내린 후 종료가 지연되고 있을 때 강제로 즉시 종료해야 하는
          경우</p>
        </li><li>
          <p>H/W나 OS 등의 외부적인 요인으로 인하여 문제가 발생하여 ABNORMAL 외 다른 종료 모드의 실행이 실패한
          경우</p>
        </li><li>
          <p>H/W에 문제가 발생하여 <span>Tibero</span>를 즉시 종료해야 하는 경우</p>
        </li><li>
          <p>해킹 등의 비상 상태가 발생하여 <span>Tibero</span>를 즉시 종료해야 하는 경우</p>
        </li></ul></div>

      <p/>

      <p/>

      <p/>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e2344"/>2.6. Binary TIP 사용<a id="d5e2346" class="indexterm"/><a id="d5e2348" class="indexterm"/></h2></div></div></div>
    

    <p>Binary TIP(이하 BTIP)은 <span>Tibero</span> Initialization Parameter 값을 바이너리 파일 형태로 저장하는 기능이다. 기존의 TIP 파일과
    차이점은 운영 중 변경한 파라미터의 값을 저장하여 다음 부팅할 때 반영할 수 있다.</p>

    <p>BTIP의 생성은 다음의 DDL 구문을 실행한다.</p>

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">CREATE BTIP FROM TIP;</strong></span>
<em class="lineannotation"><span class="lineannotation">      ...$<span>TB</span>_HOME/config 하위의 TIP 파일로부터 BTIP을 
      ...$<span>TB</span>_HOME/config/$<span>TB</span>_SID.btip로 생성한다.

</span></em>SQL&gt; <span><strong class="guibutton">CREATE BTIP='PATH' FROM TIP;</strong></span>  
<em class="lineannotation"><span class="lineannotation">      ...BTIP을 $<span>TB</span>_HOME/config 아닌 곳에 생성하고 
      ...싶은 경우 BTIP 파일명의 절대 경로를 주면 된다.
      ...파일 확장명은 반드시 .btip이어야 한다.</span></em> </pre>

    <p>BTIP 파일로 부팅하기 위해서는 $<span>TB</span>_HOME/config 하위에 $<span>TB</span>_SID.tip에 BTIP_FILE_PATH를 추가해야 한다. 이 파라미터는
    BTIP 파일의 절대경로를 나타낸다. 기본적으로 부팅할 때 $<span>TB</span>_SID.tip
    파일에 BTIP_FILE_PATH 파라미터가 설정되어 있다면, BTIP_FILE_PATH의 BTIP 파일에서 파라미터를 읽어온다.
    BTIP 파일을 사용하기 위해서는 $<span>TB</span> _SID.tip 파일에는 BTIP_FILE_PATH만 설정되어 있어야
    한다.</p>

    <p><span>사용 중인 TIP 파일의 정보는 다음처럼 조회할 수
    있다.</span></p>

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">SELECT TIP_FILE FROM V$INSTANCE;
TIP_FILE
--------------------------------------------------------------------------------
/home/<span>tibero</span>/work/7/config/t7.btip
</strong></span>
<em class="lineannotation"><span class="lineannotation">...$<span>TB</span>_HOME/config 하위의 BTIP 파일을 사용 중이다.</span></em> </pre>

    <p>운영 중 파라미터 동적 변경을 BTIP에 저장하려면 다음의 DDL 구문을 이용하여 반영하려고 하는 scope를 지정하면
    된다.</p>

    <pre class="programlisting">SQL&gt; ALTER SYSTEM SET PARAMETER1 = NEW_VALUE <span><strong class="guibutton">SCOPE BTIP</strong></span> ;
<em class="lineannotation"><span class="lineannotation">...PARAMETER1의 변경된 값 NEW_VALUE는 BTIP에만 반영하여 
...다음 부팅부터 PARAMETER1의 값은 NEW_VALUE로 동작한다.
...DDL 구문 수행 후 PARAMETER1의 값은 OLD_VALUE이다.

</span></em>SQL&gt; ALTER SYSTEM SET PARAMETER1 = NEW_VALUE <span><strong class="guibutton">SCOPE MEMORY</strong></span> ;
<em class="lineannotation"><span class="lineannotation">...PARAMETER1의 변경된 값 NEW_VALUE는 운영 중인 시점에만 반영하고 
...다음 부팅시 PARAMETER1의 값은 OLD_VALUE이다.</span></em>

SQL&gt; ALTER SYSTEM SET PARAMETER1 = NEW_VALUE <span><strong class="guibutton">SCOPE BOTH</strong></span> ;
<em class="lineannotation"><span class="lineannotation">...PARAMETER1의 변경된 값 NEW_VALUE는 운영 시점과 BTIP 모두 반영하며 
...다음 부팅시 PARAMETER1의 값은 NEW_VALUE이다.
...DDL 구문 수행 후 PARAMETER1의 값도 NEW_VALUE이다.</span></em>
</pre>

    <p>BTIP에서 TIP 파일 생성하는 것은 운영 중인 서버가 BTIP을 사용 중일 때 가능하다.</p>

    <pre class="programlisting">SQL&gt; <span><strong class="guibutton">CREATE TIP FROM BTIP;</strong></span> </pre>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_intro.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_03.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제1장 <span>Tibero</span> 소개 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제3장 파일과 데이터 관리</td></tr></table></div><div xmlns="" align="center"/></body></html>