<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제23장 DBMS_OBFUSCATION_TOOLKIT</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_mview.html" title="제22장 DBMS_MVIEW"/><link rel="next" href="chap_dbms_output.html" title="제24장 DBMS_OUTPUT"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제23장 DBMS_OBFUSCATION_TOOLKIT</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_mview.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_output.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_obfuscation"/>제23장 DBMS_OBFUSCATION_TOOLKIT</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_obfuscation.html#d5e8925">23.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#d5e8978">23.2. 프러시저와 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DES3DECRYPT">23.2.1. DES3DECRYPT</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DES3ENCRYPT">23.2.2. DES3ENCRYPT</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DES3GETKEY">23.2.3. DES3GETKEY</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DESDECRYPT">23.2.4. DESDECRYPT</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DESENCRYPT">23.2.5. DESENCRYPT</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_DESGETKEY">23.2.6. DESGETKEY</a></span></dt><dt><span class="section"><a href="chap_dbms_obfuscation.html#DBMS_OBFUSCATION_TOOLKIT_MD5">23.2.7. MD5</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_OBFUSCATION_TOOLKIT 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을
  설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e8925"/>23.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_OBFUSCATION_TOOLKIT</strong></span><a id="d5e8929" class="indexterm"/>은 데이터를 암호화(encryption)하고 복호화(decryption)하는 패키지이다. 이 패키지에서는
    데이터의 암호화 및 복호화를 위해 DES(Data Encryption Standard)<a id="d5e8932" class="indexterm"/> 또는 3DES(Triple DES) 알고리즘을 이용한다. DES와 3DES 알고리즘은 대칭
    키(symmetric key)를 사용하는 알고리즘이다.</p>

    <div class="informaltable">
      <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">알고리즘</th><th>설명</th></tr></thead><tbody><tr><td align="left">DES<a id="d5e8944" class="indexterm"/></td><td><p>56bits의 키를 사용하는 알고리즘이다. 그동안 널리 사용되어 왔으나 최근에는 보안성이
            보장되지 않아 점차 사용 빈도가 줄어들고 있다.</p><p>대칭 키를 사용하는
            알고리즘이다.</p></td></tr><tr><td align="left">3DES<a id="d5e8951" class="indexterm"/></td><td><p>하나의 데이터에 DES 알고리즘을 두 번 내지 세 번 반복하여 적용하는 알고리즘이다. 각각
            112(56 * 2)bits와 168(56 * 3)bits 키를 사용한다. DES 알고리즘과 마찬가지로 대칭 키를
            사용하는 알고리즘이다. </p><p>다른 대칭 키를 사용하는 알고리즘에 비해 암호화 및 복호화를 하는 시간이
            많이 필요하다는 단점이 있다.</p></td></tr></tbody></table>
    </div>

    <div class="literallayout"><p/></div>

    <p>이러한 대칭 키를 사용하는 암호화 알고리즘에서는 키를 안전하게 관리하는 것이 무엇보다 중요하다.</p>

    <p>암호화 알고리즘에서 키를 관리하는 방법은 다음과 같다.</p>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p><span><strong class="guibutton">데이터베이스에 키를 저장하는 방법</strong></span></p>

        <p>특정 테이블의 컬럼에 키를 저장하는 방법이다. 이때 키를 저장하는 테이블은 암호화된 데이터 컬럼과 같은 테이블일
        수도 있고, 다른 테이블일 수도 있다. 같은 테이블에 키를 저장하는 경우에는 해당 테이블 전체에 대한 액세스 특권을 부여하는
        대신 뷰 또는 <span>tbPSM</span> 프로그램 등을 통하여 해당 테이블에 액세스해야 한다.</p>
      </li><li>
        <p><span><strong class="guibutton">운영체제 파일에 저장하는 방법</strong></span></p>

        <p>키를 파일에 저장하고, 데이터베이스 내에서 <span>tbPSM</span> 프로그램 등을 통하여 운영체제 파일로부터 키를 읽어 데이터를
        암호화하거나 복호화하는 방법이다. 이때 키를 저장하는 운영체제 파일은 패스워드 파일과 같이 다른 사람이 직접 액세스할 수
        없도록 보안을 유지해야 한다.</p>
      </li><li>
        <p><span><strong class="guibutton">사용자가 키를 직접 입력하는 방법</strong></span></p>

        <p>사용자 또는 애플리케이션 프로그램 내에서 필요할 때마다 키를 데이터베이스로 전송하여 암호화 및 복호화를 수행하는
        방법이다. 이 방법은 사용자가 키를 항상 암기하고 있거나 애플리케이션 프로그램의 소스 내에 키가 포함되어 있어야 한다. 또한,
        키는 네트워크를 통하여 데이터베이스 서버로 전달되므로, 네트워크 보안에도 유의해야 한다.</p>
      </li></ul></div>

    <p/>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e8978"/>23.2. 프러시저와 함수</h2></div></div></div>
    

    <p>본 절에서는 DBMS_OBFUSCATION_TOOLKIT 패키지에서 제공하는 프러시저와 함수를 알파벳 순으로
    설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DES3DECRYPT"/>23.2.1. DES3DECRYPT<a id="d5e8983" class="indexterm"/></h3></div></div></div>
      

      <p>3DES 알고리즘을 이용하여 암호화된 데이터를 복호화하는 프러시저와 함수이다. 주어진 암호화된 데이터에 대하여 두 번
      또는 세 번의 DES 복호화를 수행할 수 있다.</p>

      <p>복호화를 위해 주어진 키에 대해 복호화를 두 번 수행한다면 16bytes(128bits), 세 번을 수행한다면
      24bytes(192bits)이어야 하며, 그렇지 않으면 예외 상황이 발생한다. 디폴트는 두 번의 DES 복호화를 수행한다.
      암호화된 데이터와 같은 횟수만큼 DES 알고리즘을 수행해야
      한다.</p><div class="literallayout"><p/></div>

      <p>DES3DECRYPT 프러시저와 함수<a id="d5e8990" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3DECRYPT 
(
    input               IN          RAW,
    key                 IN          RAW,
    decrypted_data      OUT         RAW,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv                  IN          RAW            DEFAULT NULL
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3DECRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2,
    decrypted_string    OUT         VARCHAR2,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv_string           IN          VARCHAR2       DEFAULT NULL
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3DECRYPT 
(
    input               IN          RAW,
    key                 IN          RAW,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv                  IN          RAW            DEFAULT NULL
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3DECRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv_string           IN          VARCHAR2       DEFAULT NULL
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">input, input_string</td><td>복호화할 데이터이다.</td></tr><tr><td align="left">key</td><td>복호화하기 위해 주어진 키 값이다.</td></tr><tr><td align="left">decrypted_data</td><td>복호화된 결과 데이터이다.</td></tr><tr><td align="left">which</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>0이면 DES 복호화를 2번 수행한다.</p>
                      </li><li>
                        <p>1이면 DES 복호화를 3번 수행한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">iv</td><td>초기화 벡터이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">INVALID_ARGUMENT</td><td>파라미터 중 하나라도 NULL인 경우이다.</td></tr><tr><td align="left">INVALID_INPUT</td><td>input_data의 길이가 8의 배수가 아닌 경우이다.</td></tr><tr><td align="left">KEY_TOO_SHORT</td><td>키 값의 길이가 8보다 작은 경우이다.</td></tr><tr><td align="left">INVALID_DES_MODE</td><td>which 값이 0 또는 1이 아닌 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data RAW(256);
    key RAW(16);
    encrypted_data RAW(256);
    decrypted_data RAW(256);
BEGIN
    data := '0102030405AE030D0123456789ABCDEF';
    key := '0A123B8E002CD3FF01DE2389A4567BCF';
    DBMS_OBFUSCATION_TOOLKIT.DES3Encrypt(input =&gt; data, key =&gt; key, 
            encrypted_data =&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DES3Decrypt(input =&gt; data, key =&gt; key, 
            decrypted_data =&gt; decrypted_data);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DES3ENCRYPT"/>23.2.2. DES3ENCRYPT<a id="d5e9061" class="indexterm"/></h3></div></div></div>
      

      <p>3DES 알고리즘을 이용하여 데이터를 암호화하는 프러시저와 함수이다. 주어진 데이터에 대하여 두 번 또는 세 번의
      DES 암호화를 수행할 수 있다.</p>

      <p>암호화를 위해 주어진 키에 대해 암호화를 두 번을 수행한다면 16bytes(128bits), 세 번을 수행한다면
      24bytes(192bits)이어야 하며, 그렇지 않으면 예외 상황이 발생한다. 디폴트는 두 번의 DES 암호화를
      수행한다.</p>

      <div class="literallayout"><p/></div>

      <p>DES3ENCRYPT 프러시저와 함수<a id="d5e9068" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3ENCRYPT 
(
    input               IN          RAW,
    key                 IN          RAW,
    encrypted_data      OUT         RAW,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv                  IN          RAW            DEFAULT NULL
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3ENCRYPT 
(
     input_string        IN          VARCHAR2,
     key_string          IN          VARCHAR2,
     encrypted_string    OUT         VARCHAR2,
     which               IN          PLS_INTEGER    DEFAULT 0,
     iv_string           IN          VARCHAR2       DEFAULT NULL
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3ENCRYPT 
(
     input               IN          RAW,
     key                 IN          RAW,
     which               IN          PLS_INTEGER    DEFAULT 0,
     iv                  IN          RAW            DEFAULT NULL
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3ENCRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2,
    which               IN          PLS_INTEGER    DEFAULT 0,
    iv_string           IN          VARCHAR2       DEFAULT NULL
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">input, input_string</td><td>암호화할 데이터이다.</td></tr><tr><td align="left">key</td><td>암호화하기 위해 주어진 키 값이다.</td></tr><tr><td align="left">encrypted_data</td><td>암호화된 결과 데이터이다.</td></tr><tr><td align="left">which</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>0이면 DES 암호화를 2번 수행한다.</p>
                      </li><li>
                        <p>1이면 DES 암호화를 3번 수행한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">iv</td><td>초기화 벡터이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">INVALID_ARGUMENT</td><td>파라미터 중 하나라도 NULL인 경우이다.</td></tr><tr><td align="left">INVALID_INPUT</td><td>input_data의 길이가 8의 배수가 아닌 경우이다.</td></tr><tr><td align="left">KEY_TOO_SHORT</td><td>키 값의 길이가 8보다 작은 경우이다.</td></tr><tr><td align="left">INVALID_DES_MODE</td><td>which 값이 0 또는 1이 아닌 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data RAW(256);
    key RAW(16);
    encrypted_data RAW(256);
    decrypted_data RAW(256);
BEGIN
    data := '0102030405AE030D0123456789ABCDEF';
    key := '0A123B8E002CD3FF01DE2389A4567BCF';
    DBMS_OBFUSCATION_TOOLKIT.DES3Encrypt(input =&gt; data, key =&gt; key, 
            encrypted_data =&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DES3Decrypt(input =&gt; data, key =&gt; key, 
            decrypted_data =&gt; decrypted_data);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DES3GETKEY"/>23.2.3. DES3GETKEY<a id="d5e9139" class="indexterm"/></h3></div></div></div>
      

      <p>임의의 값을 입력 값으로 받아 DES3 알고리즘을 위한 키를 생성하는 프러시저와 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>DES3GETKEY 프러시저와 함수<a id="d5e9145" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3GETKEY 
(
    which           IN          PLS_INTEGER     DEFAULT 0,
    seed            IN          RAW,
    key             OUT         RAW
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3GETKEY 
(
    which           IN          PLS_INTEGER     DEFAULT 0,
    seed_string     IN          VARCHAR2,
    key             OUT         VARCHAR2
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3GETKEY 
(
    which           IN          PLS_INTEGER     DEFAULT 0,
    seed            IN          RAW
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DES3GETKEY 
(
    which           IN          PLS_INTEGER     DEFAULT 0,
    seed_string     IN          VARCHAR2
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">which</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>0이면 DES 암호화를 2번 수행한다.</p>
                      </li><li>
                        <p>1이면 DES 암호화를 3번 수행한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">seed</td><td>80자 이상의 임의의 값이다.</td></tr><tr><td align="left">key</td><td>암호화하기 위해 주어진 키 값이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">NO_SEED</td><td>seed의 값이 NULL인 경우이다.</td></tr><tr><td align="left">SEED_TOO_SHORT</td><td>seed의 길이가 80보다 작은 경우이다.</td></tr><tr><td align="left">INVALID_INPUT</td><td>which가 NULL인 경우이다.</td></tr><tr><td align="left">INVALID_DES_MODE</td><td>which의 값이 0 또는 1이 아닌 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data VARCHAR2(4096);
    key VARCHAR2(4096);
 key_seed VARCHAR2(4096);
    encrypted_data VARCHAR2(4096);
    decrypted_data VARCHAR2(4096);
BEGIN
    data := '0102030405AE030D';
    key_seed := '1234567890'||'1234567890'||'1234567890'||'1234567890';
    key_seed := rpad(key_seed,80);
    key := dbms_obfuscation_toolkit.DES3GetKey(seed_string =&gt; key_seed);
    DBMS_OBFUSCATION_TOOLKIT.DES3Encrypt(input_string =&gt; data, key_string =&gt; key,
            encrypted_string=&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DES3Decrypt(input_string =&gt; data, key_string =&gt; key,
            decrypted_string =&gt; decrypted_data);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DESDECRYPT"/>23.2.4. DESDECRYPT<a id="d5e9210" class="indexterm"/></h3></div></div></div>
      

      <p>DES 알고리즘을 이용하여 암호화된 데이터를 복호화하는 프러시저와 함수이다. 복호화를 위해 주어진 키는 반드시
      8bytes(64bits)이어야 하며, 그렇지 않으면 예외 상황이 발생한다.</p>

      <div class="literallayout"><p/></div>

      <p>DESDECRYPT 프러시저와 함수<a id="d5e9216" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESDECRYPT 
(
    input               IN          RAW,
    key                 IN          RAW,
    decrypted_data      OUT         RAW
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESDECRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2,
    decrypted_string    OUT         VARCHAR2
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESDECRYPT 
(
    input               IN          RAW,
    key                 IN          RAW
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESDECRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2
)
 RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">input, input_string</td><td>복호화할 데이터이다.</td></tr><tr><td align="left">key</td><td>복호화하기 위해 주어진 키 값이다.</td></tr><tr><td align="left">decrypted_data</td><td>복호화된 결과 데이터이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">INVALID_ARGUMENT</td><td>파라미터 중 하나라도 NULL인 경우이다.</td></tr><tr><td align="left">INVALID_INPUT</td><td>input_data의 길이가 8의 배수가 아닌 경우이다.</td></tr><tr><td align="left">KEY_TOO_SHORT</td><td>키 값의 길이가 8보다 작은 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data RAW(256);
    key RAW(16);
    encrypted_data RAW(256);
    decrypted_data RAW(256);
BEGIN
    data := '0102030405AE030D';
    key := '0A123B8E002CD3FF';
    DBMS_OBFUSCATION_TOOLKIT.DESEncrypt(input =&gt; data, key =&gt; key, 
            encrypted_data =&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DESDecrypt(input =&gt; data, key =&gt; key, 
            decrypted_data =&gt; decrypted_data);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DESENCRYPT"/>23.2.5. DESENCRYPT<a id="d5e9273" class="indexterm"/></h3></div></div></div>
      

      <p>DES 알고리즘을 이용하여 데이터를 암호화하는 프러시저와 함수이다. 암호화를 위해 주어진 키는 반드시
      8bytes(64bits)이어야 하며, 그렇지 않으면 예외 상황이 발생한다.</p>

      <div class="literallayout"><p/></div>

      <p>DESENCRYPT 프러시저와 함수<a id="d5e9279" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESENCRYPT 
(
    input               IN          RAW,
    key                 IN          RAW,
    encrypted_data      OUT         RAW
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESENCRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2,
    encrypted_string    OUT         VARCHAR2
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESENCRYPT 
(
    input               IN          RAW,
    key                 IN          RAW
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESENCRYPT 
(
    input_string        IN          VARCHAR2,
    key_string          IN          VARCHAR2
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">input, input_string</td><td>암호화할 데이터이다.</td></tr><tr><td align="left">key</td><td>암호화하기 위해 주어진 키 값이다.</td></tr><tr><td align="left">encrypted_data</td><td>암호화된 결과 데이터이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">INVALID_ARGUMENT</td><td>파라미터 중 하나라도 NULL인 경우이다.</td></tr><tr><td align="left">INVALID_INPUT</td><td>input_data의 길이가 8의 배수가 아닌 경우이다.</td></tr><tr><td align="left">KEY_TOO_SHORT</td><td>키 값의 길이가 8보다 작은 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data RAW(256);
    key RAW(16);
    encrypted_data RAW(256);
    decrypted_data RAW(256);
BEGIN
    data := '0102030405AE030D';
    key := '0A123B8E002CD3FF';
    DBMS_OBFUSCATION_TOOLKIT.DESEncrypt(input =&gt; data, key =&gt; key, 
            encrypted_data =&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DESDecrypt(input =&gt; data, key =&gt; key, 
            decrypted_data =&gt; decrypted_data);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_DESGETKEY"/>23.2.6. DESGETKEY<a id="d5e9336" class="indexterm"/></h3></div></div></div>
      

      <p>임의의 값을 입력 값으로 받아 DES 알고리즘을 위한 키를 생성하는 프러시저와 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>DESGETKEY 프러시저와 함수<a id="d5e9342" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESGETKEY 
(
    seed            IN          RAW,
    key             OUT         RAW
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESGETKEY 
(
    seed_string     IN          VARCHAR2,
    key             OUT         VARCHAR2
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESGETKEY 
(
    seed            IN          RAW
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.DESGETKEY 
(
    seed_string     IN          VARCHAR2
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">seed</td><td>80자 이상의 임의의 값이다.</td></tr><tr><td align="left">key</td><td>암호화하기 위해 주어진 키 값이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">NO_SEED</td><td>seed의 값이 NULL인 경우이다.</td></tr><tr><td align="left">SEED_TOO_SHORT</td><td>seed의 길이가 80보다 작은 경우이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    data VARCHAR2(4096);
    key VARCHAR2(4096);
 key_seed VARCHAR2(4096);
    encrypted_data VARCHAR2(4096);
    decrypted_data VARCHAR2(4096);
BEGIN
    data := '0102030405AE030D';
    key_seed := '1234567890'||'1234567890'||'1234567890'||'1234567890';
    key_seed := rpad(key_seed,80);
    key := dbms_obfuscation_toolkit.DESGetKey(seed_string =&gt; key_seed);
    DBMS_OBFUSCATION_TOOLKIT.DESEncrypt(input_string =&gt; data, key_string =&gt; key,
            encrypted_string=&gt; encrypted_data);
    data := encrypted_data;
    DBMS_OBFUSCATION_TOOLKIT.DESDecrypt(input_string =&gt; data, key_string =&gt; key,
            decrypted_string =&gt; decrypted_data);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_OBFUSCATION_TOOLKIT_MD5"/>23.2.7. MD5<a id="d5e9393" class="indexterm"/></h3></div></div></div>
      

      <p>임의의 값을 입력 값으로 받아 MD5 알고리즘의 checksum을 생성하는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>MD5 프러시저와 함수<a id="d5e9399" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.MD5 
(
    input           IN          RAW,
    checksum        OUT         RAW
);</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.MD5 
(
    input_string            IN          VARCHAR2,
    checksum_string         OUT         VARCHAR2
);</pre>
            </li><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.MD5 
(
    input           IN          RAW
) 
RETURN RAW;</pre>

              <pre class="programlisting">DBMS_OBFUSCATION_TOOLKIT.MD5 
(
    input_string          IN          VARCHAR2
) 
RETURN VARCHAR2;</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">input</td><td>임의의 암호화할 값이다.</td></tr><tr><td align="left">checksum</td><td>input으로부터 구한 checksum 값이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예외 상황</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">NO_DATA_PASSED</td><td>input의 값이 NULL인 경우이다.</td></tr></tbody></table>
          </div>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_mview.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_output.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제22장 DBMS_MVIEW </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제24장 DBMS_OUTPUT</td></tr></table></div><div xmlns="" align="center"/></body></html>