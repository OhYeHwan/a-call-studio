<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제13장 DBMS_FGA</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_errlog.html" title="제12장 DBMS_ERRLOG"/><link rel="next" href="chap_dbms_flashback.html" title="제14장 DBMS_FLASHBACK"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제13장 DBMS_FGA</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_errlog.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_flashback.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_fga"/>제13장 DBMS_FGA</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_fga.html#d5e3921">13.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_fga.html#d5e3934">13.2. 프러시저</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_fga.html#DBMS_FGA_ADD_POLICY">13.2.1. ADD_POLICY</a></span></dt><dt><span class="section"><a href="chap_dbms_fga.html#DBMS_FGA_DISABLE_POLICY">13.2.2. DISABLE_POLICY</a></span></dt><dt><span class="section"><a href="chap_dbms_fga.html#DBMS_FGA_DROP_POLICY">13.2.3. DROP_POLICY</a></span></dt><dt><span class="section"><a href="chap_dbms_fga.html#DBMS_FGA_ENABLE_POLICY">13.2.4. ENABLE_POLICY</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_FGA 패키지의 기본 개념과 패키지 내의 프러시저를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3921"/>13.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_FGA</strong></span><a id="d5e3925" class="indexterm"/>패키지는 FGA(Fine-Grained Auditing) policy를 관리하는 프러시저를
    제공한다.</p>

    <p>FGA는 테이블 혹은 뷰에서 특정 조건을 만족하는 데이터에 대한 SQL 동작을 감시하는 보안 기능이다. 감시 대상 데이터와
    SQL 동작은 FGA policy 단위로 정의하고 관리한다. 감시 대상 데이터는 지정된 SQL WHERE 절의 조건식 또는 컬럼
    이름을 통해 각각 행 단위 또는 열 단위로 특정할 수 있다. FGA policy가 지원하는 SQL 구문 타입은 SELECT,
    INSERT, UPDATE, DELETE, MERGE 구문이다.</p>

    <p>DBMS_FGA 패키지에 대한 EXECUTE 권한만 있으면 제공하는 프러시저들을 사용할 수 있다.</p>

    <p>다음은 DBMS_FGA 패키지 내 정의된 상수<a id="d5e3931" class="indexterm"/>이다.</p>

    <pre class="programlisting">EXTENDED    CONSTANT NUMBER := 1;
DB          CONSTANT NUMBER := 2;
XML         CONSTANT NUMBER := 4;

ANY_COLUMNS CONSTANT NUMBER := 0;
ALL_COLUMNS CONSTANT NUMBER := 1;</pre>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3934"/>13.2. 프러시저</h2></div></div></div>
    

    <p>본 절에서는 DBMS_FGA 패키지에서 제공하는 프러시저를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_FGA_ADD_POLICY"/>13.2.1. ADD_POLICY<a id="d5e3939" class="indexterm"/></h3></div></div></div>
      

      <p>FGA policy를 생성하는 프러시저이다.</p>

      <p>한 오브젝트 당 최대 256개의 policy를 생성할 수 있고, 각 policy 당 최대 1개의 감시 기록을
      남긴다.</p>

      <div class="literallayout"><p/></div>

      <p>ADD_POLICY 프러시저<a id="d5e3946" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE ADD_POLICY
(
    object_schema       IN VARCHAR2 DEFAULT NULL,
    object_name         IN VARCHAR2,
    policy_name         IN VARCHAR2,
    audit_condition     IN VARCHAR2 DEFAULT NULL,
    audit_column        IN VARCHAR2 DEFAULT NULL,
    handler_schema      IN VARCHAR2 DEFAULT NULL,
    handler_module      IN VARCHAR2 DEFAULT NULL,
    enable              IN BOOLEAN  DEFAULT  TRUE,
    statement_types     IN VARCHAR2 DEFAULT 'SELECT',
    audit_trail         IN NUMBER   DEFAULT DB+EXTENDED,
    audit_column_opts   IN NUMBER   DEFAULT ANY_COLUMNS 
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">object_schema</td><td><p>감시 대상 오브젝트의 스키마 이름이다. </p><p>(기본값: NULL,
                  NULL은 현재 세션의 스키마 이름을 의미한다.)</p></td></tr><tr><td align="left">object_name</td><td>감시 대상 오브젝트의 이름이다.</td></tr><tr><td align="left">policy_name</td><td>생성할 policy 이름이다. 설정 값은 유일해야 한다.</td></tr><tr><td align="left">audit_condition</td><td><p>오브젝트 내 감시 대상 데이터의 행 조건을 특정하기 위한 SQL WHERE 절의
                  조건식이다. 검색, 삽입, 갱신, 또는 삭제되는 행의 값을 사용하여 계산할 수 있는 조건식이어야 한다.
                  SYS_CONTEXT와 같은 함수를 사용할 수 있다. 조건식을 만족하는 행을 참고하면 감시 대상이 된다.
                  </p><p>(기본값: NULL, NULL은 TRUE를 의미이다.) </p></td></tr><tr><td align="left">audit_column</td><td><p>오브젝트 내 감시 대상 데이터의 열 조건을 특정하기 위한 컬럼 이름의 리스트이다.
                  </p><p>(기본값: NULL, NULL은 참조하는 컬럼에 관계 없이 감시한다는
                  의미이다.)</p></td></tr><tr><td align="left">handler_schema</td><td><p>감시 기록을 남김과 동시에 1번만 수행할 프러시저의 스키마 이름이다. (현재 미지원
                  기능)</p><p>(기본값: NULL, NULL은 현재 세션의 스키마 이름을 의미한다.)
                  </p></td></tr><tr><td align="left">handler_module</td><td>감시 기록을 남김과 동시에 1번만 수행할 프러시저의 이름이다. 패키지 이름을 포함할 수 있다.
                  (현재 미지원 기능)</td></tr><tr><td align="left">enable</td><td>생성할 policy의 활성화 여부이다. (기본값: TRUE)</td></tr><tr><td align="left">statement_types</td><td><p>생성할 policy가 감시할 SQL 구문
                  타입이다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>INSERT</p>
                      </li><li>
                        <p>UPDATE</p>
                      </li><li>
                        <p>DELETE</p>
                      </li><li>
                        <p>SELECT (기본값)</p>
                      </li></ul></div><p>MERGE 구문은 내부에서 사용된 SQL 구문 타입에 따라 감시
                  여부가 결정된다.</p></td></tr><tr><td align="left">audit_trail</td><td><p>감시 기록을 남길 위치와 SQL 구문 및 바인드 변수 기록 여부를 결정한다.
                  </p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>DBMS_FGA.DB : SQL 구문과 바인드 변수를 제외한 감시 기록을
                        SYS.FGA_LOG$ 테이블에 남긴다.</p>
                      </li><li>
                        <p>DBMS_FGA.DB + DBMS_FGA.EXTENDED : SQL 구문과 바인드
                        변수를 포함한 감시 기록을 SYS.FGA_LOG$ 테이블에 남긴다. (기본값)</p>
                      </li><li>
                        <p>DBMS_FGA.XML : SQL 구문과 바인드 변수를 제외한 감시 기록을 XML
                        파일로 남긴다. (현재 미지원 기능)</p>
                      </li><li>
                        <p>DBMS_FGA.XML + DBMS_FGA.EXTENDED : SQL 구문과 바인드
                        변수를 포함한 감시 기록을 XML 파일로 남긴다. (현재 미지원 기능)</p>
                      </li></ul></div></td></tr><tr><td align="left">audit_column_opts</td><td><p>SQL 동작이 audit_column 인자에 명시된 모든 컬럼을 참고할 때만 감시
                  기록을 남길지 일부만 접근해도 감시 기록을 남길지 결정한다. </p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>DBMS_FGA.ALL_COLUMNS : audit_column 인자에 명시된 모든
                        컬럼을 참고할 때 감시 기록을 남긴다.</p>
                      </li><li>
                        <p>DBMS_FGA.ANY_COLUMNS : audit_column 인자에 명시된 일부
                        컬럼을 참고할 때 감시 기록을 남긴다. (기본값)</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">BEGIN
    DBMS_FGA.ADD_POLICY (
       object_schema      =&gt;  'SCOTT',
       object_name        =&gt;  'EMP',
       policy_name        =&gt;  'p1,
       audit_condition    =&gt;  'deptno in (10, 20)',
       audit_column       =&gt;  'sal, mgr',
       handler_schema     =&gt;   NULL,
       handler_module     =&gt;   NULL,
       enable             =&gt;   TRUE,
       statement_types    =&gt;  'INSERT, UPDATE',
       audit_trail        =&gt;  DBMS_FGA.DB + DBMS_FGA.EXTENDED,
       audit_trail        =&gt;  DBMS_FGA.ANY_COLUMNS);
END; /</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_FGA_DISABLE_POLICY"/>13.2.2. DISABLE_POLICY<a id="d5e4036" class="indexterm"/></h3></div></div></div>
      

      <p>FGA policy를 비활성화하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>DISABLE_POLICY 프러시저의 세부 내용은 다음과 같다.<a id="d5e4042" class="indexterm"/></p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE DISABLE_POLICY
(
    object_schema       IN VARCHAR2 DEFAULT NULL,
    object_name         IN VARCHAR2,
    policy_name         IN VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">object_schema</td><td><p>감시 대상 오브젝트의 스키마 이름이다. </p><p>(기본값: NULL,
                  NULL은 현재 세션의 스키마 이름을 의미한다.)</p></td></tr><tr><td align="left">object_name</td><td>감시 대상 오브젝트의 이름이다.</td></tr><tr><td align="left">policy_name</td><td>비활성화할 policy 이름이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_FGA.DISABLE_POLICY (
       object_schema      =&gt;  'SCOTT',
       object_name        =&gt;  'EMP',
       policy_name        =&gt;  'p1');
END; /</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_FGA_DROP_POLICY"/>13.2.3. DROP_POLICY<a id="d5e4076" class="indexterm"/></h3></div></div></div>
      

      <p>FGA policy를 삭제하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>DROP_POLICY 프러시저의 세부 내용은 다음과 같다.<a id="d5e4082" class="indexterm"/></p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE DROP_POLICY
(
    object_schema       IN VARCHAR2 DEFAULT NULL,
    object_name         IN VARCHAR2,
    policy_name         IN VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">object_schema</td><td><p>감시 대상 오브젝트의 스키마 이름이다. </p><p>(기본값: NULL,
                  NULL은 현재 세션의 스키마 이름을 의미한다.)</p></td></tr><tr><td align="left">object_name</td><td>감시 대상 오브젝트의 이름이다.</td></tr><tr><td align="left">policy_name</td><td>삭제할 policy 이름이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">BEGIN
    DBMS_FGA.DROP_POLICY (
       object_schema      =&gt;  'SCOTT',
       object_name        =&gt;  'EMP',
       policy_name        =&gt;  'p1');
END; /</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_FGA_ENABLE_POLICY"/>13.2.4. ENABLE_POLICY<a id="d5e4115" class="indexterm"/></h3></div></div></div>
      

      <p>FGA policy를 활성화하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>ENABLE_POLICY 프러시저<a id="d5e4121" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE ENABLE_POLICY
(
    object_schema       IN VARCHAR2 DEFAULT NULL,
    object_name         IN VARCHAR2,
    policy_name         IN VARCHAR2,
    enable              IN BOOLEAN  DEFAULT TRUE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">object_schema</td><td><p>감시 대상 오브젝트의 스키마 이름이다. </p><p>(기본값: NULL,
                  NULL은 현재 세션의 스키마 이름을 의미한다.)</p></td></tr><tr><td align="left">object_name</td><td>감시 대상 오브젝트의 이름이다.</td></tr><tr><td align="left">policy_name</td><td>활성화할 policy 이름이다.</td></tr><tr><td align="left">enable</td><td>policy의 활성화 여부이다. (기본값: TRUE)</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">BEGIN
    DBMS_FGA.ENABLE_POLICY (
       object_schema      =&gt;  'SCOTT',
       object_name        =&gt;  'EMP',
       policy_name        =&gt;  'p1',
       enable             =&gt;   TRUE);
END; /</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_errlog.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_flashback.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제12장 DBMS_ERRLOG </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제14장 DBMS_FLASHBACK</td></tr></table></div><div xmlns="" align="center"/></body></html>