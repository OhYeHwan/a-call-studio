<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제31장 DBMS_RESULT_CACHE</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_resource_manager.html" title="제30장 DBMS_RESOURCE_MANAGER"/><link rel="next" href="chap_dbms_rls.html" title="제32장 DBMS_RLS"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제31장 DBMS_RESULT_CACHE</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_resource_manager.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_rls.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_result_cache"/>제31장 DBMS_RESULT_CACHE</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_result_cache.html#d5e11854">31.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#d5e11874">31.2. 프러시저와 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_BYPASS">31.2.1. BYPASS</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_FLUSH">31.2.2. FLUSH</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_INVALIDATE">31.2.3. INVALIDATE</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_INVALIDATE_OBJECT">31.2.4. INVALIDATE_OBJECT</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_MEMORY_REPORT">31.2.5. MEMORY_REPORT</a></span></dt><dt><span class="section"><a href="chap_dbms_result_cache.html#DBMS_RESULT_CACHE_STATUS">31.2.6. STATUS</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_RESULT_CACHE 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을
  설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e11854"/>31.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_RESULT_CACHE</strong></span><a id="d5e11858" class="indexterm"/>는 DBA가 데이터베이스의 공유 메모리에 존재하는 Result Cache를 제어할 수 있도록 인터페이스를
    제공한다.</p>

    <p>다음은 DBMS_RESULT_CACHE 패키지 내에 정의된 상수<a id="d5e11862" class="indexterm"/>이다.</p>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>STATUS_BYPS</p>

        <pre class="programlisting">STATUS_BYPS CONSTANT VARCHAR(10) := 'BYPASS'</pre>
      </li><li>
        <p>STATUS_DISA</p>

        <pre class="programlisting">STATUS_DISA CONSTANT VARCHAR(10) := 'DISABLED'</pre>
      </li><li>
        <p>STATUS_ENAB</p>

        <pre class="programlisting">STATUS_ENAB CONSTANT VARCHAR(10) := 'ENABLED'</pre>
      </li></ul></div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e11874"/>31.2. 프러시저와 함수</h2></div></div></div>
    

    <p>본 절에서는 DBMS_RESULT_CACHE 패키지에서 제공하는 프러시저와 함수를 알파벳순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_BYPASS"/>31.2.1. BYPASS<a id="d5e11879" class="indexterm"/></h3></div></div></div>
      

      <p>Result Cache의 BYPASS 모드를 설정하는 프러시저이다.</p>

      <p>BYPASS 모드가 켜지면 저장된 결과를 더 이상 사용할 수 없고, 새로운 결과도 저장되지 않는다. 반대로 BYPASS
      모드가 꺼지면 Result Cache를 정상적으로 사용할 수 있다.</p>

      <div class="literallayout"><p/></div>

      <p>BYPASS 프러시저<a id="d5e11886" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_RESULT_CACHE.BYPASS 
(
    bypass_mode     IN      BOOLEAN
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">bypass_mode</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>TRUE : Result Cache를 사용할 수 없다.</p>
                      </li><li>
                        <p>FALSE : Result Cache를 사용할 수 있다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_RESULT_CACHE.BYPASS(TRUE);
    DBMS_RESULT_CACHE.FLUSH;
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_FLUSH"/>31.2.2. FLUSH<a id="d5e11915" class="indexterm"/></h3></div></div></div>
      

      <p>Result Cache에 저장된 모든 객체들을 지우려고 시도한다. 단, 항상 모든 객체가 지워지지는
      않는다.</p>

      <div class="literallayout"><p/></div>

      <p>FLUSH 프러시저와 함수<a id="d5e11921" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>함수</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.FLUSH 
(
    retain_mem      IN      BOOLEAN DEFAULT FALSE,
    retain_stat     IN      BOOLEAN DEFAULT FALSE
) 
RETURN BOOLEAN;</pre>
            </li><li>
              <p>프러시저</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.FLUSH 
(
    retain_mem      IN      BOOLEAN DEFAULT FALSE,
    retain_stat     IN      BOOLEAN DEFAULT FALSE
)</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">retain_mem</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>TRUE : Result Cache에 존재하는 유휴 메모리를 유지한다.</p>
                      </li><li>
                        <p>FALSE : Result Cache에 존재하는 유휴 메모리를 해제한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">retain_stat</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>TRUE : 통계정보를 유지한다.</p>
                      </li><li>
                        <p>FALSE : 통계정보를 지운다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">반환값</th><th>설명</th></tr></thead><tbody><tr><td align="left">BOOLEAN</td><td>모든 객체가 지워진 경우 TRUE를 반환한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_RESULT_CACHE.FLUSH;
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_INVALIDATE"/>31.2.3. INVALIDATE<a id="d5e11977" class="indexterm"/></h3></div></div></div>
      

      <p>사용자가 지정한 객체에 종속된 모든 결과를 무효화시킨다.</p>

      <div class="literallayout"><p/></div>

      <p>INVALIDATE 프러시저와 함수<a id="d5e11983" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>객체 이름인 경우</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE 
(
    owner       IN      VARCHAR2,
    name        IN      VARCHAR2
) 
RETURN NUMBER; </pre>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE 
(
    owner       IN      VARCHAR2,
    name        IN      VARCHAR2
);</pre>
            </li><li>
              <p>데이터 사전 번호인 경우</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE 
(
    obj_id      IN      NUMBER
) 
RETURN NUMBER; </pre>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE 
(
    obj_id      IN      NUMBER
);</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">owner</td><td>스키마 이름이다.</td></tr><tr><td align="left">name</td><td>객체 이름이다.</td></tr><tr><td align="left">obj_id</td><td>데이터 사전 번호이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">반환값</th><th>설명</th></tr></thead><tbody><tr><td align="left">NUMBER</td><td>무효화시킨 객체 수를 반환한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_RESULT_CACHE.INVALIDATE('<span>TIBERO</span>PRIGHT', 'EMP');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_INVALIDATE_OBJECT"/>31.2.4. INVALIDATE_OBJECT<a id="d5e12035" class="indexterm"/></h3></div></div></div>
      

      <p>사용자가 지정한 결과를 무효화시킨다.</p>

      <div class="literallayout"><p/></div>

      <p>INVALIDATE_OBJECT 프러시저<a id="d5e12041" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>결과 객체의 주소인 경우</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE_OBJECT 
(
    id          IN      BINARY_INTEGER
) 
RETURN NUMBER; </pre>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE_OBJECT 
(
    id          IN      BINARY_INTEGER
);</pre>
            </li><li>
              <p>결과 객체의 고유번호인 경우</p>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE_OBJECT 
(
    cache_id    IN      VARCHAR2
) 
RETURN NUMBER; </pre>

              <pre class="programlisting">DBMS_RESULT_CACHE.INVALIDATE_OBJECT 
(
    cache_id    IN      VARCHAR2
);</pre>
            </li></ul></div>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">id</td><td>결과 객체의 주소이다.</td></tr><tr><td align="left">cache_id</td><td>결과 객체의 고유번호이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">반환값</th><th>설명</th></tr></thead><tbody><tr><td align="left">NUMBER</td><td>무효화시킨 객체수를 반환한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_RESULT_CACHE.INVALIDATE_OBJECT(3);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_MEMORY_REPORT"/>31.2.5. MEMORY_REPORT<a id="d5e12089" class="indexterm"/></h3></div></div></div>
      

      <p>Result Cache의 메모리 사용량 정보를 화면에 출력해 준다. 단, tbSQL의 serveroutput 옵션이
      켜져있어야 한다.</p>

      <div class="literallayout"><p/></div>

      <p>MEMORY_REPORT 프러시저<a id="d5e12095" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_RESULT_CACHE.MEMORY_REPORT 
(
    detailed    IN      BOOLEAN DEFAULT FALSE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">detailed</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>TRUE : 더 자세한 결과가 출력된다.</p>
                      </li><li>
                        <p>FALSE : 일반적인 결과가 출력된다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_RESULT_CACHE.MEMORY_REPORT;
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_RESULT_CACHE_STATUS"/>31.2.6. STATUS<a id="d5e12124" class="indexterm"/></h3></div></div></div>
      

      <p>Result Cache의 현재 상태를 반환한다.</p>

      <div class="literallayout"><p/></div>

      <p>STATUS 함수<a id="d5e12130" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_RESULT_CACHE.STATUS
RETURN VARCHAR2;</pre>
        </li><li>
          <p>반환값</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">반환값</th><th>설명</th></tr></thead><tbody><tr><td align="left">VARCHAR2</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>STATUS_DISA : Result Cache를 사용할 수 없다.</p>
                      </li><li>
                        <p>STATUS_ENAB : Result Cache를 사용할 수 있다.</p>
                      </li><li>
                        <p>STATUS_BYPS : Result Cache를 일시적으로 사용할 수
                        없다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
    DBMS_OUTPUT.PUT_LINE(DBMS_RESULT_CACHE.STATUS);
END;
/</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_resource_manager.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_rls.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제30장 DBMS_RESOURCE_MANAGER </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제32장 DBMS_RLS</td></tr></table></div><div xmlns="" align="center"/></body></html>