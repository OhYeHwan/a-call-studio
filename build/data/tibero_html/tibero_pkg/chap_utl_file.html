<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제66장 UTL_FILE</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_utl_encode.html" title="제65장 UTL_ENCODE"/><link rel="next" href="chap_utl_http.html" title="제67장 UTL_HTTP"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제66장 UTL_FILE</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_utl_encode.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_utl_http.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_utl_file"/>제66장 UTL_FILE</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_utl_file.html#d5e30797">66.1. 개요</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#d5e30872">66.2. 프러시저</a></span></dt><dd><dl><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FCLOSE">66.2.1. FCLOSE</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FCLOSE_ALL">66.2.2. FCLOSE_ALL</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FCOPY">66.2.3. FCOPY</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FFLUSH">66.2.4. FFLUSH</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FGETATTR">66.2.5. FGETATTR</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FREMOVE">66.2.6. FREMOVE</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FRENAME">66.2.7. FRENAME</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FSEEK">66.2.8. FSEEK</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_GET_LINE">66.2.9. GET_LINE</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_GET_RAW">66.2.10. GET_RAW</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_NEW_LINE">66.2.11. NEW_LINE</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_PUT">66.2.12. PUT</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_PUTF">66.2.13. PUTF</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_PUT_RAW">66.2.14. PUT_RAW</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_PUT_LINE">66.2.15. PUT_LINE</a></span></dt></dl></dd><dt><span class="section"><a href="chap_utl_file.html#d5e31519">66.3. 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FGETPOS">66.3.1. FGETPOS</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_FOPEN">66.3.2. FOPEN</a></span></dt><dt><span class="section"><a href="chap_utl_file.html#UTL_FILE_IS_OPEN">66.3.3. IS_OPEN</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 UTL_FILE 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e30797"/>66.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">UTL_FILE</strong></span><a id="d5e30801" class="indexterm"/>은 운영체제에서 관리하는 파일에 접근하기 위한 함수와 프러시저를 제공하는 패키지이다. 파일의 경로는
    디렉터리명으로 지정할 수 있다.</p>

    <p>UTL_FILE 패키지에서 정의된 타입과 예외 상황은 다음과 같다.</p>

    <div class="itemizedlist"><ul type="disc" compact="compact"><li>
        <p>타입</p>

        <p>FILE_TYPE의 타입은 파일 식별자로 사용된다. </p><pre class="programlisting">TYPE FILE_TYPE IS RECORD
(
    id       BINARY_INTEGER, 
    datatype BINARY_INTEGER
);</pre>
      </li><li>
        <p>예외 상황</p>

        <div class="informaltable">
          <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">예외 상황</th><th>설명</th></tr></thead><tbody><tr><td align="left">INVALID_PATH</td><td>파일의 경로가 유효하지 않은 경우이다.</td></tr><tr><td align="left">INVALID_MODE</td><td>유효하지 않은 모드를 사용한 경우이다.</td></tr><tr><td align="left">INVALID_FILEHANDLE</td><td>유효하지 않은 파일 핸들에 파일 연산을 하는 경우이다.</td></tr><tr><td align="left">INVALID_OPERATION</td><td>파일에 대한 연산을 수행할 수 없는 경우이다.</td></tr><tr><td align="left">READ_ERROR</td><td>읽기 연산 중에 에러가 발생하는 경우이다.</td></tr><tr><td align="left">WRITE_ERROR</td><td>쓰기 연산 중에 에러가 발생하는 경우이다.</td></tr><tr><td align="left">INTERNAL_ERROR</td><td>예기치 못한 에러가 발생하는 경우이다.</td></tr><tr><td align="left">FILE_OPEN</td><td>파일이 열려 있어서 해당 연산을 수행할 수 없는 경우이다.</td></tr><tr><td align="left">INVALID_MAXLINESIZE</td><td><p>FOPEN 함수를 사용할 때 max_linesize 값이 유효하지 않은 경우이다.
                </p><p>max_linesize 값은 1과 32767bytes 사이의 값이어야 한다.
                </p></td></tr><tr><td align="left">INVALID_FILENAME</td><td>파일 이름이 유효하지 않은 경우이다.</td></tr><tr><td align="left">ACCESS_DENIED</td><td>해당 파일에 대한 접근 권한이 없는 경우이다.</td></tr><tr><td align="left">INVALID_OFFSET</td><td><p>다음과 같이 유효하지 않은 오프셋이 주어진 경우이다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                      <p>상대 오프셋과 절대 오프셋이 모두 NULL일 때 유효하지 않다.</p>
                    </li><li>
                      <p>절대 오프셋이 음수일 때 유효하지 않다.</p>
                    </li><li>
                      <p>오프셋이 파일 끝의 위치를 초과했을 때 유효하지 않다.</p>
                    </li></ul></div></td></tr><tr><td align="left">DELETE_FAILED</td><td>DELETE 연산이 실패한 경우이다.</td></tr><tr><td align="left">RENAME_FAILED</td><td>RENAME 연산이 실패한 경우이다.</td></tr></tbody></table>
        </div>
      </li></ul></div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e30872"/>66.2. 프러시저</h2></div></div></div>
    

    <p>본 절에서는 UTL_FILE 패키지에서 제공하는 프러시저를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FCLOSE"/>66.2.1. FCLOSE<a id="d5e30877" class="indexterm"/></h3></div></div></div>
      

      <p>파일을 닫는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>FCLOSE 프러시저<a id="d5e30883" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FCLOSE
(
   file IN OUT FILE_TYPE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>WRITE_ERROR</p>
            </li><li>
              <p>INVALID_FILEHANDLE</p>
            </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/HOME/<span>TIBERO</span>/PATH';

DECLARE
  fname   VARCHAR2(1024);
BEGIN
    file := UTL_FILE.FOPEN('USER_PATH', 'MYFILE.DAT', 'r');
    UTL_FILE.FCLOSE(file);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FCLOSE_ALL"/>66.2.2. FCLOSE_ALL<a id="d5e30917" class="indexterm"/></h3></div></div></div>
      

      <p>현재 세션에 열린 모든 파일을 닫는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>FCLOSE_ALL 프러시저<a id="d5e30923" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FCLOSE_ALL;</pre>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                <p>WRITE_ERROR</p>
              </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/HOME/<span>TIBERO</span>/PATH';

DECLARE
    outfile   UTL_FILE.FILE_TYPE;
    appfile   UTL_FILE.FILE_TYPE;
    path       VARCHAR(10);
BEGIN
    path := 'USER_PATH';
    outfile := UTL_FILE.FOPEN(path, 'output_file.txt', 'w');
    appfile := UTL_FILE.FOPEN(path, 'append_file.txt', 'w');

    UTL_FILE.FCLOSE_ALL;
END;
/</pre>
        </li></ul></div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FCOPY"/>66.2.3. FCOPY<a id="d5e30943" class="indexterm"/></h3></div></div></div>
      

      <p>파일의 연속되는 부분을 새로 생성된 파일에 복사하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>FCOPY 프러시저<a id="d5e30949" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FCOPY
( 
    location   IN VARCHAR2,
    filename   IN VARCHAR2, 
    dest_dir   IN VARCHAR2,
    dest_file  IN VARCHAR2,
    start_line IN BINARY_INTEGER DEFAULT 1, 
    end_line   IN BINARY_INTEGER DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">location</td><td>복사를 진행할 대상 파일이 위치할 경로의 디렉터리명이다.</td></tr><tr><td align="left">filename</td><td>복사를 진행할 대상 파일의 이름이다.</td></tr><tr><td align="left">dest_dir</td><td>복사가 진행된 이후 파일이 위치할 경로의 디렉터리명이다.</td></tr><tr><td align="left">dest_file</td><td>복사가 진행된 이후의 파일의 이름이다.</td></tr><tr><td align="left">start_line</td><td><p>복사를 진행할 시작 위치이다. 파일의 라인 번호를 사용해
                  명시한다.</p><p>(기본값: 1, 파일의 첫 번째 의미이다.)</p></td></tr><tr><td align="left">end_line</td><td><p>복사를 끝낼 종료 위치이다. start_line과 마찬가지로 라인 번호로
                  명시한다.</p><p>(기본값: NULL, 파일의 마지막 라인을
                  의미한다.)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/HOME/<span>TIBERO</span>/PATH';
         
BEGIN
    UTL_FILE.FCOPY('USER_PATH', 'MYFILE.DAT', 'USER_PATH', 'MTFILE.BAK');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FFLUSH"/>66.2.4. FFLUSH<a id="d5e30994" class="indexterm"/></h3></div></div></div>
      

      <p>아직 파일에 쓰지 않고 버퍼에 남아 있는 데이터를 파일에 쓰는 프러시저이다. 데이터는 반드시 EOL 문자로 끝나야
      한다.</p>

      <div class="literallayout"><p/></div>

      <p>FFLUSH 프러시저<a id="d5e31000" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <p/>

          <pre class="programlisting">PROCEDURE FFLUSH
(
    file IN FILE_TYPE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_FILEHANDLE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li><li>
              <p>WRITE_ERROR</p>
            </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';
DECLARE
  fhandle  UTL_FILE.FILE_TYPE;
  buffer   VARCHAR2(32767);
  path     VARCHAR2(1024);
  fname    VARCHAR2(1024);
BEGIN
  path     := 'USER_PATH';
  fname    :=  'MYFILE.TXT';
  fhandle  := UTL_FILE.FOPEN(path, fname, 'w');
  buffer   := 'This is the message for output file';
  for i in 1..10 loop
    UTL_FILE.PUT(fhandle, buffer);
  end loop;
  UTL_FILE.NEW_LINE(fhandle);
  UTL_FILE.FFLUSH(fhandle);
  UTL_FILE.FCLOSE(fhandle);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FGETATTR"/>66.2.5. FGETATTR<a id="d5e31035" class="indexterm"/></h3></div></div></div>
      

      <p>디스크 파일의 속성을 반환하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>FGETATTR 프러시저<a id="d5e31041" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FGETATTR 
(
    location IN VARCHAR2,
    filename IN VARCHAR2,
    fexists  OUT BOOLEAN,
    file_length OUT NUMBER,
    blocksize OUT BINARY_INTEGER
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">location</td><td>파일의 경로를 나타내는 디렉터리명이다.</td></tr><tr><td align="left">filename</td><td>파일의 이름이다.</td></tr><tr><td align="left">fexists</td><td>파일의 존재 여부이다.</td></tr><tr><td align="left">file_length</td><td>파일의 길이(Byte)이다.</td></tr><tr><td align="left">blocksize</td><td>파일 시스템의 블록 크기(Byte)이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
  info_exists  BOOLEAN;
  info_flen    NUMBER;
  info_bsz     BINARY_INTEGER;
  etc_path     VARCHAR2(1024);
  fname        VARCHAR2(1024);
BEGIN
  etc_path := 'USER_PATH';
  fname    := 'hostname';
  UTL_FILE.FGETATTR(etc_path, fname, info_exists, info_flen, info_bsz);

  if info_exists = TRUE then
    DBMS_OUTPUT.PUT_LINE('file name         :' || fname);
    DBMS_OUTPUT.PUT_LINE('file size (bytes) :' || TO_CHAR(info_flen));
    DBMS_OUTPUT.PUT_LINE('block size(bytes) :' || TO_CHAR(info_bsz));
  end if;
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FREMOVE"/>66.2.6. FREMOVE<a id="d5e31078" class="indexterm"/></h3></div></div></div>
      

      <p>파일을 삭제하는 프러시저이다. 파일을 삭제하는 데 충분한 권한이 없는 경우 DELETE_FAILED 예외 상황이
      발생한다.</p>

      <div class="literallayout"><p/></div>

      <p>FREMOVE 프러시저<a id="d5e31084" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FREMOVE
(
    location IN VARCHAR2,
    filename IN VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">location</td><td>파일의 위치를 나타내는 디렉터리명이다.</td></tr><tr><td align="left">filename</td><td>파일의 이름이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                <p>DELETE_FAILED</p>
              </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

BEGIN
    UTL_FILE.FREMOVE('USER_PATH', 'MYFILE.BAK');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FRENAME"/>66.2.7. FRENAME<a id="d5e31118" class="indexterm"/></h3></div></div></div>
      

      <p>파일의 이름을 변경하는 프러시저이다. OS 셸에서 사용하는 mv 명령어와 동일하게 동작한다.</p>

      <div class="literallayout"><p/></div>

      <p>FRENAME 프러시저<a id="d5e31124" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FRENAME 
(
    location   IN VARCHAR2,
    filename   IN VARCHAR2, 
    dest_dir   IN VARCHAR2, 
    dest_file  IN VARVCHAR2,
    overwrite  IN BOOLEAN DEFAULT FALSE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">location</td><td>원본 파일의 경로를 나타내는 디렉터리명이다.</td></tr><tr><td align="left">filename</td><td>원본 파일의 이름이다.</td></tr><tr><td align="left">dest_dir</td><td>변경된 파일의 경로를 나타내는 디렉터리명이다.</td></tr><tr><td align="left">dest_file</td><td>변경된 파일의 이름이다.</td></tr><tr><td align="left">overwrite</td><td>변경된 파일의 이름이 이미 존재할 경우 덮어쓸지를 지정한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';
BEGIN
    UTL_FILE.FRENAME('USER_PATH', 'MTFILE.BAK', 'USER_PATH', 'MYFILE.DAT');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FSEEK"/>66.2.8. FSEEK<a id="d5e31161" class="indexterm"/></h3></div></div></div>
      

      <p>파일 포인터의 위치를 변경하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>FSEEK 프러시저<a id="d5e31167" class="indexterm"/>의 세부내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE FSEEK 
(
    fid IN UTL_FILE.FILE_TYPE,
    absolute_offset IN PLS_INTEGER DEFAULT NULL,
    relative_offset IN PLS_INTEGER DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">fid</td><td>UTL_FILE 패키지의 FILE_TYPE 타입의 파일 식별자이다.</td></tr><tr><td align="left">absolute_offset</td><td>절대 오프셋, 파일의 시작부터의 오프셋 값이다. (기본값: NULL)</td></tr><tr><td align="left">relative_offset</td><td><p>상대 오프셋, 현재 파일 포인터 위치에서 양수이면 뒤쪽, 음수이면 앞쪽 방향을
                  나타낸다. </p><p>절대 오프셋이 있는 경우 상대 오프셋은 무시 된다. (기본값:
                  NULL)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                <p>INVALID_OFFSET</p>
              </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
  infile          UTL_FILE.FILE_TYPE;
  absolute_offset PLS_INTEGER:= 10;
  scan_first      RAW(32767);
  scan_second     RAW(32767);
  len CONSTANT    PLS_INTEGER := 32767;
BEGIN
  infile := UTL_FILE.FOPEN('USER_PATH','codd.bcnf', 'r');

  UTL_FILE.FSEEK(infile, absolute_offset, -5);
  UTL_FILE.GET_RAW(infile, scan_first, 1);
  UTL_FILE.FSEEK(infile, 5);
  UTL_FILE.GET_RAW(infile, scan_second, 1);

  if  scan_first != scan_second then
    DBMS_OUTPUT.PUT_LINE('ralative_offset ignored!');
  end if;

  UTL_FILE.FCLOSE(infile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_GET_LINE"/>66.2.9. GET_LINE<a id="d5e31206" class="indexterm"/></h3></div></div></div>
      

      <p>EOL 문자 또는 파일이 끝날 때까지의 내용을 읽어 오는 프러시저이다. FOPEN 함수에서 지정한
      max_linesize 이상을 읽어 올 수 없다.</p>

      <div class="literallayout"><p/></div>

      <p>GET_LINE 프러시저<a id="d5e31212" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE GET_LINE 
(
    file   IN  FILE_TYPE,
    buffer OUT VARCHAR2,
    len    IN  PLS_INTEGER DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr><tr><td align="left">buffer</td><td>읽어 온 데이터이다.</td></tr><tr><td align="left">len</td><td><p>파일로부터 읽어 올 Byte의 크기이다. </p><p>(기본값: NULL,
                  NULL인 경우 max_linesize 값을 갖는다.)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_FILEHANDLE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE 
    infile       UTL_FILE.FILE_TYPE;
    length       CONSTANT PLS_INTEGER := 1024;
    read_buffer  VARCHAR2(1024) := NULL;
BEGIN
    infile := UTL_FILE.FOPEN('USER_PATH','hosts', 'r');
    loop
        UTL_FILE.GET_LINE(infile, read_buffer, length);
        DBMS_OUTPUT.PUT_LINE(read_buffer);
        if read_buffer is NULL then
             DBMS_OUTPUT.PUT_LINE(read_buffer);
        else
            exit;
        end if;
    end loop;

    UTL_FILE.FCLOSE(infile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_GET_RAW"/>66.2.10. GET_RAW<a id="d5e31253" class="indexterm"/></h3></div></div></div>
      

      <p>파일로부터 RAW 타입의 문자열을 읽어 오는 프러시저이다. EOL 문자를 무시하며, 읽은 Byte의 크기를
      반환한다.</p>

      <div class="literallayout"><p/></div>

      <p>GET_RAW 프러시저<a id="d5e31259" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE GET_RAW
(
    fid  IN  UTL_FILE.FILE_TYPE,
    r    OUT NOCOPY RAW,
    len  IN  PLS_INTEGER DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">fid</td><td>파일 식별자이다.</td></tr><tr><td align="left">buffer</td><td>읽은 데이터이다.</td></tr><tr><td align="left">len</td><td><p>파일로부터 읽어 올 Byte의 크기이다.</p><p>(기본값: NULL,
                  NULL인 경우 max_linesize 값을 갖는다.)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE 
  infile       UTL_FILE.FILE_TYPE;
  length       CONSTANT PLS_INTEGER := 32;
  read_buffer  RAW(32767);
BEGIN
  infile := UTL_FILE.FOPEN('USER_PATH','hosts', 'r');
  UTL_FILE.GET_RAW(infile, read_buffer, length);
  UTL_FILE.FCLOSE(infile);
END;
/</pre>
        </li></ul></div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_NEW_LINE"/>66.2.11. NEW_LINE<a id="d5e31293" class="indexterm"/></h3></div></div></div>
      

      <p>파일에 하나 이상의 EOL 문자를 넣는 프러시저이다. EOL 문자는 플랫폼에 따라 다르다.</p>

      <div class="literallayout"><p/></div>

      <p>NEW_LINE 프러시저<a id="d5e31299" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE NEW_LINE
(
    file  IN FILE_TYPE,
    lines IN NATURAL DEFAULT 1 
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr><tr><td align="left">lines</td><td>파일에 넣을 EOL 문자의 개수이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_FILEHANDLE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li><li>
              <p>WRITE_ERROR</p>
            </li></ul></div>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_PUT"/>66.2.12. PUT<a id="d5e31334" class="indexterm"/></h3></div></div></div>
      

      <p>파일에 문자열을 넣을 때 사용하는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>PUT 프러시저<a id="d5e31340" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE PUT
(
    file IN FILE_TYPE,
    buffer IN VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr><tr><td align="left">buffer</td><td><p>파일에 쓸 내용이다. </p><p>파일이 w(쓰기 텍스트)나 a(추가
                  텍스트) 모드로 열리지 않은 경우 INVALID_OPERATION 예외 상황이
                  발생한다.</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_FILEHANDLE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li><li>
              <p>WRITE_ERROR</p>
            </li></ul></div>
        </li><li>
          <p>예제 </p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';
DECLARE
  outfile  UTL_FILE.FILE_TYPE;
  buf      VARCHAR(1024) := NULL;
BEGIN
  outfile := UTL_FILE.FOPEN('USER_PATH', 'MYFILE.DAT', 'w');

  for i in 1..10 loop
    buf := buf || '0123456789';
  end loop;

  UTL_FILE.PUT( outfile, buf );
  UTL_FILE.FCLOSE(outfile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_PUTF"/>66.2.13. PUTF<a id="d5e31380" class="indexterm"/></h3></div></div></div>
      

      <p>형식화된 PUT 프러시저이다. PUTF의 형식화된 문자열은 C언어에서 표준 입출력(standard I/O)의
      fprintf에서의 형식화된 문자열과 동일하게 %s와 이스케이프 문자를 포함한다. 이스케이프 문자로 \n을 사용할 수 있으며
      %s는 그 뒤에 나오는 인수 문자열을 대체한다.</p>

      <p>예를 들어 다음과 같은 세 개의 인수가 있다고 가정하면,</p>

      <pre class="programlisting">arg1 = 'string1'; 
arg2 = 'string2'; 
arg3 = 'string3'; </pre>

      <p>위의 세 개의 인수를 사용하는 형식화된 문자열은 다음과 같다.</p>

      <pre class="programlisting">utl_file.putf( ofile, 'This is example of formatted string : %s %s %s \n',
               arg1, arg2, arg3);</pre>

      <p>또한 위의 내용이 실행되면 다음과 같은 내용이 출력된다.</p>

      <pre class="programlisting">This is example of formated string : string1 string2 string3</pre>

      <div class="literallayout"><p/></div>

      <p>PUTF 프러시저<a id="d5e31392" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCUDURE PUTF 
(
    file   IN FILE_TYPE,
    format IN VARCHAR2,
    arg1   IN VARCHAR2 DEFAULT NULL,
    arg2   IN VARCHAR2 DEFAULT NULL,
    arg3   IN VARCHAR2 DEFAULT NULL,
    arg4   IN VARCHAR2 DEFAULT NULL,
    arg5   IN VARCHAR2 DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr><tr><td align="left">format</td><td>%s와 이스케이프 문자(\n)를 포함하는 형식화된 문자열이다.</td></tr><tr><td align="left">arg1-5</td><td>%s에 대체되는 선택할 수 있는 문자열이다. (기본값: NULL)</td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_FILEHANDLE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li><li>
              <p>WRITE_ERROR</p>
            </li></ul></div>
        </li><li>
          <p>예제 </p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
    fname    VARCHAR2(2048);
    path     VARCHAR2(2048);
    outfile  UTL_FILE.FILE_TYPE;
BEGIN
    fname := 'MYFILE.DAT';
    path  := 'USER_PATH';
    outfile := UTL_FILE.FOPEN(path, fnamet /home/posung/path/MYFILE.DAT!cat
               /home/posung/path/MYFILE.DAT, 'w');
    UTL_FILE.PUTF( outfile, '%s %s formated file output example\n', path, fname);
    UTL_FILE.FCLOSE(outfile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_PUT_RAW"/>66.2.14. PUT_RAW<a id="d5e31433" class="indexterm"/></h3></div></div></div>
      

      <p>RAW 타입 데이터의 내용을 파일에 쓰는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>PUT_RAW 프러시저<a id="d5e31439" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE PUT_RAW
(
    fid       IN UTL_FILE.FILE_TYPE, 
    r         IN RAW, 
    autoflush IN BOOLEAN DEFAULT FALSE 
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">fid</td><td>파일 식별자이다.</td></tr><tr><td align="left">r</td><td>파일에 쓸 데이터이다.</td></tr><tr><td align="left">autoflush</td><td><p>쓰기를 한 후 출력 버퍼를 비울지 여부를
                  결정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>TRUE : 버퍼를 비운다.</p>
                      </li><li>
                        <p>FALSE : 기본값으로 버퍼를 비우지 않는다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제 </p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
    outfile  UTL_FILE.FILE_TYPE;
    buf RAW(8) := HEXTORAW('6161616100616100');
BEGIN
    outfile := UTL_FILE.FOPEN('USER_PATH', 'MYFILE.DAT', 'wb');
    UTL_FILE.PUT_RAW(outfile, buf);
    UTL_FILE.FCLOSE(outfile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_PUT_LINE"/>66.2.15. PUT_LINE<a id="d5e31476" class="indexterm"/></h3></div></div></div>
      

      <p>라인을 파일에 쓰는 프러시저이다. 이때 라인은 플랫폼에 종속적인 EOL 문자로 끝낸다.</p>

      <div class="literallayout"><p/></div>

      <p>PUT_LINE 프러시저<a id="d5e31482" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE PUT_LINE
(
    file      IN FILE_TYPE,
    buffer    IN VARCHAR2,
    autoflush IN BOOLEAN DEFAULT FALSE
);</pre>
        </li><li>
          <p>파라미터</p><div class="informaltable">
              <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr><tr><td align="left">buffer</td><td>파일에 쓸 라인이다.</td></tr><tr><td align="left">autoflush</td><td><p>쓰기를 한 후 출력 버퍼를 비울지 여부를
                    결정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                          <p>TRUE : 버퍼를 비운다.</p>
                        </li><li>
                          <p>FALSE : 기본값으로 버퍼를 비우지 않는다.</p>
                        </li></ul></div></td></tr></tbody></table>
            </div>
        </li><li>
          <p>예제 </p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
    outfile  UTL_FILE.FILE_TYPE;
    out_buf  VARCHAR2(1024);
BEGIN
    outfile := UTL_FILE.FOPEN('USER_PATH', 'MYFILE.DAT', 'w');
    for i in 1..10 loop
        UTL_FILE.PUT_LINE(outfile,  i || ' put_line is complete', TRUE);
    end loop;
    UTL_FILE.FCLOSE(outfile);
END;
/</pre>
        </li></ul></div>

      <p/>

      <p/>

      
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e31519"/>66.3. 함수</h2></div></div></div>
    

    <p>본 절에서는 UTL_FILE 패키지에서 제공하는 함수를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FGETPOS"/>66.3.1. FGETPOS<a id="d5e31524" class="indexterm"/></h3></div></div></div>
      

      <p>파일 내에서 파일 포인터의 상대적인 위치(Byte)를 반환하는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>FGETPOS 함수<a id="d5e31530" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">FUNCTION FGETPOS
(
    fid  IN FILE_TYPE
) 
RETURN PLS_INTEGER;</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">fid</td><td>파일 핸들러이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
  file   UTL_FILE.FILE_TYPE;
  fpos   PLS_INTEGER := 0;
  path   VARCHAR2(1024);
  fname  VARCHAR2(1024);
BEGIN
    file := UTL_FILE.FOPEN('USER_PATH', 'MYFILE.DAT', 'r');
    UTL_FILE.FSEEK(file, 10, 1);
    fpos := UTL_FILE.FGETPOS(file);
    DBMS_OUTPUT.PUT_LINE('Offest is ' || TO_CHAR(fpos, 'S9999999999'));
    UTL_FILE.FCLOSE(file);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_FOPEN"/>66.3.2. FOPEN<a id="d5e31555" class="indexterm"/></h3></div></div></div>
      

      <p>파일을 여는 함수이다. 최대 50개의 파일을 동시에 열 수 있다.</p>

      <div class="literallayout"><p/></div>

      <p>FOPEN 함수<a id="d5e31561" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">FUNCTION FOPEN
(
    location     IN VARCHAR2,
    filename     IN VARCHAR2,
    open_mode    IN VARCHAR2, 
    max_linesize IN BINARY_INTEGER DEFAULT 1024
) 
RETURN FILE_TYPE;</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">location</td><td>파일의 경로를 나타내는 디렉터리명이다.</td></tr><tr><td align="left">filename</td><td>파일의 이름이다.</td></tr><tr><td align="left">open_mode</td><td><p>파일 모드이다. </p><p>파일 모드의 종류는 다음과
                  같다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li>
                        <p>r : 읽기 텍스트 모드이다.</p>
                      </li><li>
                        <p>w : 쓰기 텍스트 모드이다.</p>
                      </li><li>
                        <p>a : 추가 텍스트 모드이다.</p>
                      </li><li>
                        <p>rb : 읽기 바이트 모드이다.</p>
                      </li><li>
                        <p>wb : 쓰기 바이트 모드이다.</p>
                      </li><li>
                        <p>ab : 추가 바이트 모드로, 추가 모드에서 파일이 존재하지 않으면 쓰기 모드로 파일을
                        생성한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">max_linesize</td><td><p>각 라인에 포함되는 byte 수의 최댓값으로 newline 문자를
                  포함한다.</p><p>최소 1byte에서 최대 32767bytes이다. (기본값:
                  1024bytes)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p><a href="chap_utl_file.html#UTL_FILE_EXCEPTION">예외 상황</a></p>

          <div class="itemizedlist"><ul type="circle" compact="compact"><li>
              <p>INVALID_PATH</p>
            </li><li>
              <p>INVALID_MODE</p>
            </li><li>
              <p>INVALID_OPERATION</p>
            </li><li>
              <p>INVALID_MAXLINESIZE</p>
            </li></ul></div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
    infile    UTL_FILE.FILE_TYPE;
    outfile   UTL_FILE.FILE_TYPE;
    appfile   UTL_FILE.FILE_TYPE;
    max_lsz   CONSTANT BINARY_INTEGER := 4096;
    buffer    VARCHAR2(1024);
    data1     VARCHAR2(1024);
    data2     VARCHAR2(1024);
    path      VARCHAR2(1024);
BEGIN
    path := 'USER_PATH';
    outfile := UTL_FILE.FOPEN(path, 'output_file.txt', 'w',  max_lsz);
    appfile := UTL_FILE.FOPEN(path, 'append_file.txt', 'w',  max_lsz);

    data1 := '0123456789';
    data2 := 'abcdefghij';
    for  i in 1..10 loop
        UTL_FILE.PUT_LINE(outfile, data1);
        UTL_FILE.PUT_LINE(outfile, data2);
    end loop;

    UTL_FILE.FCLOSE(outfile);
    UTL_FILE.FCLOSE(appfile);

    infile := UTL_FILE.FOPEN(path, 'output_file.txt', 'r',  max_lsz);
    UTL_FILE.GET_LINE(infile, buffer);
    DBMS_OUTPUT.PUT_LINE(buffer);
    UTL_FILE.FCLOSE(infile);
    appfile := UTL_FILE.FOPEN( path, 'append_file.txt', 'a',  max_lsz );
    UTL_FILE.PUT_LINE(appfile, 'appended');
    UTL_FILE.FCLOSE(appfile);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_FILE_IS_OPEN"/>66.3.3. IS_OPEN<a id="d5e31624" class="indexterm"/></h3></div></div></div>
      

      <p>파일 핸들러를 통해 파일이 열려 있는지 검사하는 함수이다. 파일이 열려있는 경우 TRUE를 반환하고, 그렇지 않은 경우
      FALSE를 반환한다.</p>

      <div class="literallayout"><p/></div>

      <p>IS_OPEN 함수<a id="d5e31630" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">PROCEDURE IS_OPEN
(
    file IN  FILE_TYPE
) 
RETURN BOOLEAN;</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">file</td><td>파일 핸들러이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p><pre class="programlisting">CREATE OR REPLACE DIRECTORY USER_PATH AS '/home/user/path';

DECLARE
    openfile    UTL_FILE.FILE_TYPE;
    open_flag   BOOLEAN;
    status      VARCHAR(10);
    fname       VARCHAR(10);
BEGIN
    fname := 'MYFILE.DAT';
    openfile := UTL_FILE.FOPEN('USER_PATH', fname, 'r');
    if UTL_FILE.IS_OPEN(openfile) then
        status := 'opened';
    else
        status := 'not opened';
    end if;

    DBMS_OUTPUT.PUT_LINE(fname || ' file status : ' || status);
    UTL_FILE.FCLOSE(openfile);
    dbms_output.put_line(fname || 'is closed');
    if utl_file.IS_OPEN(openfile) then
        status := 'opened';
    else
        status := 'not opened';
    end if;
    DBMS_OUTPUT.PUT_LINE(fname || ' file status : ' || status);
END;
/</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_utl_encode.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_utl_http.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제65장 UTL_ENCODE </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제67장 UTL_HTTP</td></tr></table></div><div xmlns="" align="center"/></body></html>