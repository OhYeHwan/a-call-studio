<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제35장 DBMS_SESSION</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_scheduler.html" title="제34장 DBMS_SCHEDULER"/><link rel="next" href="chap_dbms_space.html" title="제36장 DBMS_SPACE"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제35장 DBMS_SESSION</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_scheduler.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_space.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_session"/>제35장 DBMS_SESSION</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_session.html#d5e13623">35.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#d5e13630">35.2. 프러시저와 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_CLEAR_ALL_CONTEXT">35.2.1. CLEAR_ALL_CONTEXT</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_CLEAR_CONTEXT">35.2.2. CLEAR_CONTEXT</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_CLEAR_IDENTIFIER">35.2.3. CLEAR_IDENTIFIER</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_LIST_CONTEXT">35.2.4. LIST_CONTEXT</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_SET_CONTEXT">35.2.5. SET_CONTEXT</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_SET_IDENTIFIER">35.2.6. SET_IDENTIFIER</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_UNIQUE_SESSION_ID">35.2.7. UNIQUE_SESSION_ID</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_CLOSE_DATABASE_LINK">35.2.8. CLOSE_DATABASE_LINK</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_IS_ROLE_ENABLED">35.2.9. IS_ROLE_ENABLED</a></span></dt><dt><span class="section"><a href="chap_dbms_session.html#DBMS_SESSION_SET_ROLE">35.2.10. SET_ROLE</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_SESSION 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e13623"/>35.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_SESSION</strong></span><a id="d5e13627" class="indexterm"/> 세션의 식별자를 설정하고, 시스템에 고유한 세션의 식별자를 가져오는데 사용되는 패키지이다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e13630"/>35.2. 프러시저와 함수</h2></div></div></div>
    

    <p>본 절에서는 DBMS_SESSION 패키지에서 제공하는 프러시저와 함수를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_CLEAR_ALL_CONTEXT"/>35.2.1. CLEAR_ALL_CONTEXT<a id="d5e13635" class="indexterm"/></h3></div></div></div>
      

      <p>문맥의 모든 속성값들을 지운다. 이 프러시저는 CREATE CONTEXT DDL 을 통해 지정된 패키지 내에서만 호출할
      수 있다.</p>

      <div class="literallayout"><p/></div>

      <p>CLEAR_ALL_CONTEXT 프러시저<a id="d5e13641" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.CLEAR_ALL_CONTEXT
(
    namespace IN VARCHAR2
)</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">namespace</td><td>지울 문맥의 네임스페이스 이름을 지정한다.</td></tr></tbody></table>
          </div>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_CLEAR_CONTEXT"/>35.2.2. CLEAR_CONTEXT<a id="d5e13662" class="indexterm"/></h3></div></div></div>
      

      <p>문맥의 속성값(들)을 지운다. 이 프러시저는 CREATE CONTEXT DDL 을 통해 지정된 패키지 내에서만 호출할
      수 있다.</p>

      <div class="literallayout"><p/></div>

      <p>CLEAR_CONTEXT 프러시저<a id="d5e13668" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.CLEAR_CONTEXT
(
    namespace IN VARCHAR2,
    client_id IN VARCHAR2 DEFAULT NULL,
    attribute IN VARCHAR2 DEFAULT NULL
)</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">namespace</td><td>지울 문맥의 네임스페이스 이름을 지정한다.</td></tr><tr><td align="left">client_id</td><td><p>ACCESSED GLOBALLY로 생성된 문맥일 경우에만 의미를 가진다.
                  </p><p>NULL을 명시하면 SET_CONTEXT를 호출할 때에 client_id에 NULL을
                  주고 지정한 속성을 지울 수 있다.</p></td></tr><tr><td align="left">attribute</td><td><p>특정 속성을 지우고자 할 때 명시한다. </p><p>명시하지 않으면 해당
                  문맥의 (해당 client_id를 가지는) 모든 속성값이 지워진다.</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">create or replace package body sec_pkg is
    procedure clear (name varchar2) as
    begin
        dbms_session.clear_context (name);
    end;
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_CLEAR_IDENTIFIER"/>35.2.3. CLEAR_IDENTIFIER<a id="d5e13702" class="indexterm"/></h3></div></div></div>
      

      <p>현재 세션의 IDENTIFIER를 NULL로 설정한다.</p>

      <div class="literallayout"><p/></div>

      <p>CLEAR_IDENTIFIER 프러시저<a id="d5e13708" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.CLEAR_IDENTIFIER</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">BEGIN
   DBMS_SESSION.CLEAR_IDENTIFIER;
END;
/
SELECT CLIENT_IDENTIFIER FROM V$SESSION;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_LIST_CONTEXT"/>35.2.4. LIST_CONTEXT<a id="d5e13719" class="indexterm"/></h3></div></div></div>
      

      <p>현재 세션에서 접근이 가능한 문맥들의 내용을 반환하는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>LIST_CONTEXT 프러시저<a id="d5e13725" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">TYPE AppCtxRecTyp IS RECORD (namespace VARCHAR2(30),
                             attribute VARCHAR2(30),
                             value     VARCHAR2(256));

TYPE AppCtxTabTyp IS TABLE OF AppCtxRecTyp INDEX BY BINARY_INTEGER;

DBMS_SESSION.LIST_CONTEXT(list OUT AppCtxTabTyp,
                          size OUT NUMBER);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">list</td><td>문맥의 내용을 저장할 INDEX BY 테이블을 명시한다.</td></tr><tr><td align="left">size</td><td>buffer에 반환되는 entry의 수이다.</td></tr></tbody></table>
          </div>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_SET_CONTEXT"/>35.2.5. SET_CONTEXT<a id="d5e13749" class="indexterm"/></h3></div></div></div>
      

      <p>이 프러시저는 CREATE CONTEXT DDL을 통해 지정된 패키지 내에서만 호출할 수 있다. 설정된 속성 값은
      세션이 유지되는 동안 보존된다. 만일 해당 문맥의 속성이 이미 설정되어 있을 경우 SET_CONTEXT 호출은 해당 속성값을
      덮어쓴다.</p>

      <div class="literallayout"><p/></div>

      <p>SET_CONTEXT 프러시저<a id="d5e13755" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.SET_CONTEXT
(
    namespace IN VARCHAR2,
    attribute IN VARCHAR2,
    value     IN VARCHAR2,
    username  IN VARCHAR2 DEFAULT NULL,
    client_id IN VARCHAR2 DEFAULT NULL
)</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">namespace</td><td>속성값을 설정할 문맥의 네임스페이스 이름이다.</td></tr><tr><td align="left">attribute</td><td>해당 문맥에서의 속성 이름이다.</td></tr><tr><td align="left">value</td><td>설정할 속성에 대한 속성값이다.</td></tr><tr><td align="left">username</td><td><p>해당 속성에 접근할 수 있는 데이터베이스 사용자명이다.
                  </p><p>GLOBALLY ACCESSED인 문맥에 대한 속성을 설정할 때만 사용한다. 이 값을
                  설정하게 되면 해당 사용자만 이 속성에 접근할 수 있으며, 설정하지 않으면 모든 사용자가 속성에 접근할 수
                  있다. (기본값: NULL)</p></td></tr><tr><td align="left">client_id</td><td><p>해당 속성에 대해 애플리케이션에서 사용하는 client_id를 명시할 수 있다.
                  </p><p>대소문자를 구별하며 SET_IDENTIFIER 프러시저를 호출했을 때 명시했던 값과
                  일치해야 한다. GLOBALLY ACCESSED인 문맥에 대한 속성을 설정할 때만 사용한다. (기본값:
                  NULL)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">create or replace package body sec_pkg is
    procedure set_attr (name varchar2, attr varchar2, val varchar2) as
    begin
        dbms_session.set_context (name, attr, val);
    end;
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_SET_IDENTIFIER"/>35.2.6. SET_IDENTIFIER<a id="d5e13795" class="indexterm"/></h3></div></div></div>
      

      <p>세션의 CLIENT_IDENTIFIER를 설정한다. 설정된 값은 V$SESSION의 CLIENT_IDENTIFIER
      컬럼 또는 SYS_CONTEXT ('USERENV', 'CLIENT_IDENTIFIER') 내장 함수를 호출해서 얻을 수
      있다.</p>

      <div class="literallayout"><p/></div>

      <p>SET_IDENTIFIER 프러시저<a id="d5e13801" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.SET_IDENTIFIER
(
    client_id        IN         VARCHAR2
)</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">client_id</td><td>클라이언트 식별자이다. 64bytes 이상은 무시된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
   client_id VARCHAR2(64);
BEGIN
   client_id := 'MY_CLIENT_ID';
   DBMS_SESSION.SET_IDENTIFIER(client_id);
END;
/
SELECT CLIENT_IDENTIFIER FROM V$SESSION;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_UNIQUE_SESSION_ID"/>35.2.7. UNIQUE_SESSION_ID<a id="d5e13825" class="indexterm"/></h3></div></div></div>
      

      <p>시스템 유일의 세션 식별자를 반환한다. 세션 식별자 크기는 64bytes이다.</p>

      <div class="literallayout"><p/></div>

      <p>UNIQUE_SESSION_ID 함수<a id="d5e13831" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.UNIQUE_SESSION_ID RETURN VARCHAR2</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
   u_sess_id VARCHAR2(64);
BEGIN
   u_sess_id := DBMS_SESSION.UNIQUE_SESSION_ID;
   DBMS_OUTPUT.PUT_LINE(u_sess_id);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_CLOSE_DATABASE_LINK"/>35.2.8. CLOSE_DATABASE_LINK<a id="d5e13842" class="indexterm"/></h3></div></div></div>
      

      <p>현재 열려 있는 DBLINK를 닫는다.</p>

      <div class="literallayout"><p/></div>

      <p>CLOSE_DATABASE_LINK 프러시저<a id="d5e13848" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.CLOSE_DATABASE_LINK
(
    dblink        IN         VARCHAR2
)</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
BEGIN
   DBMS_SESSION.CLOSE_DATABASE_LINK('link1');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_IS_ROLE_ENABLED"/>35.2.9. IS_ROLE_ENABLED<a id="d5e13859" class="indexterm"/></h3></div></div></div>
      

      <p>이 함수를 호출한 세션에 롤이 적용되어 있는지 확인한다.</p>

      <div class="literallayout"><p/></div>

      <p>IS_ROLE_ENABLED 함수<a id="d5e13865" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.IS_ROLE_ENABLED
(
    rolename        IN         VARCHAR2
)
RETURN BOOLEAN</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
   result BOOLEAN;
BEGIN
   result := DBMS_SESSION.IS_ROLE_ENABLED('CONNECT');
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_SESSION_SET_ROLE"/>35.2.10. SET_ROLE<a id="d5e13876" class="indexterm"/></h3></div></div></div>
      

      <p>이 프러시저를 호출한 세션에 롤을 변경한다. 이 프러시저는 'SET ROLE'로 시작하는 DDL을 수행하는 것과 동작이
      동일하며, 입력값은 'SET ROLE' 다음에 오는 문장이다.</p>

      <div class="literallayout"><p/></div>

      <p>SET_ROLE 프러시저<a id="d5e13882" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_SESSION.SET_ROLE
(
    rolecmd        IN         VARCHAR2
)</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
BEGIN
   DBMS_SESSION.SET_ROLE('ALL');
   DBMS_SESSION.SET_ROLE('ALL EXCEPT CONNECT');
END;
/</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_scheduler.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_space.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제34장 DBMS_SCHEDULER </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제36장 DBMS_SPACE</td></tr></table></div><div xmlns="" align="center"/></body></html>