<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제73장 UTL_TCP</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_utl_smtp.html" title="제72장 UTL_SMTP"/><link rel="next" href="chap_utl_url.html" title="제74장 UTL_URL"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제73장 UTL_TCP</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_utl_smtp.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_utl_url.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_utl_tcp"/>제73장 UTL_TCP</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_utl_tcp.html#d5e35203">73.1. 개요</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#d5e35211">73.2. 타입</a></span></dt><dd><dl><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_CONNECTION">73.2.1. CONNECTION</a></span></dt></dl></dd><dt><span class="section"><a href="chap_utl_tcp.html#d5e35256">73.3. 상수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_CRLF">73.3.1. CRLF</a></span></dt></dl></dd><dt><span class="section"><a href="chap_utl_tcp.html#d5e35267">73.4. 프러시저와 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_CLOSE_ALL_CONNECTIONS">73.4.1. CLOSE_ALL_CONNECTIONS</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_CLOSE_CONNECTION">73.4.2. CLOSE_CONNECTION</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_GET_LINE">73.4.3. GET_LINE</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_GET_RAW">73.4.4. GET_RAW</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_GET_TEXT">73.4.5. GET_TEXT</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_OPEN_CONNECTION">73.4.6. OPEN_CONNECTION</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_READ_LINE">73.4.7. READ_LINE</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_READ_RAW">73.4.8. READ_RAW</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_READ_TEXT">73.4.9. READ_TEXT</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_WRITE_LINE">73.4.10. WRITE_LINE</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_WRITE_RAW">73.4.11. WRITE_RAW</a></span></dt><dt><span class="section"><a href="chap_utl_tcp.html#UTL_TCP_WRITE_TEXT">73.4.12. WRITE_TEXT</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 UTL_TCP 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e35203"/>73.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">UTL_TCP</strong></span><a id="d5e35207" class="indexterm"/>은 TCP/IP 클라이언트 역할을 수행할 수 있는 프러시저 및 함수들을 제공하는 패키지이다.</p>

    <p>많은 인터넷 환경이 TCP/IP 프로토콜에 기반하므로, 이메일이나 인터넷 연결 등에 유용하게 사용될 수 있다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e35211"/>73.2. 타입</h2></div></div></div>
    

    <p>본 절에서는 UTL_TCP 패키지에 제공하는 별도 정의된 타입들을 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_CONNECTION"/>73.2.1. CONNECTION<a id="d5e35216" class="indexterm"/></h3></div></div></div>
      

      <p>UTL_TCP를 이용한 TCP/IP 연결의 객체 및 연결 정보를 담고 있는 레코드 타입이다.</p>

      <div class="literallayout"><p/></div>

      <p>CONNECTION 타입<a id="d5e35222" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">TYPE CONNECTION IS RECORD 
(
    pvid            PLS_INTEGER,    
    remote_host     VARCHAR2(255),  
    remote_port     PLS_INTEGER,    
    tx_timeout      PLS_INTEGER     
);</pre>
        </li><li>
          <p>필드</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">필드 이름</th><th>설명</th></tr></thead><tbody><tr><td align="left">pvid</td><td>TCP/IP의 연결 객체를 지칭하는 ID이다. 변경하지 않도록 한다.</td></tr><tr><td align="left">remote_host</td><td>연결된 TCP 서버의 주소이다.</td></tr><tr><td align="left">remote_port</td><td>연결된 TCP 서버의 포트 번호이다.</td></tr><tr><td align="left">tx_timeout</td><td><p>TCP 통신을 이용한 읽기/쓰기의 시간 제한으로, 제한 시간이 지나면 타임아웃 에러와
                  함께 반환한다. (단위: 초)</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>NULL : 응답이 올 때까지 기다린다.</p>
                      </li><li style="list-style-type: circle">
                        <p>0 : 전송 후 대기 없이 즉시 빠져나온다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li></ul></div>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e35256"/>73.3. 상수</h2></div></div></div>
    

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_CRLF"/>73.3.1. CRLF<a id="d5e35260" class="indexterm"/></h3></div></div></div>
       

      

       캐리지 리턴 문자, 라인 피드 문자를 가지는 문자열이다. 

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>정의</p><pre class="programlisting">    CRLF CONSTANT VARCHAR2(2) := unistr('\000D\000A');</pre>
        </li></ul></div>

       
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e35267"/>73.4. 프러시저와 함수</h2></div></div></div>
    

    <p>본 절에서는 UTL_TCP 패키지에서 제공하는 프러시저와 함수를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_CLOSE_ALL_CONNECTIONS"/>73.4.1. CLOSE_ALL_CONNECTIONS<a id="d5e35272" class="indexterm"/></h3></div></div></div>
      

      <p>세션에서 연결 중인 TCP/IP 연결을 모두 끊는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>CLOSE_ALL_CONNECTIONS 프러시저<a id="d5e35278" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.CLOSE_ALL_CONNECTIONS</pre>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 25);
    UTL_TCP.CLOSE_CONNECTION(c);
EXCEPTION WHEN OTHERS THEN
    UTL_TCP.CLOSE_ALL_CONNECTIONS;
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_CLOSE_CONNECTION"/>73.4.2. CLOSE_CONNECTION<a id="d5e35290" class="indexterm"/></h3></div></div></div>
      

      <p>연결 중인 TCP/IP 연결을 끊는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>CLOSE_CONNECTION 프러시저<a id="d5e35296" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.CLOSE_CONNECTION 
(
    c IN OUT NOCOPY connection
)</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 25);
    UTL_TCP.CLOSE_CONNECTION(c);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_GET_LINE"/>73.4.3. GET_LINE<a id="d5e35321" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 문자열 한 줄을 가져오는 함수이다. 자세한 내용은 동일한 기능을 수행하는 READ_LINE
      함수<a id="d5e35325" class="indexterm"/>의 설명을 참고한다.</p>

      <div class="literallayout"><p/></div>

      <p>GET_LINE 함수<a id="d5e35330" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.GET_LINE 
(
    c               IN OUT NOCOPY   connection,
    remove_crlf     IN              BOOLEAN     DEFAULT FALSE,
    peek            IN              BOOLEAN     DEFAULT FALSE
) 
RETURN VARCHAR2</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">remove_crlf</td><td>TRUE일 경우 문자열에 포함된 CR/LF 문자열을 제거하여 반환한다.</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 문자열이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data VARCHAR2(100);
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    data := UTL_TCP.GET_LINE(c); 
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_GET_RAW"/>73.4.4. GET_RAW<a id="d5e35364" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 바이너리 데이터를 가져오는 함수이다. 자세한 내용은 동일한 기능을 수행하는 READ_RAW
      함수<a id="d5e35368" class="indexterm"/>의 설명을 참고한다.</p>

      <div class="literallayout"><p/></div>

      <p>GET_RAW 함수<a id="d5e35373" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.GET_RAW 
(
    c       IN OUT NOCOPY   connection,
    len     IN              PLS_INTEGER DEFAULT 1,
    peek    IN              BOOLEAN     DEFAULT FALSE
) 
RETURN RAW</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">len</td><td>읽어올 바이너리 데이터의 Byte 갯수이다. (기본값: 1)</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 바이너리 데이터이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data RAW(100);
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    data := UTL_TCP.GET_RAW(c, 10);  -- 10Byte의 문자열을 읽어올 것을 요청
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_GET_TEXT"/>73.4.5. GET_TEXT<a id="d5e35407" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 문자열을 가져오는 함수이다. 자세한 내용은 동일한 기능을 수행하는 READ_TEXT
      함수<a id="d5e35411" class="indexterm"/>의 설명을 참고한다.</p>

      <div class="literallayout"><p/></div>

      <p>GET_TEXT 함수<a id="d5e35416" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.GET_TEXT 
(
    c      IN OUT NOCOPY   connection,
    len    IN              PLS_INTEGER DEFAULT 1,
    peek   IN              BOOLEAN     DEFAULT FALSE
) 
RETURN VARCHAR2</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">len</td><td>읽어올 문자열의 Byte 갯수이다. (기본값: 1)</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 문자열이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data VARCHAR2(100);
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    data := UTL_TCP.GET_TEXT(c, 10);  -- 10Byte의 문자열을 읽어올 것을 요청
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_OPEN_CONNECTION"/>73.4.6. OPEN_CONNECTION<a id="d5e35450" class="indexterm"/></h3></div></div></div>
      

      <p>외부 TCP 서버로의 TCP/IP 연결을 맺는 프러시저이다.</p>

      <div class="literallayout"><p/></div>

      <p>OPEN_CONNECTION 프러시저<a id="d5e35456" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.OPEN_CONNECTION 
(
    remote_host     IN  VARCHAR2,                     
    remote_port     IN  PLS_INTEGER,                  
    tx_timeout      IN  PLS_INTEGER DEFAULT NULL
)  RETURN UTL_TCP.CONNECTION</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">remote_host</td><td>연결할 TCP 서버의 주소 이름이다. NULL이면 localhost로 자동
                  설정된다.</td></tr><tr><td align="left">remote_port</td><td>연결할 TCP 서버의 포트 번호이다.</td></tr><tr><td align="left">tx_timeout</td><td><p>TCP 통신을 이용한 읽기/쓰기의 시간 제한으로, 제한 시간이 지나면 타임아웃 에러와
                  함께 반환한다. (단위: 초)</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>NULL : 응답이 올 때까지 기다린다.</p>
                      </li><li style="list-style-type: circle">
                        <p>0 : 전송 후 대기 없이 즉시 빠져나온다.</p>
                      </li></ul></div><p/></td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>TCP/IP 연결 정보를 갖는 UTL_TCP.CONNECTION 타입의 객체이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 25);
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_READ_LINE"/>73.4.7. READ_LINE<a id="d5e35497" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 문자열 한 줄을 가져오는 함수이다.</p>

      <p>타임아웃이 설정된 경우 타임아웃 시간까지 기다렸다가 만료되었을 때 TRANSFER_TIMEOUT 예외를 발생시킨다.
      타임아웃이 NULL일 경우에는 무한정 기다리므로 주의하여 사용하도록 한다.</p>

      <div class="literallayout"><p/></div>

      <p>READ_LINE 함수<a id="d5e35504" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.READ_LINE 
(
    c               IN OUT NOCOPY   connection,
    data            IN OUT NOCOPY   VARCHAR2,
    remove_crlf     IN              BOOLEAN     DEFAULT FALSE,
    peek            IN              BOOLEAN     DEFAULT FALSE
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>읽어들인 문자열이다.</td></tr><tr><td align="left">remove_crlf</td><td>TRUE일 경우 문자열에 포함된 CR/LF 문자열을 제거하여 반환한다.</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 문자열의 문자 갯수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data VARCHAR2(100);
    len PLS_INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    len := UTL_TCP.READ_LINE(c, data); 
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_READ_RAW"/>73.4.8. READ_RAW<a id="d5e35541" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 바이너리 데이터를 가져오는 함수이다.</p>

      <p>타임아웃이 설정된 경우 타임아웃 시간까지 기다렸다가 만료되었을 때 TRANSFER_TIMEOUT 예외를 발생시킨다.
      타임아웃이 NULL일 경우에는 무한정 기다리므로 주의하여 사용하도록 한다.</p>

      <div class="literallayout"><p/></div>

      <p>READ_RAW 함수<a id="d5e35548" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.READ_RAW 
(
    c      IN OUT NOCOPY   connection,
    data   IN OUT NOCOPY   RAW,
    len    IN              PLS_INTEGER DEFAULT 1,
    peek   IN              BOOLEAN     DEFAULT FALSE
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>읽어들인 문자열이다.</td></tr><tr><td align="left">len</td><td>읽어올 바이너리 데이터의 Byte 갯수이다.</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 데이터의 Byte 갯수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data RAW(100);
    len PLS_INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    len := UTL_TCP.READ_RAW(c, data, 10); 
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_READ_TEXT"/>73.4.9. READ_TEXT<a id="d5e35585" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로부터 받은 문자열을 가져오는 함수이다.</p>

      <p>타임아웃이 설정된 경우 타임아웃 시간까지 기다렸다가 만료되었을 때 TRANSFER_TIMEOUT 예외를 발생시킨다.
      타임아웃이 NULL일 경우에는 무한정 기다리므로 주의하여 사용하도록 한다.</p>

      <div class="literallayout"><p/></div>

      <p>READ_TEXT 함수<a id="d5e35592" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.READ_TEXT 
(
    c     IN OUT NOCOPY   connection,
    data  IN OUT NOCOPY   VARCHAR2,
    len   IN              PLS_INTEGER DEFAULT 1,
    peek  IN              BOOLEAN     DEFAULT FALSE
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>읽어들인 문자열이다.</td></tr><tr><td align="left">len</td><td>읽어올 문자열의 문자 갯수이다.</td></tr><tr><td align="left">peek</td><td>TRUE일 경우 TCP input queue로부터 읽어온 데이터를 비우지 않고 보존하여 이후
                  다시 읽어올 경우 같은 데이터를 읽게 된다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>읽어들인 데이터의 Byte 갯수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    data VARCHAR2(100);
    len PLS_INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    len := UTL_TCP.READ_TEXT(c, data, 10); 
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_WRITE_LINE"/>73.4.10. WRITE_LINE<a id="d5e35629" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로 한줄의 문자열을 전송하는 함수이다. 입력문자열 뒤에 새줄 문자열이 붙어서 전송된다.</p>

      <div class="literallayout"><p/></div>

      <p>WRITE_LINE 함수<a id="d5e35635" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.WRITE_LINE 
(
    c    IN OUT NOCOPY   connection,                       
    data IN              VARCHAR2    DEFAULT NULL
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>전송할 문자열이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>실제 전송된 데이터의 문자열 갯수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    rc INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    rc := UTL_TCP.WRITE_LINE(c, 'GET / HTTP/1.0');
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_WRITE_RAW"/>73.4.11. WRITE_RAW<a id="d5e35666" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로 바이너리 형태의 데이터를 보내는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>WRITE_RAW 함수<a id="d5e35672" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.WRITE_RAW 
(
    c     IN OUT NOCOPY   connection,                       
    data  IN              RAW,                              
    len   IN              PLS_INTEGER DEFAULT NULL
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>전송할 바이너리 데이터이다.</td></tr><tr><td align="left">len</td><td>전송할 바이너리 데이터의 Byte 수이다. NULL이면 데이터 전체를 전송한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>실제 전송된 데이터의 Byte 수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    rc INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 80);
    rc := UTL_TCP.WRITE_RAW(c, '0D0A'); -- 0d 0a의 hex값을 가진 바이너리 데이터 전송
END;</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="UTL_TCP_WRITE_TEXT"/>73.4.12. WRITE_TEXT<a id="d5e35706" class="indexterm"/></h3></div></div></div>
      

      <p>원격 TCP 서버로 문자열 형태의 데이터를 보내는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>WRITE_TEXT 함수<a id="d5e35712" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">UTL_TCP.WRITE_TEXT 
(
    c    IN OUT NOCOPY   connection,                       
    data IN              VARCHAR2,                         
    len  IN              PLS_INTEGER DEFAULT NULL
) 
RETURN PLS_INTEGER</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">c</td><td>기존에 연결된 연결 객체이다. 타입은 UTL_TCP.CONNECTION이다.</td></tr><tr><td align="left">data</td><td>전송할 문자열 데이터이다.</td></tr><tr><td align="left">len</td><td>전송할 문자열의 문자 갯수이다. NULL이면 문자열 전체를 전송한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>반환값</p>

          <p>실제 전송된 문자열의 문자 갯수이다.</p>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    c UTL_TCP.CONNECTION;
    rc INTEGER;
BEGIN
    c := UTL_TCP.OPEN_CONNECTION('localhost', 8080);
    rc := UTL_TCP.WRITE_TEXT(c, '<span>TIBERO</span>TMAX', 6); -- <span>TIBERO</span>TMAX 문자열 중 
<span>                                                     TIBERO</span> 문자열만 전송한다.
END;</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_utl_smtp.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_utl_url.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제72장 UTL_SMTP </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제74장 UTL_URL</td></tr></table></div><div xmlns="" align="center"/></body></html>