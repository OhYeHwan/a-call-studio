<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제6장 DBMS_AQADM</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_aq.html" title="제5장 DBMS_AQ"/><link rel="next" href="chap_dbms_backup_restore.html" title="제7장 DBMS_BACKUP_RESTORE"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제6장 DBMS_AQADM</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_aq.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_backup_restore.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_aqadm"/>제6장 DBMS_AQADM</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_aqadm.html#d5e1878">6.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#d5e1886">6.2. 프러시저와 함수</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_ADD_SUBSCRIBER">6.2.1. ADD_SUBSCRIBER</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_CREATE_QUEUE">6.2.2. CREATE_QUEUE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_CREATE_QUEUE_TABLE">6.2.3. CREATE_QUEUE_TABLE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_DROP_QUEUE">6.2.4. DROP_QUEUE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_DROP_QUEUE_TABLE">6.2.5. DROP_QUEUE_TABLE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_GRANT_SYSTEM_PRIVILEGE">6.2.6. GRANT_SYSTEM_PRIVILEGE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_REMOVE_SUBSCRIBER">6.2.7. REMOVE_SUBSCRIBER</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_REVOKE_SYSTEM_PRIVILEGE">6.2.8. REVOKE_SYSTEM_PRIVILEGE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_START_QUEUE">6.2.9. START_QUEUE</a></span></dt><dt><span class="section"><a href="chap_dbms_aqadm.html#DBMS_AQADM_STOP_QUEUE">6.2.10. STOP_QUEUE</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_AQADM 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1878"/>6.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_AQADM</strong></span><a id="d5e1882" class="indexterm"/> 패키지는 <span>Tibero</span>의 Advanced Queuing 기능을 구성하고 관리하는 데 사용할 수
    있는 프러시저와 함수를 제공한다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e1886"/>6.2. 프러시저와 함수</h2></div></div></div>
    

    <p>본 절에서는 DBMS_AQADM 패키지에서 제공하는 프러시저와 함수를 알파벳 순으로 설명한다.</p>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_ADD_SUBSCRIBER"/>6.2.1. ADD_SUBSCRIBER<a id="d5e1891" class="indexterm"/></h3></div></div></div>
      

      <p>대상 queue에 디폴트 구독자를 추가하는 프러시저이다. 메시지를 enqueue할 때 수신자 목록을 대상으로 하거나
      디폴트 구독자 목록을 대상으로 하여 enqueue할 수 있다.</p>

      <p>이 프러시저는 복수 소비자 queue에 대해서만 수행이 가능하고 프러시저가 실행되면 이를 포함한 트랜잭션은 커밋된다.
      프러시저가 성공적으로 종료된 이후의 enqueue는 해당 디폴트 구독자를 반영한다.</p>

      <div class="literallayout"><p/></div>

      <p>ADD_SUBSCRIBER 프러시저<a id="d5e1898" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.ADD_SUBSCRIBER 
(
    queue_name        IN    VARCHAR2,
    subscriber        IN    DBMS_AQ.AQ$_AGENT
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>추가할 queue의 이름이다.</td></tr><tr><td align="left">subscriber</td><td>구독자를 명시하는 DBMS_AQ.AQ$_AGENT 타입의 agent이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    subscriber dbms_aq.aq$_agent;
BEGIN
    subscriber.name := 'RED';

    DBMS_AQADM.ADD_SUBSCRIBER(
        queue_name  =&gt;  'my_multi_q',
        subscriber  =&gt;  subscriber);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_CREATE_QUEUE"/>6.2.2. CREATE_QUEUE<a id="d5e1925" class="indexterm"/></h3></div></div></div>
      

      <p>대상 queue 테이블에 queue를 생성하는 프러시저이다. CREATE_QUEUE로 queue를 생성한 후
      START_QUEUE를 호출하여 queue를 활성화시킬 수 있다. 디폴트로 enqueue와 dequeue 모두 비활성화된 채로
      queue가 생성된다.</p>

      <div class="literallayout"><p/></div>

      <p>CREATE_QUEUE 프러시저<a id="d5e1931" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.CREATE_QUEUE 
(
    queue_name        IN VARCHAR2,
    queue_table       IN VARCHAR2,
    queue_comment     IN VARCHAR2 DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>생성할 queue의 이름이다. 스키마 내에서는 유일해야 하며 일반적인 객체의 이름을 부여할 때와
                  동일한 규칙이 적용된다.</td></tr><tr><td align="left">queue_table</td><td>queue를 저장할 queue 테이블의 이름이다.</td></tr><tr><td align="left">queue_comment</td><td>queue에 대한 사용자 지정 주석을 명시한다. 이후 정적 뷰를 통해 조회가
                  가능하다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.create_queue_table ('my_qtbl', 'RAW', multiple_consumers=&gt;false);
dbms_aqadm.create_queue ('my_q', 'my_qtbl');
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_CREATE_QUEUE_TABLE"/>6.2.3. CREATE_QUEUE_TABLE<a id="d5e1961" class="indexterm"/></h3></div></div></div>
      

      <p>queue 테이블을 생성하는 프러시저이다. queue 테이블을 생성할 때 dequeue 순서를 결정하는 정렬 키를
      지정할 수 있다. 저장 데이터 타입은 현재 RAW 만 가능하다.</p>

      <div class="literallayout"><p/></div>

      <p>CREATE_QUEUE_TABLE 프러시저<a id="d5e1967" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.CREATE_QUEUE_TABLE 
(
    queue_table         IN  VARCHAR2,
    queue_payload_type  IN  VARCHAR2,
    storage_clause      IN  VARCHAR2        DEFAULT NULL,
    sort_list           IN  VARCHAR2        DEFAULT 'ENQ_TIME',
    multiple_consumers  IN  BOOLEAN         DEFAULT FALSE,
    table_comment       IN  VARCHAR2        DEFAULT NULL
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_table</td><td>생성할 queue 테이블의 이름이다.</td></tr><tr><td align="left">queue_payload_type</td><td>저장할 사용자 데이터의 타입을 지정한다. 현재는 RAW 만 가능하다.</td></tr><tr><td align="left">storage_clause</td><td>저장 파라미터를 지정한다. queue 테이블을 생성하기 위하여 CREATE TABLE 문을
                  수행할 때 이 파라미터가 포함된다.</td></tr><tr><td align="left">sort_list</td><td><p>오름차순으로 정렬할 정렬 키 컬럼을 지정한다. 이 파라미터를 명시되지 않으면 FIFO
                  순서와 동일하게 enqueue된 시간의 오름차순으로 정렬된다.
                  (ENQ_TIME)</p><p>다음과 같은 형식으로 지정하며 가능한 컬럼 이름은 PRIORITY와
                  ENQ_TIME이다. 두 컬럼이 동시에 명시되면 앞에 나온 컬럼값이 우선되어
                  정렬된다.</p><pre class="programlisting"><span class="emphasis"><em>sort_column_1[,sort_column_2]</em></span></pre><p>위와
                  같이 정렬 순서를 지정하여 queue 테이블을 생성하면 정렬 순서는 바꿀 수 없고 queue 테이블에
                  생성되는 모든 queue는 동일한 정렬 순서를 갖는다. 단, dequeue할 때 msgid 또는
                  correlation을 지정하면 정렬 순서를 무시하고 특정 메시지를 dequeue할 수
                  있다.</p></td></tr><tr><td align="left">multiple_consumers</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>FALSE : 단일 소비자 queue를 저장하는 queue 테이블을 만든다.
                        (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>TRUE : 복수 소비자 queue를 저장하는 queue 테이블을 만든다.</p>
                      </li></ul></div></td></tr><tr><td align="left">table_comment</td><td>queue table에 대한 사용자 지정 주석을 명시한다. 이후 정적 뷰를 통해 조회가
                  가능하다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.create_queue_table ('my_multi_qtbl', 'RAW', sort_list=&gt;
    'PRIORITY,ENQ_TIME', multiple_consumers=&gt;true);
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_DROP_QUEUE"/>6.2.4. DROP_QUEUE<a id="d5e2016" class="indexterm"/></h3></div></div></div>
      

      <p>기존의 queue를 제거하는 프러시저이다. STOP_QUEUE를 통해 enqueue와 dequeue가 모두 비활성화
      되기 전에는 DROP_QUEUE의 수행은 허용되지 않는다. queue가 제거되면 queue에 저장된 모든 데이터는 같이
      삭제된다.</p>

      <div class="literallayout"><p/></div>

      <p>DROP_QUEUE 프러시저<a id="d5e2022" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.DROP_QUEUE 
(
    queue_name          IN VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>제거할 queue의 이름이다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.stop_queue ('my_multi_q');
dbms_aqadm.drop_queue ('my_multi_q');
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_DROP_QUEUE_TABLE"/>6.2.5. DROP_QUEUE_TABLE<a id="d5e2046" class="indexterm"/></h3></div></div></div>
      

      <p>기존의 queue 테이블을 제거하는 프러시저이다. queue 테이블을 제거하기 전에 queue 테이블 내의 모든
      queue를 정지시키고 제거한 이후에만 queue 테이블을 제거할 수 있다. 그러나 force 옵션을 주면 이러한 동작이 자동으로
      수행된다.</p>

      <div class="literallayout"><p/></div>

      <p>DROP_QUEUE_TABLE 프러시저<a id="d5e2052" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.DROP_QUEUE_TABLE 
(
    queue_table         IN VARCHAR2,
    force               IN BOOLEAN      DEFAULT FALSE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_table</td><td>제거할 queue 테이블의 이름이다.</td></tr><tr><td align="left">force</td><td><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>FALSE : queue가 테이블 내에 존재할 경우 제거되지 않는다.
                        (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>TRUE : 테이블 내의 모든 queue가 자동으로 정지되고 제거된다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
    dbms_aqadm.drop_queue_table ('my_multi_qtbl', true);
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_GRANT_SYSTEM_PRIVILEGE"/>6.2.6. GRANT_SYSTEM_PRIVILEGE<a id="d5e2084" class="indexterm"/></h3></div></div></div>
      

      <p><span>Tibero</span> Advanced Queuing 시스템 특권을 사용자 또는 역할에게
      부여하는 프러시저이다. 부여 가능한 특권은 ENQUEUE_ANY, DEQUEUE_ANY, MANAGE_ANY이다. 단, 처음에는
      SYS 사용자 또는 DBA 역할이 부여된 사용자만이 이 프러시저를 수행할 수 있다.</p>

      <p>DBMS_AQADM 패키지의 프러시저를 수행하기 위해서는 DBMS_AQADM 패키지에 대해 EXECUTE 권한이 있어야
      한다. 마찬가지로 dequeue와 enqueue의 수행을 위해서는 DBMS_AQ 패키지에 대해 EXECUTE 권한이 있어야
      한다.</p>

      <p>DBMS_AQADM 패키지의 프러시저가 다루는 객체가 프러시저를 호출한 스키마에 속할 경우 이 패키지에 대해
      EXECUTE 권한만 있으면 더 이상의 특권이 필요없이 프러시저의 수행이 허용된다. 마찬가지로 자기 자신의 스키마에 생성한
      queue에 대해 enqueue 또는 dequeue를 수행할 때는 DBMS_AQ 패키지에 대해 EXECUTE 권한만 있으면 수행이
      허용된다.</p>

      <div class="literallayout"><p/></div>

      <p>GRANT_SYSTEM_PRIVILEGE 프러시저<a id="d5e2093" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE 
(
    privilege         IN    VARCHAR2,
    grantee           IN    VARCHAR2,
    admin_option      IN    BOOLEAN  DEFAULT FALSE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">privilege</td><td><p>부여할 <span>Tibero</span> Advanced Queuing 시스템 특권을
                  지정한다.</p><p>부여 가능한 특권은 다음과 같다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>ENQUEUE_ANY : 데이터베이스의 어떤 queue에 대해서도 enqueue를 수행할
                        수 있다.</p>
                      </li><li style="list-style-type: circle">
                        <p>DEQUEUE_ANY : 데이터베이스의 어떤 queue에 대해서도 dequeue를 수행할
                        수 있다.</p>
                      </li><li style="list-style-type: circle">
                        <p>MANAGE_ANY : 데이터베이스의 어떤 스키마 객체에 대해서도 DBMS_AQADM
                        프러시저를 수행할 수 있다.</p>
                      </li></ul></div></td></tr><tr><td align="left">grantee</td><td>부여받을 대상(사용자, 역할, PUBLIC)을 명시한다.</td></tr><tr><td align="left">admin_option</td><td><p>시스템 특권을 ADMIN 옵션과 함께 부여할지를
                  지정한다.</p><p>ADMIN 옵션과 함께 특권이 부여되면 부여받은 대상은 이 프러시저를
                  호출하여 권한을 다른 사용자 또는 역할에 부여해줄 수 있다. (기본값:
                  FALSE)</p></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.grant_system_privilege ('MANAGE_ANY', 'test_aq');
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_REMOVE_SUBSCRIBER"/>6.2.7. REMOVE_SUBSCRIBER<a id="d5e2135" class="indexterm"/></h3></div></div></div>
      

      <p>디폴트 구독자를 해당 queue에서 제거하는 프러시저이다. 이 프러시저가 실행되면 이를 포함한 트랜잭션은 커밋되며
      구독자와 관련된 메시지 및 정보는 삭제된다.</p>

      <div class="literallayout"><p/></div>

      <p>REMOVE_SUBSCRIBER 프러시저<a id="d5e2141" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.REMOVE_SUBSCRIBER 
(
    queue_name          IN VARCHAR2,
    subscriber          IN DBMS_AQ.AQ$_AGENT
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>queue의 이름이다.</td></tr><tr><td align="left">subscriber</td><td>제거할 agent를 명시한다. (타입: DBMS_AQ.AQ$_AGENT)</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">DECLARE
    subscriber         dbms_aq.aq$_agent;
BEGIN
    subscriber.name := 'RED';

    DBMS_AQADM.remove_subscriber (
        queue_name  =&gt;  'my_multi_q',
        subscriber  =&gt;  subscriber);
END;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_REVOKE_SYSTEM_PRIVILEGE"/>6.2.8. REVOKE_SYSTEM_PRIVILEGE<a id="d5e2168" class="indexterm"/></h3></div></div></div>
      

      <p><span>Tibero</span> Advanced Queuing 시스템 특권을 사용자 또는 역할로부터
      회수하는 프러시저이다. 회수 가능한 특권은 ENQUEUE_ANY, DEQUEUE_ANY, MANAGE_ANY이다. 단, 시스템
      특권의 ADMIN 옵션만 선택적으로 회수하는 것은 불가능하다.</p>

      <div class="literallayout"><p/></div>

      <p>REVOKE_SYSTEM_PRIVILEGE 프러시저<a id="d5e2175" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE 
(
    privilege         IN    VARCHAR2,
    grantee           IN    VARCHAR2
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">privilege</td><td><p>회수할 <span>Tibero</span> Advanced Queuing 시스템 특권을
                  지정한다.</p><p>회수 가능한 특권은 다음과 같다. 단, ADMIN 옵션만 선택적으로 회수하는
                  것은 불가능하다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>ENQUEUE_ANY</p>
                      </li><li style="list-style-type: circle">
                        <p>DEQUEUE_ANY</p>
                      </li><li style="list-style-type: circle">
                        <p>MANAGE_ANY</p>
                      </li></ul></div></td></tr><tr><td align="left">grantee</td><td>회수할 대상(사용자, 역할, PUBLIC)을 명시한다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.revoke_system_privilege ('MANAGE_ANY', 'test_aq');
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_START_QUEUE"/>6.2.9. START_QUEUE<a id="d5e2212" class="indexterm"/></h3></div></div></div>
      

      <p>해당 queue의 enqueue 또는 dequeue 기능을 활성화하는 프러시저이다. queue를 생성하고 나면
      START_QUEUE 프러시저를 통해 queue를 활성화해야 하며, 디폴트로 enqueue와 dequeue가 동시에 활성화된다.
      이 동작은 종료와 함께 즉시 반영되며 포함하고 있는 트랜잭션에 영향을 주지 않는다.</p>

      <div class="literallayout"><p/></div>

      <p>START_QUEUE 프러시저<a id="d5e2218" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.START_QUEUE
(
    queue_name          IN VARCHAR2,
    enqueue             IN BOOLEAN      DEFAULT TRUE,
    dequeue             IN BOOLEAN      DEFAULT TRUE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>활성화할 queue의 이름을 명시한다.</td></tr><tr><td align="left">enqueue</td><td><p>enqueue 기능을 활성화할지를 명시한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>TRUE : 활성화된다. (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>FALSE : 이전의 설정을 유지한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">dequeue</td><td><p>dequeue 기능을 활성화할지를 명시한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>TRUE : 활성화된다. (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>FALSE : 이전의 설정을 유지한다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.create_queue_table ('my_qtbl', 'RAW', multiple_consumers=&gt;false);
dbms_aqadm.create_queue ('my_q', 'my_qtbl');
dbms_aqadm.start_queue ('my_q');
end;
/</pre>
        </li></ul></div>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_AQADM_STOP_QUEUE"/>6.2.10. STOP_QUEUE<a id="d5e2260" class="indexterm"/></h3></div></div></div>
      

      <p>해당 queue의 enqueue 또는 dequeue 기능을 비활성화하는 프러시저이다. 디폴트로 enqueue와
      dequeue를 동시에 비활성화시키며, queue에 대해 트랜잭션이 진행중일 때에는 queue를 비활성화시킬 수 없다. 이 동작은
      종료와 함께 즉시 반영되며 포함하고 있는 트랜잭션에 영향을 주지 않는다.</p>

      <div class="literallayout"><p/></div>

      <p>STOP_QUEUE 프러시저<a id="d5e2266" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_AQADM.STOP_QUEUE
(
    queue_name          IN VARCHAR2,
    enqueue             IN BOOLEAN      DEFAULT TRUE,
    dequeue             IN BOOLEAN      DEFAULT TRUE,
    wait                IN BOOLEAN      DEFAULT TRUE
);</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">queue_name</td><td>비활성화할 queue의 이름을 명시한다.</td></tr><tr><td align="left">enqueue</td><td><p>enqueue 기능을 비활성화할지를 명시한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>TRUE : 비활성화된다. (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>FALSE : 이전의 설정을 유지한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">dequeue</td><td><p>dequeue 기능을 비활성화할지를 명시한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>TRUE : 비활성화된다. (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>FALSE : 이전의 설정을 유지한다.</p>
                      </li></ul></div></td></tr><tr><td align="left">wait</td><td><p>현재 진행 중인 트랜잭션이 있다면 그것을 기다릴 것인지를
                  지정한다.</p><div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
                        <p>TRUE : 트랜잭션을 기다리며 해당 queue에 대해 더이상의 추가적인 enqueue
                        또는 dequeue가 수행되지 않는다. (기본값)</p>
                      </li><li style="list-style-type: circle">
                        <p>FALSE : 트랜잭션이 진행 중일 경우 에러를 반환하며 즉시 리턴한다.</p>
                      </li></ul></div></td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">begin
dbms_aqadm.stop_queue ('my_multi_q');
end;
/</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_aq.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_backup_restore.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제5장 DBMS_AQ </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제7장 DBMS_BACKUP_RESTORE</td></tr></table></div><div xmlns="" align="center"/></body></html>