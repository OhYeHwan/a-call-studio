<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제12장 DBMS_ERRLOG</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="up" href="index.html" title="Tibero tbPSM 참조 안내서"/><link rel="prev" href="chap_dbms_debug.html" title="제11장 DBMS_DEBUG"/><link rel="next" href="chap_dbms_fga.html" title="제13장 DBMS_FGA"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제12장 DBMS_ERRLOG</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap_dbms_debug.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chap_dbms_fga.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chap_dbms_errlog"/>제12장 DBMS_ERRLOG</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chap_dbms_errlog.html#d5e3863">12.1. 개요</a></span></dt><dt><span class="section"><a href="chap_dbms_errlog.html#d5e3871">12.2. 프러시저</a></span></dt><dd><dl><dt><span class="section"><a href="chap_dbms_errlog.html#DBMS_ERRLOG_CREATE_ERROR_LOG">12.2.1. CREATE_ERROR_LOG</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 DBMS_ERRLOG 패키지의 기본 개념과 패키지 내의 프러시저와 함수를 사용하는 방법을 설명한다.</p>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3863"/>12.1. 개요</h2></div></div></div>
    

    <p><span><strong class="guibutton">DBMS_ERRLOG</strong></span><a id="d5e3867" class="indexterm"/>는 에러 로깅 테이블(error logging table)을 생성하는 하나의 프러시저를
    제공한다.</p>

    <p>일반적인 DML에서는 에러가 발생하면 실패하고 롤백이 이루어진다. 하지만 DML문에 error_logging_clause를
    명시하면 에러를 발생시키지 않고 에러의 내용과 데이터를 에러 로깅 테이블에 기록하고 수행을 계속하게 된다.</p>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d5e3871"/>12.2. 프러시저</h2></div></div></div>
    

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="DBMS_ERRLOG_CREATE_ERROR_LOG"/>12.2.1. CREATE_ERROR_LOG<a id="d5e3875" class="indexterm"/></h3></div></div></div>
      

      <p>DML의 에러 로깅에 사용할 테이블을 만드는 함수이다.</p>

      <div class="literallayout"><p/></div>

      <p>CREATE_ERROR_LOG 함수<a id="d5e3882" class="indexterm"/>의 세부 내용은 다음과 같다.</p>

      <div class="itemizedlist"><ul type="disc" compact="compact"><li>
          <p>프로토타입</p>

          <pre class="programlisting">DBMS_ERRLOG.CREATE_ERROR_LOG
(
    dml_table_name             IN          VARCHAR2,
    err_log_table_name         IN          VARCHAR2  DEFAULT NULL,
    err_log_table_owner        IN          VARCHAR2  DEFAULT NULL,
    err_log_table_space        IN          VARCHAR2  DEFAULT NULL,
    skip_unsupported           IN          BOOLEAN   DEFAULT FALSE
) 
RETURN RAW</pre>
        </li><li>
          <p>파라미터</p>

          <div class="informaltable">
            <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">파라미터</th><th>설명</th></tr></thead><tbody><tr><td align="left">dml_table_name</td><td>DML의 대상 테이블명이다. 현재 계정 소유의 테이블이라면 테이블명만으로도
                  사용 가능하고,
                  다른 유저 소유의 테이블이라면 USER.TABLE과 같은 형태로 사용할 수 있다.</td></tr><tr><td align="left">err_log_table_name</td><td>에러 로깅 테이블명이다. 명시하지 않으면 ERR$_를 dml_table_name 앞에 붙여서
                  사용한다.</td></tr><tr><td align="left">err_log_table_owner</td><td>에러 로깅 테이블을 생성할 스키마명이다.</td></tr><tr><td align="left">err_log_table_space</td><td>에러 로깅 테이블을 생성할 테이블 스페이스명이다.</td></tr><tr><td align="left">skip_unsupported</td><td>현재 TRUE 값을 지원하지 않는다. FALSE 값으로 고정되어 있다.</td></tr></tbody></table>
          </div>
        </li><li>
          <p>예제</p>

          <pre class="programlisting">SQL&gt; create table p (a number primary key);

Table 'P' created.

SQL&gt; insert into p values (1);

1 row inserted.

SQL&gt; insert into p values (2);

1 row inserted.

SQL&gt; insert into p values (3);

1 row inserted.

SQL&gt; insert into p values (4);

1 row inserted.

SQL&gt; create table f (a number references p(a));

Table 'F' created.

SQL&gt; insert into f values (1);

1 row inserted.

SQL&gt; insert into f values (3);

1 row inserted.

SQL&gt; <span><strong class="guibutton">exec dbms_errlog.create_error_log('f');</strong></span>

PSM completed.

SQL&gt; commit;

Commit completed.

SQL&gt; insert into f (select 1 from dual union all select 5 from dual) 
     log errors reject limit 1;

1 row inserted.

SQL&gt; select * from f;

         A
----------
         1
         3
         1

3 rows selected.

SQL&gt; select * from err$_f;

<span><strong class="guibutton">TIB_ERR_NUMBER$
---------------
TIB_ERR_MESG$
--------------------------------------------------------------------------------
TIB_ERR_ROWID$     TIB_ERR_OPTYP$
------------------ --------------------
TIB_ERR_TAG$
--------------------------------------------------------------------------------
A
--------------------------------------------------------------------------------</strong></span>
         -10008
 INTEGRITY constraint ('SYS'.'SYS_CON25700497') violated: primary key not found.

                   I

5

1 row selected.</pre>
        </li></ul></div>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap_dbms_debug.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chap_dbms_fga.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제11장 DBMS_DEBUG </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제13장 DBMS_FGA</td></tr></table></div><div xmlns="" align="center"/></body></html>